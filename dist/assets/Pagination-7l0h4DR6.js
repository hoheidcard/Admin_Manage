import{k,B as A,d as p,D as S,o as l,c as r,a as c,i as g,t as v,F as y,z as C,C as x,w as E,p as _,y as B}from"./index-DwPljJjs.js";const D={class:"entries"},q={class:"pagination"},V={key:0,class:"nav-btn-deactive"},$=["disabled","onClick"],z={key:1,class:"page-dought"},F={key:2,class:"select-wrapper"},T=["value"],L={key:2,class:"nav-btn-deactive"},j={__name:"Pagination",props:{currentPage:{type:Number,required:!0},totalItem:{type:Number,required:!0},itemsPerPage:{type:Number,required:!0},visiblePageCount:{type:Number,default:3},showEllipsisAfter:{type:Boolean,default:!0}},setup(u){const t=u;let i=k(Math.ceil(t.totalItem/t.itemsPerPage));const M=A(),d=k(t.currentPage),P=e=>{if(e!=="...."){if(e<1||e>i.value)return;M.emit("update:currentPage",e),d.value=e}};function w(e){return t.currentPage===e}const b=()=>{const e=t.totalItem>0?(t.currentPage-1)*t.itemsPerPage+1:0,a=Math.min((t.currentPage-1)*t.itemsPerPage+t.itemsPerPage,t.totalItem);return{displayStart:e,displayEnd:a}},m=p(()=>{i.value=Math.ceil(t.totalItem/t.itemsPerPage);const e=t.currentPage,a=t.visiblePageCount,s=t.showEllipsisAfter;if(i.value<=a)return Array.from({length:i.value},(o,f)=>f+1);const n=[];if(e<=Math.ceil(a/2))for(let o=1;o<=a;o++)n.push(o);else if(e>=i.value-Math.floor(a/2))for(let o=i.value-a+1;o<=i.value;o++)n.push(o);else{const o=e-Math.floor(a/2),f=e+Math.floor(a/2);for(let h=o;h<=f;h++)n.push(h)}return s&&e>1&&n.unshift("...."),s&&e+1<i.value&&n.push("...."),n}),I=p(()=>Array.from({length:i.value},(e,a)=>a+1)),N=()=>{P(d.value)};return S(()=>t.currentPage,e=>{i.value=Math.ceil(t.totalItem/t.itemsPerPage),d.value=e,m.value.includes(e)||P(m.value[0])}),(e,a)=>(l(),r(y,null,[c("div",D,[g(" Showing "),c("span",null,v(b().displayStart),1),g(" to "),c("span",null,v(b().displayEnd),1),g(" of "),c("span",null,v(u.totalItem),1),g(" entries ")]),c("div",q,[u.currentPage===1?(l(),r("div",V,"Prev")):(l(),r("span",{key:1,class:"nav-btn",onClick:a[0]||(a[0]=s=>P(u.currentPage-1))}," Prev ")),(l(!0),r(y,null,C(m.value,s=>(l(),r("div",{class:"page-name flex",key:s},[s!=="...."&&s!==u.currentPage?(l(),r("button",{key:0,class:x(["page",{active:w(s)}]),type:"button",disabled:s.isDisabled,onClick:n=>P(s)},v(s),11,$)):s==="...."?(l(),r("div",z,v(s),1)):(l(),r("div",F,[E(c("select",{"onUpdate:modelValue":a[1]||(a[1]=n=>d.value=n),onChange:N},[(l(!0),r(y,null,C(I.value,n=>(l(),r("option",{key:n,value:n},v(n),9,T))),128))],544),[[_,d.value]])]))]))),128)),u.currentPage===B(i)?(l(),r("div",L,"Next")):(l(),r("span",{key:3,class:"nav-btn",onClick:a[2]||(a[2]=s=>P(u.currentPage+1))}," Next "))])],64))}};export{j as default};
