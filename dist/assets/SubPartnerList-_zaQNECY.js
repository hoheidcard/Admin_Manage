import{u as Z,s as tt,x as st,d as ot,e as et,n as nt,D as at,r as n,o as c,c as d,a as t,b as a,w as v,v as it,p as lt,F as ct,z as dt,f as p,g as k,i as rt,t as r,j as u,E as C}from"./index-DwPljJjs.js";const ut={class:"faq-page"},_t={class:"table-card card"},pt={class:"table-header"},ht={class:"left"},vt={class:"title-row"},gt={class:"icon"},mt=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Sub Partners : List"),t("h5",{class:"main-title"},"Our Sub Partners")],-1),bt={class:"right"},ft={class:"searchbar"},kt={class:"icon"},Ct={class:"searchbar"},yt={class:"select-dropdown"},It=t("option",{value:"ACTIVE"},"ACTIVE",-1),St=t("option",{value:"PENDING"},"PENDING",-1),wt=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),Pt=[It,St,wt],Dt={class:"table-body p-16"},Et={class:"table-outer"},Vt={class:"table"},Nt=t("thead",null,[t("th"),t("th",null,"Name"),t("th",null,"Phone No"),t("th",null,"Created By"),t("th",null,"Address"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),Tt={key:0,class:"zoom-image"},Mt=["src"],At={key:0,class:"badge success-badge"},$t={key:1,class:"badge warning-badge"},xt={key:2,class:"badge danger-badge"},Ut={class:"option-btns"},zt=["onClick"],Bt=t("div",{class:"tooltip"},"Edit",-1),qt=["onClick"],Gt=t("div",{class:"tooltip"},"Change Status",-1),Rt=["onClick"],Ft=t("div",{class:"tooltip"},"Sub Partner",-1),Lt=["onClick"],Ot=t("div",{class:"tooltip"},"My School",-1),jt=["onClick"],Ht=t("div",{class:"tooltip"},"My College",-1),Jt=["onClick"],Kt=t("div",{class:"tooltip"},"My Organizations",-1),Qt=["onClick"],Wt=t("div",{class:"tooltip"},"Setttngs",-1),Xt={key:0,class:"table-no-data"},Yt=t("div",null,"No records Found!",-1),Zt=[Yt],ts={key:1,class:"table-footer"},ss=t("div",{class:"title",showHeader:"true"},"Change Status",-1),os={class:"status-row"},es={for:"approve",class:"data"},ns={class:"data-inner approve-card"},as=t("div",{class:"title"},"ACTIVE",-1),is={for:"pending",class:"data"},ls={class:"data-inner pending-card"},cs=t("div",{class:"title"},"PENDING",-1),ds={for:"block",class:"data"},rs={class:"data-inner block-card"},us=t("div",{class:"title"},"DEACTIVE",-1),_s={class:"modal-footer"},ps={class:"btns"},vs={__name:"SubPartnerList",props:{fromDate:{type:String,default:!0},toDate:{type:String,required:!0},all:{type:String,required:!0}},setup(T){const m=T,b=Z();tt();const y=st(),i=ot(()=>b.state.Dashboard),o=et({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"SUB PARTNER",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,partnersId:null,partnersAccountId:null,changeStatus:null});nt(()=>{g()}),at(()=>o.keyword,()=>{clearTimeout(o.typingTimer),o.typingTimer=setTimeout(()=>{o.limit=10,o.offset=0,o.currentPage=1,g()},o.typingDelay)});function g(){b.dispatch("Dashboard/getPartners",{limit:o.limit,offset:o.offset,keyword:o.keyword,status:o.status,fromDate:m.fromDate,toDate:m.toDate,roles:o.roles,all:m.all})}function M(l,e){o.changeStatus=e,o.partnersId=l,i.value.statusModal=!0}function A(){b.dispatch("Partners/updatePartnersStatus",{id:o.partnersId,status:o.changeStatus}),i.value.statusModal=!1}const $=l=>{o.currentPage=l,o.offset=o.limit*(l-1),g()};function x(){g()}function U(l,e){y.push({path:e,query:{id:l}})}function h(l,e,f){y.push({path:f,query:{id:l,settingId:e}})}return(l,e)=>{var I,S;const f=n("icon-partner"),z=n("icon-search"),B=n("router-link"),q=n("icon-edit"),G=n("icon-status"),R=n("icon-menu"),F=n("icon-school"),L=n("icon-college"),O=n("icon-organizations"),j=n("icon-setting"),H=n("Pagination"),J=n("icon-cross"),K=n("icon-success"),Q=n("icon-warning"),W=n("icon-block"),X=n("Modal");return c(),d("section",ut,[t("div",_t,[t("div",pt,[t("div",ht,[t("div",vt,[t("div",gt,[a(f)]),mt])]),t("div",bt,[t("div",ft,[v(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[it,o.keyword]]),t("div",kt,[a(z)])]),t("div",Ct,[t("div",yt,[v(t("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=s=>o.status=s),onChange:x},Pt,544),[[lt,o.status]])])])])]),t("div",Dt,[t("div",Et,[t("table",Vt,[Nt,t("tbody",null,[(c(!0),d(ct,null,dt(i.value.partnersData,(s,Y)=>{var w,P,D,E,V,N;return c(),d("tr",{key:Y},[t("td",null,[s.logo?(c(),d("div",Tt,[t("img",{src:`${s.logo}?width=200`,alt:""},null,8,Mt)])):p("",!0)]),t("td",null,[a(B,{to:`/crm/partners/setting/department?id=${s.id}&settingId=${s.settingId}`,class:"profile-link hover-color"},{default:k(()=>[rt(r(s.firmName),1)]),_:2},1032,["to"])]),t("td",null,r((w=s.account)==null?void 0:w.phoneNumber),1),t("td",null,r(((D=(P=s.updated)==null?void 0:P.staffDetail)==null?void 0:D.name)||((V=(E=s.updated)==null?void 0:E.partnerDetail[0])==null?void 0:V.firmName)),1),t("td",null,r(s.state)+"/"+r(s.city),1),t("td",null,r((N=s.account)==null?void 0:N.roles),1),t("td",null,[s.status==="ACTIVE"?(c(),d("div",At,r(s.status),1)):p("",!0),s.status==="PENDING"?(c(),d("div",$t,r(s.status),1)):p("",!0),s.status==="DEACTIVE"?(c(),d("div",xt,r(s.status),1)):p("",!0)]),t("td",null,[t("div",Ut,[t("div",{class:"icon tooltip-wrapper",onClick:_=>U(s.id,"/crm/edit-partners")},[a(q),Bt],8,zt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>M(s.id,s.status),["prevent"])},[a(G),Gt],8,qt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.accountId,s.settingId,"/crm/sub-partners"),["prevent"])},[a(R),Ft],8,Rt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.accountId,s.settingId,"/crm/partners/schools"),["prevent"])},[a(F),Ot],8,Lt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.accountId,s.settingId,"/crm/partners/colleges"),["prevent"])},[a(L),Ht],8,jt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.accountId,s.settingId,"/crm/partners/organizations"),["prevent"])},[a(O),Kt],8,Jt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/partners/setting"),["prevent"])},[a(j),Wt],8,Qt)])])])}),128))])])]),((I=i.value.partnersData)==null?void 0:I.length)<=0?(c(),d("div",Xt,Zt)):p("",!0),((S=i.value.partnersData)==null?void 0:S.length)>0?(c(),d("div",ts,[a(H,{currentPage:o.currentPage,totalItem:i.value.totalPartners,itemsPerPage:o.limit,"onUpdate:currentPage":e[2]||(e[2]=s=>$(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):p("",!0)])]),a(X,{show:i.value.statusModal,"onUpdate:show":e[8]||(e[8]=s=>i.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:k(()=>[ss,t("div",{class:"close-btn",onClick:e[3]||(e[3]=u(s=>i.value.statusModal=!1,["prevent"]))},[a(J)])]),default:k(()=>[t("div",os,[t("label",es,[v(t("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=s=>o.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[C,o.changeStatus]]),t("div",ns,[a(K),as])]),t("label",is,[v(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=s=>o.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[C,o.changeStatus]]),t("div",ls,[a(Q),cs])]),t("label",ds,[v(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=s=>o.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[C,o.changeStatus]]),t("div",rs,[a(W),us])])]),t("div",_s,[t("div",ps,[t("div",{class:"btn red-btn",onClick:e[7]||(e[7]=u(s=>i.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:A},"Submit")])])]),_:1},8,["show"])])}}};export{vs as default};
