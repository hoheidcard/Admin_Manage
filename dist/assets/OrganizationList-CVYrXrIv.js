import{u as j,s as H,x as Z,d as J,e as K,n as Q,D as W,r as e,o as d,c as r,a as t,b as a,w as p,v as X,p as Y,j as u,F as tt,z as st,f as _,g as S,y as ot,t as i,E as f}from"./index-DwPljJjs.js";const nt={class:"faq-page"},et={class:"container"},at={class:"table-card card"},it={class:"table-header"},lt={class:"left"},ct={class:"title-row"},dt={class:"icon"},rt=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Organization : List"),t("h5",{class:"main-title"},"Our Organization")],-1),ut={class:"right"},_t={class:"searchbar"},pt={class:"icon"},ht={class:"searchbar"},vt={class:"select-dropdown"},gt=t("option",{value:"ACTIVE"},"ACTIVE",-1),mt=t("option",{value:"PENDING"},"PENDING",-1),bt=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),ft=[gt,mt,bt],yt={class:"icons"},Ct=t("div",{class:"tooltip"},"Add Organization",-1),kt={class:"table-body p-16"},wt={class:"table-outer"},It={class:"table"},Et=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Contact No"),t("th",null,"Owner Name"),t("th",null,"Address"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),zt={key:0,class:"badge success-badge"},St={key:1,class:"badge warning-badge"},Nt={key:2,class:"badge danger-badge"},Vt={class:"option-btns"},Tt=["onClick"],Dt=t("div",{class:"tooltip"},"Edit",-1),Pt=["onClick"],At=t("div",{class:"tooltip"},"Change Status",-1),Mt=["onClick"],Ot=t("div",{class:"tooltip"},"My Branch",-1),Ut=["onClick"],$t=t("div",{class:"tooltip"},"My Staff",-1),xt=["onClick"],Bt=t("div",{class:"tooltip"},"Setttngs",-1),Gt={key:0,class:"table-no-data"},qt=t("div",null,"No records Found!",-1),Lt=[qt],Rt={key:1,class:"table-footer"},Ft=t("div",{class:"title",showHeader:"true"},"Change Status",-1),jt={class:"status-row"},Ht={for:"approve",class:"data"},Zt={class:"data-inner approve-card"},Jt=t("div",{class:"title"},"ACTIVE",-1),Kt={for:"pending",class:"data"},Qt={class:"data-inner pending-card"},Wt=t("div",{class:"title"},"PENDING",-1),Xt={for:"block",class:"data"},Yt={class:"data-inner block-card"},ts=t("div",{class:"title"},"DEACTIVE",-1),ss={class:"modal-footer"},os={class:"btns"},as={__name:"OrganizationList",setup(ns){const g=j(),y=H(),C=Z(),l=J(()=>g.state.Organization),o=K({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"ORGANIZATION",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,organizationId:null,organizationAccountId:null,changeStatus:null});Q(()=>{h()}),W(()=>o.keyword,()=>{clearTimeout(o.typingTimer),o.typingTimer=setTimeout(()=>{o.limit=10,o.offset=0,o.currentPage=1,h()},o.typingDelay)});function h(){g.dispatch("Organization/getOrganizationByCreator",{id:y.query.id,limit:o.limit,offset:o.offset,keyword:o.keyword,status:o.status,roles:o.roles})}function N(c,n){o.changeStatus=n,o.organizationId=c,l.value.statusModal=!0}function V(){g.dispatch("Organization/updateOrganizationStatus",{id:o.organizationId,status:o.changeStatus})}const T=c=>{o.currentPage=c,o.offset=o.limit*(c-1),h()};function D(){h()}function k(c,n){C.push({path:n,query:{id:c}})}function m(c,n,b){C.push({path:b,query:{id:c,settingId:n}})}return(c,n)=>{var w,I;const b=e("icon-help"),P=e("icon-search"),A=e("icon-plus"),M=e("icon-edit"),O=e("icon-status"),U=e("icon-menu"),$=e("icon-user-list"),x=e("icon-setting"),B=e("Pagination"),G=e("icon-cross"),q=e("icon-success"),L=e("icon-warning"),R=e("icon-block"),F=e("Modal");return d(),r("section",nt,[t("div",et,[t("div",at,[t("div",it,[t("div",lt,[t("div",ct,[t("div",dt,[a(b)]),rt])]),t("div",ut,[t("div",_t,[p(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[X,o.keyword]]),t("div",pt,[a(P)])]),t("div",ht,[t("div",vt,[p(t("select",{name:"",id:"","onUpdate:modelValue":n[1]||(n[1]=s=>o.status=s),onChange:D},ft,544),[[Y,o.status]])])]),t("div",yt,[t("div",{class:"icon tooltip-wrapper",onClick:n[2]||(n[2]=u(s=>k(ot(y).query.id,"/crm/partners/add-organization"),["prevent"]))},[a(A),Ct])])])]),t("div",kt,[t("div",wt,[t("table",It,[Et,t("tbody",null,[(d(!0),r(tt,null,st(l.value.organizationData,(s,E)=>{var z;return d(),r("tr",{key:E},[t("td",null,i(E+1),1),t("td",null,i(s.name),1),t("td",null,i(s.email),1),t("td",null,i(s.contactNo),1),t("td",null,i(s.ownerName),1),t("td",null,i(s.address),1),t("td",null,i(s.type),1),t("td",null,[s.status==="ACTIVE"?(d(),r("div",zt,i(s.status),1)):_("",!0),s.status==="PENDING"?(d(),r("div",St,i(s.status),1)):_("",!0),s.status==="DEACTIVE"?(d(),r("div",Nt,i(s.status),1)):_("",!0)]),t("td",null,[t("div",Vt,[t("div",{class:"icon tooltip-wrapper",onClick:v=>k(s.id,"/crm/edit-organization")},[a(M),Dt],8,Tt),t("div",{class:"icon tooltip-wrapper",onClick:u(v=>N(s.id,s.status),["prevent"])},[a(O),At],8,Pt),((z=s.setting)==null?void 0:z.type)==="MULTI"?(d(),r("div",{key:0,class:"icon tooltip-wrapper",onClick:u(v=>m(s.id,s.settingId,"/crm/school/my-branch",s.accountId),["prevent"])},[a(U),Ot],8,Mt)):_("",!0),t("div",{class:"icon tooltip-wrapper",onClick:u(v=>m(s.id,s.settingId,"/crm/organization/my-staff",s.accountId),["prevent"])},[a($),$t],8,Ut),t("div",{class:"icon tooltip-wrapper",onClick:u(v=>m(s.id,s.settingId,"/crm/organization/setting/designation?"),["prevent"])},[a(x),Bt],8,xt)])])])}),128))])])]),((w=l.value.organizationData)==null?void 0:w.length)<=0?(d(),r("div",Gt,Lt)):_("",!0),((I=l.value.organizationData)==null?void 0:I.length)>0?(d(),r("div",Rt,[a(B,{currentPage:o.currentPage,totalItem:l.value.totalOrganization,itemsPerPage:o.limit,"onUpdate:currentPage":n[3]||(n[3]=s=>T(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):_("",!0)])])]),a(F,{show:l.value.statusModal,"onUpdate:show":n[9]||(n[9]=s=>l.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:S(()=>[Ft,t("div",{class:"close-btn",onClick:n[4]||(n[4]=u(s=>l.value.statusModal=!1,["prevent"]))},[a(G)])]),default:S(()=>[t("div",jt,[t("label",Ht,[p(t("input",{type:"radio","onUpdate:modelValue":n[5]||(n[5]=s=>o.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[f,o.changeStatus]]),t("div",Zt,[a(q),Jt])]),t("label",Kt,[p(t("input",{type:"radio","onUpdate:modelValue":n[6]||(n[6]=s=>o.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[f,o.changeStatus]]),t("div",Qt,[a(L),Wt])]),t("label",Xt,[p(t("input",{type:"radio","onUpdate:modelValue":n[7]||(n[7]=s=>o.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[f,o.changeStatus]]),t("div",Yt,[a(R),ts])])]),t("div",ss,[t("div",os,[t("div",{class:"btn red-btn",onClick:n[8]||(n[8]=u(s=>l.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:V},"Submit")])])]),_:1},8,["show"])])}}};export{as as default};
