import{u as h,s as p,x as g,d as u,e as m,n as b,r as S,o as d,c as l,a as s,b as y,F as C,z as I,t as x,w as z,A as V}from"./index-DwPljJjs.js";const F={class:"user-activity user-profile"},k={class:"table-card"},w={class:"table-header"},D={class:"left"},N={class:"title-row"},B={class:"icon"},O=s("div",{class:"titles"},[s("div",{class:"sub-title"},"CSV : List"),s("h5",{class:"main-title"},"CSV")],-1),j=s("div",{class:"right"},null,-1),q={class:"download-body"},E={class:"data"},M={class:"title"},J={class:"val"},L=["onUpdate:modelValue"],U={__name:"DownloadCsvPermission",setup(P){const c=h(),i=p();g();const e=u(()=>c.state.OrganizationSettings),t=m({organizationSettingId:null,organizationId:null,editMode:!1,subjectId:null,name:null,fields:[]});b(()=>{i.query.id&&(t.organizationSettingId=i.query.settingId,t.organizationId=i.query.id)});function _(){e.value.csvData.forEach(a=>{const r=t.fields.findIndex(o=>o===a.name);a.status&&r<0&&t.fields.push(a.name)}),c.dispatch("OrganizationSettings/updateCsvField",{id:t.organizationSettingId,csvFields:JSON.stringify(t.fields),staffCsvFields:e.value.staffCsvFields}),e.value.studentCsvFields=JSON.stringify(t.fields),t.fields=[]}return u(()=>{if(!t.name)return"Please Enter Name"}),(a,r)=>{const o=S("icon-user");return d(),l("section",F,[s("div",k,[s("div",w,[s("div",D,[s("div",N,[s("div",B,[y(o)]),O])]),j]),s("div",q,[(d(!0),l(C,null,I(e.value.csvData,(n,v)=>(d(),l("div",{class:"body-item",key:v},[s("div",E,[s("div",M,x(n.title),1),s("div",J,[z(s("input",{class:"pointer","onUpdate:modelValue":f=>n.status=f,type:"checkbox",name:"",id:""},null,8,L),[[V,n.status]])])])]))),128))]),s("div",{class:"card-footer"},[s("div",{class:"btns flex"},[s("div",{class:"btn white-btn",onClick:_},"Submit")])])])])}}};export{U as default};
