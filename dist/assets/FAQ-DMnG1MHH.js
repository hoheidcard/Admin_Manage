import{u as L,d as y,e as j,n as z,D as R,r as l,o as d,c,a as t,b as n,w as _,v as w,p as J,j as r,F as K,z as O,f as v,g as h,t as u,E as q}from"./index-DwPljJjs.js";import{_ as W}from"./delete-ClllWuc2.js";const X={class:"faq-page"},Y={class:"container"},Z={class:"table-card card"},tt={class:"table-header"},st={class:"left"},et={class:"title-row"},ot={class:"icon"},at=t("div",{class:"titles"},[t("div",{class:"sub-title"},"FAQ : List"),t("h5",{class:"main-title"},"Frequently Asked Questions")],-1),nt={class:"right"},lt={class:"searchbar"},it={class:"icon"},dt={class:"searchbar"},ct={class:"select-dropdown"},rt=t("option",{value:"ACTIVE"},"ACTIVE",-1),ut=t("option",{value:"PENDING"},"PENDING",-1),_t=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),vt=[rt,ut,_t],ht={class:"icons"},pt=t("div",{class:"tooltip"},"Add FAQ",-1),ft={class:"table-body p-16"},mt={class:"table-outer"},bt={class:"table"},gt=t("thead",null,[t("th",null,"#"),t("th",null,"FAQ Question"),t("th",null,"FAQ Answer"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),wt={key:0,class:"badge success-badge"},qt={key:1,class:"badge warning-badge"},Ct={key:2,class:"badge danger-badge"},kt={class:"option-btns"},Mt=["onClick"],yt=t("div",{class:"tooltip"},"Edit",-1),At=["onClick"],Et=t("div",{class:"tooltip"},"Status Change",-1),Ft={key:0,class:"table-no-data"},Vt=t("div",null,"No records Found!",-1),It=[Vt],St={key:1,class:"table-footer"},Dt={class:"title",showHeader:"true"},Pt={class:"form mb-16"},Tt={class:"form-item mb-16"},Nt=t("div",{class:"title"},"FAQ Question",-1),Qt=["disabled"],Ut={key:0,class:"err-msg"},xt={class:"form-item mb-16"},$t=t("div",{class:"title"},"FAQ Answer",-1),Gt={class:"modal-footer"},Bt={class:"btns"},Ht=t("div",{class:"title",showHeader:"true"},"Change Status",-1),Lt={class:"status-row"},jt={for:"approve",class:"data"},zt={class:"data-inner approve-card"},Rt=t("div",{class:"title"},"ACTIVE",-1),Jt={for:"pending",class:"data"},Kt={class:"data-inner pending-card"},Ot=t("div",{class:"title"},"PENDING",-1),Wt={for:"block",class:"data"},Xt={class:"data-inner block-card"},Yt=t("div",{class:"title"},"DEACTIVE",-1),Zt={class:"modal-footer"},ts={class:"btns"},ss=t("div",{class:"title",showHeader:"true"},"Delete",-1),es=t("div",{class:"delete-icon"},[t("img",{src:W,alt:""})],-1),os=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1),as={class:"modal-footer"},ns={class:"btns"},ls=t("div",{class:"btn white-btn"},"Delete",-1),rs={__name:"FAQ",setup(is){const p=L(),a=y(()=>p.state.Faqs),s=j({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",changeStatus:null,currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,faqId:null,question:null,answer:null});z(()=>{f()}),R(()=>s.keyword,()=>{clearTimeout(s.typingTimer),s.typingTimer=setTimeout(()=>{s.limit=10,s.offset=0,s.currentPage=1,f()},s.typingDelay)});function f(){p.dispatch("Faqs/getFaq",{limit:s.limit,offset:s.offset,keyword:s.keyword,status:s.status})}function A(){a.value.faqModal=!0,s.editMode=!1,s.question=null,s.answer=null}function E(i){a.value.faqModal=!0,s.editMode=!0,s.faqId=i.id,s.question=i.question,s.answer=i.answer}function F(i,o){s.changeStatus=o,s.faqId=i,a.value.statusModal=!0}function V(){if(m.value){s.submit=!0;return}s.submit=!1,s.editMode?p.dispatch("Faqs/updateFaq",{id:s.faqId,answer:s.answer}):p.dispatch("Faqs/addFaq",{question:s.question,answer:s.answer,changeStatus:s.status})}function I(){p.dispatch("Faqs/updateFaqStatus",{id:s.faqId,status:s.changeStatus})}const S=i=>{s.currentPage=i,s.offset=s.limit*(i-1),f()};function D(){f()}const m=y(()=>{if(!s.question)return"Please Enter Question"});return(i,o)=>{var C,k;const P=l("icon-help"),T=l("icon-search"),N=l("icon-plus"),Q=l("icon-edit"),U=l("icon-setting"),x=l("Pagination"),b=l("icon-cross"),g=l("Modal"),$=l("icon-success"),G=l("icon-warning"),B=l("icon-block");return d(),c("section",X,[t("div",Y,[t("div",Z,[t("div",tt,[t("div",st,[t("div",et,[t("div",ot,[n(P)]),at])]),t("div",nt,[t("div",lt,[_(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>s.keyword=e),placeholder:"Search here"},null,512),[[w,s.keyword]]),t("div",it,[n(T)])]),t("div",dt,[t("div",ct,[_(t("select",{name:"",id:"","onUpdate:modelValue":o[1]||(o[1]=e=>s.status=e),onChange:D},vt,544),[[J,s.status]])])]),t("div",ht,[t("div",{class:"icon tooltip-wrapper",onClick:r(A,["prevent"])},[n(N),pt])])])]),t("div",ft,[t("div",mt,[t("table",bt,[gt,t("tbody",null,[(d(!0),c(K,null,O(a.value.faqData,(e,M)=>(d(),c("tr",{key:M},[t("td",null,u(M+1),1),t("td",null,u(e.question),1),t("td",null,u(e.answer),1),t("td",null,[e.status==="ACTIVE"?(d(),c("div",wt,u(e.status),1)):v("",!0),e.status==="PENDING"?(d(),c("div",qt,u(e.status),1)):v("",!0),e.status==="DEACTIVE"?(d(),c("div",Ct,u(e.status),1)):v("",!0)]),t("td",null,[t("div",kt,[t("div",{class:"icon tooltip-wrapper",onClick:H=>E(e)},[n(Q),yt],8,Mt),t("div",{class:"icon tooltip-wrapper",onClick:r(H=>F(e.id,e.status),["prevent"])},[n(U),Et],8,At)])])]))),128))])])]),((C=a.value.faqData)==null?void 0:C.length)<=0?(d(),c("div",Ft,It)):v("",!0),((k=a.value.faqData)==null?void 0:k.length)>0?(d(),c("div",St,[n(x,{currentPage:s.currentPage,totalItem:a.value.totalFaq,itemsPerPage:s.limit,"onUpdate:currentPage":o[2]||(o[2]=e=>S(e))},null,8,["currentPage","totalItem","itemsPerPage"])])):v("",!0)])])]),n(g,{show:a.value.faqModal,"onUpdate:show":o[7]||(o[7]=e=>a.value.faqModal=e),class:"faq-modal",headerClasses:"header-bg"},{header:h(()=>[t("div",Dt,u(s.editMode?"Update FAQ":"Add FAQ"),1),t("div",{class:"close-btn",onClick:o[3]||(o[3]=r(e=>a.value.faqModal=!1,["prevent"]))},[n(b)])]),default:h(()=>[t("form",Pt,[t("div",Tt,[Nt,_(t("input",{type:"text","onUpdate:modelValue":o[4]||(o[4]=e=>s.question=e),placeholder:"Enter Question",disabled:s.editMode},null,8,Qt),[[w,s.question]]),s.submit&&m.value?(d(),c("div",Ut,u(m.value),1)):v("",!0)]),t("div",xt,[$t,_(t("textarea",{name:"","onUpdate:modelValue":o[5]||(o[5]=e=>s.answer=e),id:"",rows:"10",placeholder:"Enter Answer"},null,512),[[w,s.answer]])])]),t("div",Gt,[t("div",Bt,[t("div",{class:"btn red-btn",onClick:o[6]||(o[6]=r(e=>a.value.faqModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:V},"Submit")])])]),_:1},8,["show"]),n(g,{show:a.value.statusModal,"onUpdate:show":o[13]||(o[13]=e=>a.value.statusModal=e),class:"status-modal",headerClasses:"header-bg"},{header:h(()=>[Ht,t("div",{class:"close-btn",onClick:o[8]||(o[8]=r(e=>a.value.statusModal=!1,["prevent"]))},[n(b)])]),default:h(()=>[t("div",Lt,[t("label",jt,[_(t("input",{type:"radio","onUpdate:modelValue":o[9]||(o[9]=e=>s.changeStatus=e),value:"ACTIVE",id:"approve",name:"status"},null,512),[[q,s.changeStatus]]),t("div",zt,[n($),Rt])]),t("label",Jt,[_(t("input",{type:"radio","onUpdate:modelValue":o[10]||(o[10]=e=>s.changeStatus=e),value:"PENDING",id:"pending",name:"status"},null,512),[[q,s.changeStatus]]),t("div",Kt,[n(G),Ot])]),t("label",Wt,[_(t("input",{type:"radio","onUpdate:modelValue":o[11]||(o[11]=e=>s.changeStatus=e),value:"DEACTIVE",id:"block",name:"status"},null,512),[[q,s.changeStatus]]),t("div",Xt,[n(B),Yt])])]),t("div",Zt,[t("div",ts,[t("div",{class:"btn red-btn",onClick:o[12]||(o[12]=r(e=>a.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:I},"Submit")])])]),_:1},8,["show"]),n(g,{show:a.value.confirmModal,"onUpdate:show":o[16]||(o[16]=e=>a.value.confirmModal=e),class:"confirm-modal",headerClasses:"header-bg"},{header:h(()=>[ss,t("div",{class:"close-btn",onClick:o[14]||(o[14]=r(e=>a.value.confirmModal=!1,["prevent"]))},[n(b)])]),default:h(()=>[es,os,t("div",as,[t("div",ns,[t("div",{class:"btn red-btn",onClick:o[15]||(o[15]=r(e=>a.value.confirmModal=!1,["prevent"]))}," Cancel "),ls])])]),_:1},8,["show"])])}}};export{rs as default};
