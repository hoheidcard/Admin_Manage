import{u as Y,s as Z,x as tt,d as st,e as ot,n as et,D as nt,r as n,o as l,c as d,a as t,b as a,w as v,v as at,p as it,j as r,F as ct,z as lt,f as p,g as C,i as dt,t as u,E as f}from"./index-DwPljJjs.js";const rt={class:"faq-page"},ut={class:"container"},_t={class:"table-card card"},pt={class:"table-header"},ht={class:"left"},vt={class:"title-row"},gt={class:"icon"},mt=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Partners : List"),t("h5",{class:"main-title"},"Our Partners")],-1),bt={class:"right"},Ct={class:"searchbar"},ft={class:"icon"},kt={class:"searchbar"},yt={class:"select-dropdown"},It=t("option",{value:"ACTIVE"},"ACTIVE",-1),Pt=t("option",{value:"PENDING"},"PENDING",-1),wt=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),Et=[It,Pt,wt],St={class:"icons"},Vt=t("div",{class:"tooltip"},"Add Partners",-1),Nt={class:"table-body p-16"},Dt={class:"table-outer"},Tt={class:"table"},Mt=t("thead",null,[t("th",null,"Logo"),t("th",null,"Name"),t("th",null,"Phone No"),t("th",null,"Created By"),t("th",null,"State/City"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),At={key:0,class:"zoom-image"},$t=["src"],xt={key:0,class:"badge success-badge"},Ut={key:1,class:"badge warning-badge"},zt={key:2,class:"badge danger-badge"},Bt={class:"option-btns"},Gt=["onClick"],Rt=t("div",{class:"tooltip"},"Edit",-1),Lt=["onClick"],qt=t("div",{class:"tooltip"},"Change Status",-1),Ft=["onClick"],Ot=t("div",{class:"tooltip"},"Sub Partner",-1),jt=["onClick"],Ht=t("div",{class:"tooltip"},"My School",-1),Jt=["onClick"],Kt=t("div",{class:"tooltip"},"My College",-1),Qt=["onClick"],Wt=t("div",{class:"tooltip"},"My Organizations",-1),Xt=["onClick"],Yt=t("div",{class:"tooltip"},"Setttngs",-1),Zt={key:0,class:"table-no-data"},ts=t("div",null,"No records Found!",-1),ss=[ts],os={key:1,class:"table-footer"},es=t("div",{class:"title",showHeader:"true"},"Change Status",-1),ns={class:"status-row"},as={for:"approve",class:"data"},is={class:"data-inner approve-card"},cs=t("div",{class:"title"},"ACTIVE",-1),ls={for:"pending",class:"data"},ds={class:"data-inner pending-card"},rs=t("div",{class:"title"},"PENDING",-1),us={for:"block",class:"data"},_s={class:"data-inner block-card"},ps=t("div",{class:"title"},"DEACTIVE",-1),hs={class:"modal-footer"},vs={class:"btns"},bs={__name:"PartnerList",setup(gs){const m=Y();Z();const k=tt(),i=st(()=>m.state.Partners),o=ot({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"PARTNER",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,partnersId:null,partnersAccountId:null,changeStatus:null});et(()=>{g()}),nt(()=>o.keyword,()=>{clearTimeout(o.typingTimer),o.typingTimer=setTimeout(()=>{o.limit=10,o.offset=0,o.currentPage=1,g()},o.typingDelay)});function g(){m.dispatch("Partners/getPartners",{limit:o.limit,offset:o.offset,keyword:o.keyword,status:o.status,roles:o.roles})}function T(c,e){o.changeStatus=e,o.partnersId=c,i.value.statusModal=!0}function M(){m.dispatch("Partners/updatePartnersStatus",{id:o.partnersId,status:o.changeStatus})}const A=c=>{o.currentPage=c,o.offset=o.limit*(c-1),g()};function $(){g()}function y(c,e){k.push({path:e,query:{id:c}})}function h(c,e,b){k.push({path:b,query:{id:c,settingId:e}})}return(c,e)=>{var I,P;const b=n("icon-partner"),x=n("icon-search"),U=n("icon-plus"),z=n("router-link"),B=n("icon-edit"),G=n("icon-status"),R=n("icon-menu"),L=n("icon-school"),q=n("icon-college"),F=n("icon-organizations"),O=n("icon-setting"),j=n("Pagination"),H=n("icon-cross"),J=n("icon-success"),K=n("icon-warning"),Q=n("icon-block"),W=n("Modal");return l(),d("section",rt,[t("div",ut,[t("div",_t,[t("div",pt,[t("div",ht,[t("div",vt,[t("div",gt,[a(b)]),mt])]),t("div",bt,[t("div",Ct,[v(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[at,o.keyword]]),t("div",ft,[a(x)])]),t("div",kt,[t("div",yt,[v(t("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=s=>o.status=s),onChange:$},Et,544),[[it,o.status]])])]),t("div",St,[t("div",{class:"icon tooltip-wrapper",onClick:e[2]||(e[2]=r(s=>y(null,"/crm/add-partners"),["prevent"]))},[a(U),Vt])])])]),t("div",Nt,[t("div",Dt,[t("table",Tt,[Mt,t("tbody",null,[(l(!0),d(ct,null,lt(i.value.partnersData,(s,X)=>{var w,E,S,V,N,D;return l(),d("tr",{key:X},[t("td",null,[s.logo?(l(),d("div",At,[t("img",{src:`${s.logo}?width=200`,alt:""},null,8,$t)])):p("",!0)]),t("td",null,[a(z,{to:`/crm/partners/setting/department?id=${s.id}&settingId=${s.settingId}`,class:"profile-link hover-color"},{default:C(()=>[dt(u(s.firmName),1)]),_:2},1032,["to"])]),t("td",null,u((w=s.account)==null?void 0:w.phoneNumber),1),t("td",null,u(((S=(E=s.updated)==null?void 0:E.staffDetail)==null?void 0:S.name)||((N=(V=s.updated)==null?void 0:V.partnerDetail[0])==null?void 0:N.firmName)),1),t("td",null,u(s.state)+"/"+u(s.city),1),t("td",null,u((D=s.account)==null?void 0:D.roles),1),t("td",null,[s.status==="ACTIVE"?(l(),d("div",xt,u(s.status),1)):p("",!0),s.status==="PENDING"?(l(),d("div",Ut,u(s.status),1)):p("",!0),s.status==="DEACTIVE"?(l(),d("div",zt,u(s.status),1)):p("",!0)]),t("td",null,[t("div",Bt,[t("div",{class:"icon tooltip-wrapper",onClick:_=>y(s.id,"/crm/edit-partners")},[a(B),Rt],8,Gt),t("div",{class:"icon tooltip-wrapper",onClick:r(_=>T(s.id,s.status),["prevent"])},[a(G),qt],8,Lt),t("div",{class:"icon tooltip-wrapper",onClick:r(_=>h(s.accountId,s.settingId,"/crm/sub-partners"),["prevent"])},[a(R),Ot],8,Ft),t("div",{class:"icon tooltip-wrapper",onClick:r(_=>h(s.accountId,s.settingId,"/crm/partners/schools"),["prevent"])},[a(L),Ht],8,jt),t("div",{class:"icon tooltip-wrapper",onClick:r(_=>h(s.accountId,s.settingId,"/crm/partners/colleges"),["prevent"])},[a(q),Kt],8,Jt),t("div",{class:"icon tooltip-wrapper",onClick:r(_=>h(s.accountId,s.settingId,"/crm/partners/organizations"),["prevent"])},[a(F),Wt],8,Qt),t("div",{class:"icon tooltip-wrapper",onClick:r(_=>h(s.id,s.settingId,"/crm/partners/setting"),["prevent"])},[a(O),Yt],8,Xt)])])])}),128))])])]),((I=i.value.partnersData)==null?void 0:I.length)<=0?(l(),d("div",Zt,ss)):p("",!0),((P=i.value.partnersData)==null?void 0:P.length)>0?(l(),d("div",os,[a(j,{currentPage:o.currentPage,totalItem:i.value.totalPartners,itemsPerPage:o.limit,"onUpdate:currentPage":e[3]||(e[3]=s=>A(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):p("",!0)])])]),a(W,{show:i.value.statusModal,"onUpdate:show":e[9]||(e[9]=s=>i.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:C(()=>[es,t("div",{class:"close-btn",onClick:e[4]||(e[4]=r(s=>i.value.statusModal=!1,["prevent"]))},[a(H)])]),default:C(()=>[t("div",ns,[t("label",as,[v(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=s=>o.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[f,o.changeStatus]]),t("div",is,[a(J),cs])]),t("label",ls,[v(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=s=>o.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[f,o.changeStatus]]),t("div",ds,[a(K),rs])]),t("label",us,[v(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=s=>o.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[f,o.changeStatus]]),t("div",_s,[a(Q),ps])])]),t("div",hs,[t("div",vs,[t("div",{class:"btn red-btn",onClick:e[8]||(e[8]=r(s=>i.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:M},"Submit")])])]),_:1},8,["show"])])}}};export{bs as default};
