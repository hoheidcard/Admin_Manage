import{u as $,s as A,x as O,d as h,e as q,n as B,r as i,o as r,c,a as t,b as a,j as d,F as L,z as U,f as D,g as u,t as m,w as F,v as P}from"./index-DwPljJjs.js";import{_ as H}from"./delete-ClllWuc2.js";const R={class:"user-activity user-profile"},T={class:"table-card"},j={class:"table-header"},G={class:"left"},J={class:"title-row"},K={class:"icon"},Q=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Department : List"),t("h5",{class:"main-title"},"Our Department")],-1),W={class:"right"},X={class:"searchbar"},Y=t("input",{type:"text",placeholder:"Search here"},null,-1),Z={class:"icon"},tt={class:"icons"},et=t("div",{class:"tooltip"},"Add Department",-1),st={class:"table-body mt-16"},ot={class:"table-outer"},nt={class:"table"},at=t("thead",null,[t("th",null,"#"),t("th",null,"Department"),t("th",{class:"text-center"},"Action")],-1),it={class:"option-btns"},dt=["onClick"],lt=t("div",{class:"tooltip"},"Edit",-1),rt=["onClick"],ct=t("div",{class:"tooltip"},"Delete",-1),_t={key:0,class:"table-no-data"},ut=t("div",null,"No records Found!",-1),mt=[ut],pt={class:"title",showHeader:"true"},vt={class:"form mb-16"},ht={class:"form-item mb-16 col-10"},ft=t("div",{class:"title"},"Name",-1),bt={key:0,class:"err-msg"},gt={class:"modal-footer"},Mt={class:"btns"},Dt=t("div",{class:"title",showHeader:"true"},"Delete",-1),wt=t("div",{class:"delete-icon"},[t("img",{src:H,alt:""})],-1),Ct=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1),kt={class:"modal-footer"},yt={class:"btns"},xt={__name:"DepartmentList",setup(It){const _=$(),p=A();O();const o=h(()=>_.state.OrganizationSettings),e=q({organizationSettingId:null,organizationId:null,editMode:!1,departmentId:null,name:null,priority:null});B(()=>{p.query.id&&(e.organizationSettingId=p.query.settingId,e.organizationId=p.query.id)});function w(){o.value.addModal=!0,e.editMode=!1,e.name=null}function C(l){o.value.addModal=!0,e.editMode=!0,e.departmentId=l.id,e.name=l.name}function k(l){e.departmentId=l,o.value.confirmModal=!0}function y(){if(v.value){e.submit=!0;return}e.submit=!1,e.editMode?_.dispatch("OrganizationSettings/updateDepartment",{id:e.departmentId,name:e.name,settingId:e.organizationSettingId}):_.dispatch("OrganizationSettings/addDepartment",{name:e.name,settingId:e.organizationSettingId})}function I(){_.dispatch("OrganizationSettings/deleteDepartment",{id:e.departmentId,status:"DELETED"})}const v=h(()=>{if(!e.name)return"Please Enter Name"});return h(()=>{if(!e.priority)return"Please Enter Priority"}),(l,s)=>{var g;const S=i("icon-user"),z=i("icon-search"),x=i("icon-plus"),E=i("icon-edit"),N=i("icon-delete"),f=i("icon-cross"),b=i("Modal");return r(),c("section",R,[t("div",T,[t("div",j,[t("div",G,[t("div",J,[t("div",K,[a(S)]),Q])]),t("div",W,[t("div",X,[Y,t("div",Z,[a(z)])]),t("div",tt,[t("div",{class:"icon tooltip-wrapper",onClick:d(w,["prevent"])},[a(x),et])])])]),t("div",st,[t("div",ot,[t("table",nt,[at,t("tbody",null,[(r(!0),c(L,null,U(o.value.department,(n,M)=>(r(),c("tr",{key:M},[t("td",null,m(M+1),1),t("td",null,m(n.name),1),t("td",null,[t("div",it,[t("div",{class:"icon tooltip-wrapper",onClick:V=>C(n)},[a(E),lt],8,dt),t("div",{class:"icon tooltip-wrapper",onClick:d(V=>k(n.id),["prevent"])},[a(N),ct],8,rt)])])]))),128))])])]),((g=o.value.department)==null?void 0:g.length)<=0?(r(),c("div",_t,mt)):D("",!0)])]),a(b,{show:o.value.addModal,"onUpdate:show":s[3]||(s[3]=n=>o.value.addModal=n),class:"faq-modal",headerClasses:"header-bg"},{header:u(()=>[t("div",pt,m(e.editMode?"Update Department":"Add Department"),1),t("div",{class:"close-btn",onClick:s[0]||(s[0]=d(n=>o.value.addModal=!1,["prevent"]))},[a(f)])]),default:u(()=>[t("form",vt,[t("div",ht,[ft,F(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=n=>e.name=n),placeholder:"Enter Name",maxlength:"50"},null,512),[[P,e.name]]),e.submit&&v.value?(r(),c("div",bt,m(v.value),1)):D("",!0)])]),t("div",gt,[t("div",Mt,[t("div",{class:"btn red-btn",onClick:s[2]||(s[2]=d(n=>o.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:y},"Submit")])])]),_:1},8,["show"]),a(b,{show:o.value.confirmModal,"onUpdate:show":s[6]||(s[6]=n=>o.value.confirmModal=n),class:"confirm-modal",headerClasses:"header-bg"},{header:u(()=>[Dt,t("div",{class:"close-btn",onClick:s[4]||(s[4]=d(n=>o.value.confirmModal=!1,["prevent"]))},[a(f)])]),default:u(()=>[wt,Ct,t("div",kt,[t("div",yt,[t("div",{class:"btn red-btn",onClick:s[5]||(s[5]=d(n=>o.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:I},"Delete")])])]),_:1},8,["show"])])}}};export{xt as default};
