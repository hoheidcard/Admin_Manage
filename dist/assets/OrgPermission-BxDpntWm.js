import{u as y,s as C,x as D,d as V,e as A,r as w,o as c,c as r,a as s,b as E,w as u,A as _,F as g,z as f,h as I,t as b}from"./index-DwPljJjs.js";const U={class:"user-activity user-profile"},j={class:"table-card"},N={class:"table-header"},B={class:"left"},O={class:"title-row"},R={class:"icon"},z=s("div",{class:"titles"},[s("div",{class:"sub-title"},"Permission : List"),s("h5",{class:"main-title"},"Permission")],-1),F={class:"right"},L=s("div",{class:"searchbar"},[s("span",null,"All")],-1),$={class:"searchbar"},M={class:"toggle-input"},T={class:"toggle-control"},q=s("span",{class:"control"},null,-1),G={class:"table-body mt-16"},H={class:"permission-page user-profile"},J=I('<div class="title text-primary top-header"><div class="title">Permission</div><div class="title">All</div><div class="title">Create</div><div class="title">Read</div><div class="title">Update</div><div class="title">Delete</div></div>',1),K={class:"left-title"},Q={class:"title"},W={class:"right-permissions"},X={class:"input-row"},Y={class:"toggle-input"},Z=s("p",null,"All",-1),ss={class:"toggle-control"},ts=["onUpdate:modelValue","onChange"],es=s("span",{class:"control"},null,-1),os={class:"toggle-input"},as={class:"toggle-control"},is=["onUpdate:modelValue","onChange"],ls=s("span",{class:"control"},null,-1),rs={__name:"OrgPermission",setup(ns){const h=y();C(),D();const a=V(()=>h.state.Organization),d=A({staffId:null,staffAccountId:null,allStatus:!1,all:!1});function v(){h.dispatch("Staff/updatePermission",{menu:a.value.orgPermissionData})}function P(o,e){const i=a.value.orgPermissionData.findIndex(t=>t.id===o);i>=0&&a.value.orgPermissionData[i].userPermission.forEach(n=>{n.status=e})}function S(o){const e=a.value.orgPermissionData.findIndex(i=>i.id===o);if(e>=0){const t=a.value.orgPermissionData[e].userPermission.every(n=>n.status===!0);a.value.orgPermissionData[e].allStatus=t}}function k(){d.all?a.value.orgPermissionData.forEach(o=>{o.allStatus=!0,o.userPermission.forEach(e=>{e.status=!0})}):a.value.orgPermissionData.forEach(o=>{o.allStatus=!1,o.userPermission.forEach(e=>{e.status=!1})})}return(o,e)=>{const i=w("icon-permission");return c(),r("section",U,[s("div",j,[s("div",N,[s("div",B,[s("div",O,[s("div",R,[E(i)]),z])]),s("div",F,[L,s("div",$,[s("div",M,[s("label",T,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>d.all=t),onChange:k},null,544),[[_,d.all]]),q])])]),s("div",{class:"btns justify-end"},[s("div",{class:"btn white-btn",onClick:v}," Save Changes ")])])]),s("div",G,[s("section",H,[J,(c(!0),r(g,null,f(a.value.orgPermissionData,(t,n)=>(c(),r("div",{class:"per-table",key:n},[s("div",K,[s("div",Q,b(t.title),1)]),s("div",W,[s("div",X,[s("div",Y,[Z,s("label",ss,[u(s("input",{type:"checkbox","onUpdate:modelValue":l=>t.allStatus=l,onChange:l=>P(t.id,t.allStatus)},null,40,ts),[[_,t.allStatus]]),es])])]),(c(!0),r(g,null,f(t.userPermission,(l,x)=>{var p;return c(),r("div",{class:"input-row",key:x},[s("div",os,[s("p",null,b((p=l.permission)==null?void 0:p.name),1),s("label",as,[u(s("input",{type:"checkbox","onUpdate:modelValue":m=>l.status=m,onChange:m=>S(t.id)},null,40,is),[[_,l.status]]),ls])])])}),128))])]))),128))]),s("div",{class:"btns justify-end mt-10"},[s("div",{class:"btn white-btn",onClick:v}," Save Changes ")])])])])}}};export{rs as default};
