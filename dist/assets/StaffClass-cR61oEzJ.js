import{u as O,s as U,x as Y,d as f,e as B,r as i,o as c,c as r,a as s,b as n,j as d,F,z as H,f as S,g as h,t as u,m as K}from"./index-DwPljJjs.js";import{_ as R}from"./delete-ClllWuc2.js";const T={class:"user-activity user-profile"},j={class:"table-card"},q={class:"table-header"},E={class:"left"},P={class:"title-row"},G={class:"icon"},J=s("div",{class:"titles"},[s("div",{class:"sub-title"},"Class : List"),s("h5",{class:"main-title"},"Class")],-1),Q={class:"right"},W={class:"searchbar"},X=s("input",{type:"text",placeholder:"Search here"},null,-1),Z={class:"icon"},ss={class:"icons"},es=s("div",{class:"tooltip"},"Add Class",-1),ts={class:"table-body mt-16"},os={class:"table-outer"},ls={class:"table"},as=s("thead",null,[s("th",null,"#"),s("th",null,"Class"),s("th",null,"Date & Time"),s("th",{class:"text-center"},"Action")],-1),ns={class:"option-btns"},is=["onClick"],ds=s("div",{class:"tooltip"},"Delete",-1),cs={key:0,class:"table-no-data"},rs=s("div",null,"No records Found!",-1),us=[rs],_s={class:"title",showHeader:"true"},hs={class:"form mb-16"},vs={class:"form-item mb-16"},fs=s("div",{class:"title"},"Class Name",-1),ms={key:0,class:"err-msg"},ps={class:"modal-footer"},bs={class:"btns"},Cs=s("div",{class:"title",showHeader:"true"},"Delete",-1),Ms=s("div",{class:"delete-icon"},[s("img",{src:R,alt:""})],-1),Ss=s("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1),gs={class:"modal-footer"},ws={class:"btns"},Ns={__name:"StaffClass",setup(ks){const _=O();U(),Y();const o=f(()=>_.state.OrganizationStaff),g=f(()=>_.state.OrganizationSettings),e=B({submit:!1,staffAccountId:null,className:null,classListId:null,searchKey:null,editMode:!1});function w(){if(v.value){e.submit=!0;return}e.submit=!1,_.dispatch("OrganizationStaff/addStaffClass",{classListId:e.classListId,staffDetailId:o.value.id,className:e.className})}function k(){_.dispatch("OrganizationStaff/deleteStaffClass",{id:e.classListId})}function L(){o.value.addClassModal=!0,e.editMode=!1,e.className=null,e.classListId=null}function y(a){e.classListId=a,o.value.confirmModal=!0}const D=a=>{e.classListId=a.id},N=a=>{e.searchKey=a};function I(a){return a?K(a).format("MMM Do YYYY hh:mm A"):"-"}const v=f(()=>{if(!e.classListId)return"Please Select Class"});return(a,t)=>{var b;const V=i("icon-user"),A=i("icon-search"),x=i("icon-plus"),z=i("icon-delete"),m=i("icon-cross"),$=i("SingleSelect"),p=i("Modal");return c(),r("section",T,[s("div",j,[s("div",q,[s("div",E,[s("div",P,[s("div",G,[n(V)]),J])]),s("div",Q,[s("div",W,[X,s("div",Z,[n(A)])]),s("div",ss,[s("div",{class:"icon tooltip-wrapper",onClick:d(L,["prevent"])},[n(x),es])])])]),s("div",ts,[s("div",os,[s("table",ls,[as,s("tbody",null,[(c(!0),r(F,null,H(o.value.staffClass,(l,C)=>{var M;return c(),r("tr",{key:C},[s("td",null,u(C+1),1),s("td",null,u((M=l.classList)==null?void 0:M.name),1),s("td",null,u(I(l.createdAt)),1),s("td",null,[s("div",ns,[s("div",{class:"icon tooltip-wrapper",onClick:d(Ls=>y(l.id),["prevent"])},[n(z),ds],8,is)])])])}),128))])])]),((b=o.value.staffClass)==null?void 0:b.length)<=0?(c(),r("div",cs,us)):S("",!0)])]),n(p,{show:o.value.addClassModal,"onUpdate:show":t[3]||(t[3]=l=>o.value.addClassModal=l),class:"faq-modal",centerModal:!0,headerClasses:"header-bg"},{header:h(()=>[s("div",_s,u(e.editMode?"Update Class":"Add Class"),1),s("div",{class:"close-btn",onClick:t[0]||(t[0]=d(l=>o.value.addClassModal=!1,["prevent"]))},[n(m)])]),default:h(()=>[s("form",hs,[s("div",vs,[fs,n($,{options:g.value.classList,onSelected:D,modelValue:e.className,"onUpdate:modelValue":t[1]||(t[1]=l=>e.className=l),next:!1,placeholder:"Select",onSearch:N},null,8,["options","modelValue"]),e.submit&&v.value?(c(),r("div",ms,u(v.value),1)):S("",!0)])]),s("div",ps,[s("div",bs,[s("div",{class:"btn red-btn",onClick:t[2]||(t[2]=d(l=>o.value.addClassModal=!1,["prevent"]))},"Cancel"),s("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),n(p,{show:o.value.confirmModal,"onUpdate:show":t[6]||(t[6]=l=>o.value.confirmModal=l),class:"confirm-modal",headerClasses:"header-bg"},{header:h(()=>[Cs,s("div",{class:"close-btn",onClick:t[4]||(t[4]=d(l=>o.value.confirmModal=!1,["prevent"]))},[n(m)])]),default:h(()=>[Ms,Ss,s("div",gs,[s("div",ws,[s("div",{class:"btn red-btn",onClick:t[5]||(t[5]=d(l=>o.value.confirmModal=!1,["prevent"]))},"Cancel"),s("div",{class:"btn white-btn",onClick:k},"Delete")])])]),_:1},8,["show"])])}}};export{Ns as default};
