import{u as D,k as i,B as K,R as L,o as c,c as u,a as h,F as k,z as g,i as j,t as b,j as w,y as v,w as F,v as N,S as R,T as C,f as q}from"./index-DwPljJjs.js";const z={class:"multi-select"},E={class:"tab-input"},O={class:"tabs"},Q=["onClick"],U=["placeholder","onKeydown"],$={key:0,class:"search-results"},G=["onClick"],P={__name:"MultiSelect",props:{options:{type:Array,required:!0},tabs:{type:Array,default:[]},placeholder:{type:String,default:"Select"}},emits:["update:modelValue","selected","specific","removed","errorMsg","selectedArr"],setup(y){const S=D(),T=y;let e=i(""),o=i([]),r=i([]),p=i(null),m=i([]),d=i(!1);const t=K(),A=()=>{e.value!==""&&(o.value.push(e.value),t.emit("specific",{id:null,name:e.value}),t.emit("selected",o.value),e.value="",d.value=!1)},M=()=>{e.value=""},x=(s,l)=>{t.emit("removed",s),o.value.splice(l,1),r.value.splice(l,1),t.emit("selected",o.value),t.emit("selectedArr",r.value)},I=s=>{t.emit("search",s.target.value)},V=s=>{r.value.findIndex(n=>n.id===s.id)<0?(o.value.push(s.name),r.value.push(s)):(p.value="Already Selected!",t.emit("errorMsg",p.value),S.dispatch("Alert/error",{msg:"Already Selected!"})),setTimeout(()=>{p.value=null,t.emit("errorMsg",p.value)},2e3),t.emit("specific",s),t.emit("selected",o.value),t.emit("selectedArr",r.value),e.value="",m.value=[],d.value=!1},_=()=>{const s=e.value.toLowerCase()||"";m.value=T.options.filter(l=>{var n;return(n=l.name)==null?void 0:n.toLowerCase().includes(s)}),d.value=!0},B=()=>{d.value=!1};return(s,l)=>{const n=L("click-outside");return c(),u("div",z,[h("div",E,[h("div",O,[(c(!0),u(k,null,g(v(r),(a,f)=>(c(),u("span",{key:f,class:"tab"},[j(b(a.name)+" ",1),h("button",{onClick:w(H=>x(a,f),["prevent"])},"â¤«",8,Q)]))),128))]),F(h("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=a=>R(e)?e.value=a:e=a),placeholder:y.placeholder,onInput:_,onFocus:_,onKeydown:C(w(A,["prevent"]),["enter"]),onKeyup:[C(M,["enter"]),l[1]||(l[1]=a=>I(a))]},null,40,U),[[N,v(e)],[n,B]])]),v(d)&&v(m).length>0?(c(),u("ul",$,[(c(!0),u(k,null,g(v(m),a=>(c(),u("li",{key:a.id,onClick:f=>V(a)},b(a.name),9,G))),128))])):q("",!0)])}}};export{P as default};
