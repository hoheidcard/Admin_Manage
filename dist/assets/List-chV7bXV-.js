import{u as K,s as Q,x as W,d as X,e as Y,n as tt,D as st,r as e,o as i,c as l,a as t,b as a,w as p,v as ot,p as nt,j as u,F as et,z as at,f as _,g as y,i as it,t as r,E as k}from"./index-DwPljJjs.js";const lt={class:"faq-page"},ct={class:"container"},dt={class:"table-card card"},rt={class:"table-header"},ut={class:"left"},_t={class:"title-row"},pt={class:"icon"},ht=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Organization : List"),t("h5",{class:"main-title"},"Our Organization")],-1),gt={class:"right"},vt={class:"searchbar"},mt={class:"icon"},ft={class:"searchbar"},bt={class:"select-dropdown"},yt=t("option",{value:"ACTIVE"},"ACTIVE",-1),kt=t("option",{value:"PENDING"},"PENDING",-1),Ct=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),It=[yt,kt,Ct],wt={class:"icons"},zt=t("div",{class:"tooltip"},"Add Organization",-1),Et={class:"table-body p-16"},St={class:"table-outer"},Vt={class:"table"},Nt=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Contact No"),t("th",null,"Created By"),t("th",null,"State/City"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),Tt={key:0,class:"zoom-image"},Dt=["src"],Pt={key:0,class:"badge success-badge"},Mt={key:1,class:"badge warning-badge"},At={key:2,class:"badge danger-badge"},Ot={class:"option-btns"},$t=["onClick"],xt=t("div",{class:"tooltip"},"Edit",-1),Ut=["onClick"],Bt=t("div",{class:"tooltip"},"Change Status",-1),Gt=["onClick"],Lt=t("div",{class:"tooltip"},"My Branch",-1),Rt=["onClick"],qt=t("div",{class:"tooltip"},"My Staff",-1),Ft=["onClick"],jt=t("div",{class:"tooltip"},"Setttngs",-1),Ht={key:0,class:"table-no-data"},Zt=t("div",null,"No records Found!",-1),Jt=[Zt],Kt={key:1,class:"table-footer"},Qt=t("div",{class:"title",showHeader:"true"},"Change Status",-1),Wt={class:"status-row"},Xt={for:"approve",class:"data"},Yt={class:"data-inner approve-card"},ts=t("div",{class:"title"},"ACTIVE",-1),ss={for:"pending",class:"data"},os={class:"data-inner pending-card"},ns=t("div",{class:"title"},"PENDING",-1),es={for:"block",class:"data"},as={class:"data-inner block-card"},is=t("div",{class:"title"},"DEACTIVE",-1),ls={class:"modal-footer"},cs={class:"btns"},us={__name:"List",setup(ds){const v=K();Q();const C=W(),c=X(()=>v.state.Organization),o=Y({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"ORGANIZATION",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,organizationId:null,organizationAccountId:null,changeStatus:null});tt(()=>{h()}),st(()=>o.keyword,()=>{clearTimeout(o.typingTimer),o.typingTimer=setTimeout(()=>{o.limit=10,o.offset=0,o.currentPage=1,h()},o.typingDelay)});function h(){v.dispatch("Organization/getOrganization",{limit:o.limit,offset:o.offset,keyword:o.keyword,status:o.status,roles:o.roles})}function D(d,n){o.changeStatus=n,o.organizationId=d,c.value.statusModal=!0}function P(){v.dispatch("Organization/updateOrganizationStatus",{id:o.organizationId,status:o.changeStatus})}const M=d=>{o.currentPage=d,o.offset=o.limit*(d-1),h()};function A(){h()}function I(d,n){C.push({path:n,query:{id:d}})}function m(d,n,f,b){C.push({path:f,query:{id:d,settingId:n,accountId:b}})}return(d,n)=>{var w,z;const f=e("icon-school"),b=e("icon-search"),O=e("icon-plus"),$=e("router-link"),x=e("icon-edit"),U=e("icon-status"),B=e("icon-menu"),G=e("icon-user-list"),L=e("icon-setting"),R=e("Pagination"),q=e("icon-cross"),F=e("icon-success"),j=e("icon-warning"),H=e("icon-block"),Z=e("Modal");return i(),l("section",lt,[t("div",ct,[t("div",dt,[t("div",rt,[t("div",ut,[t("div",_t,[t("div",pt,[a(f)]),ht])]),t("div",gt,[t("div",vt,[p(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[ot,o.keyword]]),t("div",mt,[a(b)])]),t("div",ft,[t("div",bt,[p(t("select",{"onUpdate:modelValue":n[1]||(n[1]=s=>o.status=s),onChange:A},It,544),[[nt,o.status]])])]),t("div",wt,[t("div",{class:"icon tooltip-wrapper",onClick:n[2]||(n[2]=u(s=>I(null,"/crm/add-organization"),["prevent"]))},[a(O),zt])])])]),t("div",Et,[t("div",St,[t("table",Vt,[Nt,t("tbody",null,[(i(!0),l(et,null,at(c.value.organizationData,(s,J)=>{var E,S,V,N,T;return i(),l("tr",{key:J},[t("td",null,[s.image?(i(),l("div",Tt,[t("img",{src:`${s.image}?width=200`,alt:""},null,8,Dt)])):_("",!0)]),t("td",null,[a($,{to:`/crm/organization/setting/department?id=${s.id}&settingId=${s.settingId}`,class:"profile-link hover-color"},{default:y(()=>[it(r(s.name),1)]),_:2},1032,["to"])]),t("td",null,r(s.contactNo),1),t("td",null,r(((S=(E=s.updated)==null?void 0:E.staffDetail)==null?void 0:S.name)||((N=(V=s.updated)==null?void 0:V.partnerDetail[0])==null?void 0:N.firmName)),1),t("td",null,r(s.state)+"/"+r(s.city),1),t("td",null,r(s.type),1),t("td",null,[s.status==="ACTIVE"?(i(),l("div",Pt,r(s.status),1)):_("",!0),s.status==="PENDING"?(i(),l("div",Mt,r(s.status),1)):_("",!0),s.status==="DEACTIVE"?(i(),l("div",At,r(s.status),1)):_("",!0)]),t("td",null,[t("div",Ot,[t("div",{class:"icon tooltip-wrapper",onClick:g=>I(s.id,"/crm/edit-organization")},[a(x),xt],8,$t),t("div",{class:"icon tooltip-wrapper",onClick:u(g=>D(s.id,s.status),["prevent"])},[a(U),Bt],8,Ut),((T=s.setting)==null?void 0:T.type)==="MULTI"?(i(),l("div",{key:0,class:"icon tooltip-wrapper",onClick:u(g=>m(s.id,s.settingId,"/crm/organization/my-branch",s.accountId),["prevent"])},[a(B),Lt],8,Gt)):_("",!0),t("div",{class:"icon tooltip-wrapper",onClick:u(g=>m(s.id,s.settingId,"/crm/organization/my-staff",s.accountId),["prevent"])},[a(G),qt],8,Rt),t("div",{class:"icon tooltip-wrapper",onClick:u(g=>m(s.id,s.settingId,"/crm/organization/setting/designation?"),["prevent"])},[a(L),jt],8,Ft)])])])}),128))])])]),((w=c.value.organizationData)==null?void 0:w.length)<=0?(i(),l("div",Ht,Jt)):_("",!0),((z=c.value.organizationData)==null?void 0:z.length)>0?(i(),l("div",Kt,[a(R,{currentPage:o.currentPage,totalItem:c.value.totalOrganization,itemsPerPage:o.limit,"onUpdate:currentPage":n[3]||(n[3]=s=>M(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):_("",!0)])])]),a(Z,{show:c.value.statusModal,"onUpdate:show":n[9]||(n[9]=s=>c.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:y(()=>[Qt,t("div",{class:"close-btn",onClick:n[4]||(n[4]=u(s=>c.value.statusModal=!1,["prevent"]))},[a(q)])]),default:y(()=>[t("div",Wt,[t("label",Xt,[p(t("input",{type:"radio","onUpdate:modelValue":n[5]||(n[5]=s=>o.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[k,o.changeStatus]]),t("div",Yt,[a(F),ts])]),t("label",ss,[p(t("input",{type:"radio","onUpdate:modelValue":n[6]||(n[6]=s=>o.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[k,o.changeStatus]]),t("div",os,[a(j),ns])]),t("label",es,[p(t("input",{type:"radio","onUpdate:modelValue":n[7]||(n[7]=s=>o.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[k,o.changeStatus]]),t("div",as,[a(H),is])])]),t("div",ls,[t("div",cs,[t("div",{class:"btn red-btn",onClick:n[8]||(n[8]=u(s=>c.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:P},"Submit")])])]),_:1},8,["show"])])}}};export{us as default};
