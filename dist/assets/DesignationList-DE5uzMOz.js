import{u as q,s as B,x as L,d as g,e as T,n as Y,r as d,o as r,c,a as t,b as a,j as u,F,z as H,f,g as v,t as l,w as k,v as D,m as R}from"./index-DwPljJjs.js";import{_ as j}from"./delete-ClllWuc2.js";const K={class:"user-activity user-profile"},G={class:"table-card"},J={class:"table-header"},Q={class:"left"},W={class:"title-row"},X={class:"icon"},Z=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Designation : List"),t("h5",{class:"main-title"},"Our Designation")],-1),tt={class:"right"},et={class:"searchbar"},ot=t("input",{type:"text",placeholder:"Search here"},null,-1),st={class:"icon"},it={class:"icons"},nt=t("div",{class:"tooltip"},"Add Designation",-1),at={class:"table-body mt-16"},dt={class:"table-outer"},lt={class:"table"},rt=t("thead",null,[t("th",null,"#"),t("th",null,"Designation Name"),t("th",null,"Priority"),t("th",null,"Date & Time"),t("th",{class:"text-center"},"Action")],-1),ct={class:"option-btns"},ut=["onClick"],_t=t("div",{class:"tooltip"},"Edit",-1),vt=["onClick"],pt=t("div",{class:"tooltip"},"Delete",-1),mt={key:0,class:"table-no-data"},ht=t("div",null,"No records Found!",-1),gt=[ht],ft={class:"title",showHeader:"true"},yt={class:"form mb-16"},bt={class:"form-item mb-16 col-10"},Ct=t("div",{class:"title"},"Name",-1),Mt={key:0,class:"err-msg"},kt={class:"form-item mb-16 col-10"},Dt=t("div",{class:"title"},"Priority",-1),wt={key:0,class:"err-msg"},It={class:"modal-footer"},St={class:"btns"},xt=t("div",{class:"title",showHeader:"true"},"Delete",-1),zt=t("div",{class:"delete-icon"},[t("img",{src:j,alt:""})],-1),Et=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1),Nt={class:"modal-footer"},Vt={class:"btns"},Ot={__name:"DesignationList",setup(At){const _=q(),p=B();L();const n=g(()=>_.state.OrganizationSettings),e=T({organizationSettingId:null,organizationId:null,editMode:!1,designationId:null,name:null,priority:null});Y(()=>{p.query.id&&(e.organizationSettingId=p.query.settingId,e.organizationId=p.query.id)});function w(){n.value.addModal=!0,e.editMode=!1,e.name=null,e.priority=null}function I(i){n.value.addModal=!0,e.editMode=!0,e.designationId=i.id,e.name=i.name,e.priority=i.priority}function S(i){e.designationId=i,n.value.confirmModal=!0}function x(){if(m.value||h.value){e.submit=!0;return}e.submit=!1,e.editMode?_.dispatch("OrganizationSettings/updateDesignation",{id:e.designationId,name:e.name,priority:e.priority,settingId:e.organizationSettingId}):_.dispatch("OrganizationSettings/addDesignation",{name:e.name,priority:e.priority,settingId:e.organizationSettingId})}function z(){_.dispatch("OrganizationSettings/deleteDesignation",{id:e.designationId,status:"DELETED"})}function E(i){return i?R(i).format("MMM Do YYYY hh:mm A"):"-"}const m=g(()=>{if(!e.name)return"Please Enter Name"}),h=g(()=>{if(!e.priority)return"Please Enter Priority"});function N(i){let o=String.fromCharCode(i.keyCode);if(/^[0-9]+$/.test(o)||i.keyCode===8||i.keyCode===9||i.keyCode===37||i.keyCode===39||i.keyCode>=96&&i.keyCode<=105)return!0;i.preventDefault()}return(i,o)=>{var C;const V=d("icon-user"),A=d("icon-search"),$=d("icon-plus"),P=d("icon-edit"),O=d("icon-delete"),y=d("icon-cross"),b=d("Modal");return r(),c("section",K,[t("div",G,[t("div",J,[t("div",Q,[t("div",W,[t("div",X,[a(V)]),Z])]),t("div",tt,[t("div",et,[ot,t("div",st,[a(A)])]),t("div",it,[t("div",{class:"icon tooltip-wrapper",onClick:u(w,["prevent"])},[a($),nt])])])]),t("div",at,[t("div",dt,[t("table",lt,[rt,t("tbody",null,[(r(!0),c(F,null,H(n.value.designation,(s,M)=>(r(),c("tr",{key:M},[t("td",null,l(M+1),1),t("td",null,l(s.name),1),t("td",null,l(s.priority),1),t("td",null,l(E(s.createdAt)),1),t("td",null,[t("div",ct,[t("div",{class:"icon tooltip-wrapper",onClick:U=>I(s)},[a(P),_t],8,ut),t("div",{class:"icon tooltip-wrapper",onClick:u(U=>S(s.id),["prevent"])},[a(O),pt],8,vt)])])]))),128))])])]),((C=n.value.designation)==null?void 0:C.length)<=0?(r(),c("div",mt,gt)):f("",!0)])]),a(b,{show:n.value.addModal,"onUpdate:show":o[5]||(o[5]=s=>n.value.addModal=s),class:"faq-modal",headerClasses:"header-bg"},{header:v(()=>[t("div",ft,l(e.editMode?"Update Designation":"Add Designation"),1),t("div",{class:"close-btn",onClick:o[0]||(o[0]=u(s=>n.value.addModal=!1,["prevent"]))},[a(y)])]),default:v(()=>[t("form",yt,[t("div",bt,[Ct,k(t("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=s=>e.name=s),placeholder:"Enter Name",maxlength:"50"},null,512),[[D,e.name]]),e.submit&&m.value?(r(),c("div",Mt,l(m.value),1)):f("",!0)]),t("div",kt,[Dt,k(t("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=s=>e.priority=s),placeholder:"Enter Priority",onKeydown:o[3]||(o[3]=s=>N(s)),maxlength:"10"},null,544),[[D,e.priority]]),e.submit&&h.value?(r(),c("div",wt,l(h.value),1)):f("",!0)])]),t("div",It,[t("div",St,[t("div",{class:"btn red-btn",onClick:o[4]||(o[4]=u(s=>n.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:x},"Submit")])])]),_:1},8,["show"]),a(b,{show:n.value.confirmModal,"onUpdate:show":o[8]||(o[8]=s=>n.value.confirmModal=s),class:"confirm-modal",headerClasses:"header-bg"},{header:v(()=>[xt,t("div",{class:"close-btn",onClick:o[6]||(o[6]=u(s=>n.value.confirmModal=!1,["prevent"]))},[a(y)])]),default:v(()=>[zt,Et,t("div",Nt,[t("div",Vt,[t("div",{class:"btn red-btn",onClick:o[7]||(o[7]=u(s=>n.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:z},"Delete")])])]),_:1},8,["show"])])}}};export{Ot as default};
