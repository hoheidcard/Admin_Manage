import{u as B,s as F,x as T,d as f,e as z,n as R,r as n,o as r,c,a as e,b as l,j as u,g as v,y as j,f as m,F as k,h as q,z as K,t as _,w as M,v as D}from"./index-DwPljJjs.js";import{_ as G}from"./delete-ClllWuc2.js";import{V as J}from"./vue-draggable-next.esm-bundler-Bmx52r95.js";const Q={class:"table-card"},W={class:"table-header"},X={class:"left"},Y={class:"title-row"},ee={class:"icon"},te=e("div",{class:"titles"},[e("div",{class:"sub-title"},"House Zone : List"),e("h5",{class:"main-title"},"Our House Zone")],-1),se={class:"right"},oe={class:"searchbar"},ie=e("input",{type:"text",placeholder:"Search here"},null,-1),ae={class:"icon"},le={class:"icons"},ne=e("div",{class:"tooltip"},"Add House Zone",-1),de={class:"container-drag"},re=q('<div class="dragTableHead flex text-primary top-header bold"><div class="sl">#</div><div class="title">Name</div><div class="title">Priority</div><div class="title actn">Action</div></div>',1),ce={class:"list"},ue={class:"sl"},_e={class:"area"},ve={class:"area"},pe={class:"area"},he={class:"option-btns"},fe=["onClick"],me=e("div",{class:"tooltip"},"Edit",-1),ge=["onClick"],ye=e("div",{class:"tooltip"},"Delete",-1),be={key:0,class:"table-no-data"},Ce=e("div",null,"No records Found!",-1),ke=[Ce],Me={class:"title",showHeader:"true"},De={class:"form mb-16"},we={class:"form-item mb-16 col-10"},Se=e("div",{class:"title"},"Name",-1),xe={key:0,class:"err-msg"},Ee={class:"form-item mb-16 col-10"},Ne=e("div",{class:"title"},"Priority",-1),Ve={key:0,class:"err-msg"},He={class:"modal-footer"},Ie={class:"btns"},Ze=e("div",{class:"title",showHeader:"true"},"Delete",-1),$e=e("div",{class:"delete-icon"},[e("img",{src:G,alt:""})],-1),Ae=e("h4",{class:"text-gree"},"Are you sure want to Delete?",-1),Le={class:"modal-footer"},Pe={class:"btns"},Te={__name:"HouseZoneList",setup(Ue){const d=B();F(),T();const a=f(()=>d.state.DefaultSetting),t=z({organizationSettingId:null,organizationId:null,editMode:!1,classId:null,name:null,priority:null,type:"HOUSE ZONE",for:"SCHOOL"});R(()=>{w()});function w(){d.dispatch("DefaultSetting/getDefaultSetting",{settingType:t.type,settingFor:t.for})}function S(){a.value.createModal=!0,t.editMode=!1,t.name=null,t.priority=null}function x(s){a.value.createModal=!0,t.editMode=!0,t.classId=s.id,t.name=s.name,t.priority=s.priority}function E(s){t.classId=s,a.value.deleteModal=!0}function N(){if(p.value||h.value){t.submit=!0;return}t.submit=!1;let s={name:t.name,priority:t.priority,type:t.type,for:t.for};t.editMode?d.dispatch("DefaultSetting/updateDefaultSetting",{id:t.classId,payload:s}):d.dispatch("DefaultSetting/createDefaultSetting",s)}function V(){d.dispatch("DefaultSetting/deleteDefaultSetting",{id:t.classId,status:"DELETED"})}function H(){for(let s=0;s<a.value.data.length;s++)a.value.data[s].priority=s+1}function I(s){H(),d.dispatch("DefaultSetting/bulkDefaultSetting",a.value.data)}const p=f(()=>{if(!t.name)return"Please Enter Name"}),h=f(()=>{if(!t.priority)return"Please Enter Priority"});function Z(s){let o=String.fromCharCode(s.keyCode);if(/^[0-9]+$/.test(o)||s.keyCode===8||s.keyCode===9||s.keyCode===37||s.keyCode===39||s.keyCode>=96&&s.keyCode<=105)return!0;s.preventDefault()}return(s,o)=>{var b;const $=n("icon-user"),A=n("icon-search"),L=n("icon-plus"),P=n("icon-edit"),U=n("icon-delete"),g=n("icon-cross"),y=n("Modal");return r(),c(k,null,[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("div",ee,[l($)]),te])]),e("div",se,[e("div",oe,[ie,e("div",ae,[l(A)])]),e("div",le,[e("div",{class:"icon tooltip-wrapper",onClick:u(S,["prevent"])},[l(L),ne])])])])]),e("div",de,[re,l(j(J),{class:"dragArea list-group w-full",list:a.value.data,onChange:I},{default:v(()=>[(r(!0),c(k,null,K(a.value.data,(i,C)=>(r(),c("div",{class:"dragAreaList",key:C},[e("div",ce,[e("div",ue,_(C+1),1),e("div",_e,_(i.name),1),e("div",ve,_(i.priority),1),e("div",pe,[e("div",he,[e("div",{class:"icon tooltip-wrapper",onClick:O=>x(i)},[l(P),me],8,fe),e("div",{class:"icon tooltip-wrapper",onClick:u(O=>E(i.id),["prevent"])},[l(U),ye],8,ge)])])])]))),128))]),_:1},8,["list"])]),((b=a.value.data)==null?void 0:b.length)<=0?(r(),c("div",be,ke)):m("",!0),l(y,{show:a.value.createModal,"onUpdate:show":o[5]||(o[5]=i=>a.value.createModal=i),centerModal:!0,class:"faq-modal",headerClasses:"header-bg"},{header:v(()=>[e("div",Me,_(t.editMode?"Update House Zone":"Add House Zone"),1),e("div",{class:"close-btn",onClick:o[0]||(o[0]=u(i=>a.value.createModal=!1,["prevent"]))},[l(g)])]),default:v(()=>[e("form",De,[e("div",we,[Se,M(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=i=>t.name=i),placeholder:"Enter Name",maxlength:"50"},null,512),[[D,t.name]]),t.submit&&p.value?(r(),c("div",xe,_(p.value),1)):m("",!0)]),e("div",Ee,[Ne,M(e("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=i=>t.priority=i),placeholder:"Enter Priority",onKeydown:o[3]||(o[3]=i=>Z(i)),maxlength:"3"},null,544),[[D,t.priority]]),t.submit&&h.value?(r(),c("div",Ve,_(h.value),1)):m("",!0)])]),e("div",He,[e("div",Ie,[e("div",{class:"btn red-btn",onClick:o[4]||(o[4]=u(i=>a.value.createModal=!1,["prevent"]))}," Cancel "),e("div",{class:"btn white-btn",onClick:N},"Submit")])])]),_:1},8,["show"]),l(y,{show:a.value.deleteModal,"onUpdate:show":o[8]||(o[8]=i=>a.value.deleteModal=i),class:"confirm-modal",headerClasses:"header-bg"},{header:v(()=>[Ze,e("div",{class:"close-btn",onClick:o[6]||(o[6]=u(i=>a.value.deleteModal=!1,["prevent"]))},[l(g)])]),default:v(()=>[$e,Ae,e("div",Le,[e("div",Pe,[e("div",{class:"btn red-btn",onClick:o[7]||(o[7]=u(i=>a.value.deleteModal=!1,["prevent"]))}," Cancel "),e("div",{class:"btn white-btn",onClick:V},"Delete")])])]),_:1},8,["show"])],64)}}};export{Te as default};
