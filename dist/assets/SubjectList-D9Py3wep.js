import{u as V,s as $,x as A,d as p,e as O,n as q,r as a,o as c,c as r,a as t,b as i,j as d,F as B,z as L,f as S,g as _,t as v,w as U,v as F}from"./index-DwPljJjs.js";import{_ as P}from"./delete-ClllWuc2.js";const H={class:"user-activity user-profile"},R={class:"table-card"},T={class:"table-header"},G={class:"left"},J={class:"title-row"},K={class:"icon"},Q=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Subject : List"),t("h5",{class:"main-title"},"Our Subject")],-1),W={class:"right"},X={class:"searchbar"},Y=t("input",{type:"text",placeholder:"Search here"},null,-1),Z={class:"icon"},tt={class:"icons"},et=t("div",{class:"tooltip"},"Add Subject",-1),st={class:"table-body mt-16"},ot={class:"table-outer"},nt={class:"table"},it=t("thead",null,[t("th",null,"#"),t("th",null,"Subject"),t("th",{class:"text-center"},"Action")],-1),at={class:"option-btns"},dt=["onClick"],lt=t("div",{class:"tooltip"},"Edit",-1),ct=["onClick"],rt=t("div",{class:"tooltip"},"Delete",-1),ut={key:0,class:"table-no-data"},_t=t("div",null,"No records Found!",-1),vt=[_t],ht={class:"title",showHeader:"true"},mt={class:"form mb-16"},pt={class:"form-item mb-16 col-10"},bt=t("div",{class:"title"},"Name",-1),ft={key:0,class:"err-msg"},gt={class:"modal-footer"},Mt={class:"btns"},St=t("div",{class:"title",showHeader:"true"},"Delete",-1),jt=t("div",{class:"delete-icon"},[t("img",{src:P,alt:""})],-1),wt=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1),Ct={class:"modal-footer"},kt={class:"btns"},Dt={__name:"SubjectList",setup(yt){const u=V(),h=$();A();const o=p(()=>u.state.OrganizationSettings),e=O({organizationSettingId:null,organizationId:null,editMode:!1,subjectId:null,name:null,priority:null});q(()=>{h.query.id&&(e.organizationSettingId=h.query.settingId,e.organizationId=h.query.id)});function j(){o.value.addModal=!0,e.editMode=!1,e.name=null}function w(l){o.value.addModal=!0,e.editMode=!0,e.subjectId=l.id,e.name=l.name}function C(l){e.subjectId=l,o.value.confirmModal=!0}function k(){if(m.value){e.submit=!0;return}e.submit=!1,e.editMode?u.dispatch("OrganizationSettings/updateSubject",{id:e.subjectId,name:e.name,settingId:e.organizationSettingId}):u.dispatch("OrganizationSettings/addSubject",{name:e.name,settingId:e.organizationSettingId})}function y(){u.dispatch("OrganizationSettings/deleteSubject",{id:e.subjectId,status:"DELETED"})}const m=p(()=>{if(!e.name)return"Please Enter Name"});return p(()=>{if(!e.priority)return"Please Enter Priority"}),(l,s)=>{var g;const I=a("icon-user"),z=a("icon-search"),D=a("icon-plus"),x=a("icon-edit"),E=a("icon-delete"),b=a("icon-cross"),f=a("Modal");return c(),r("section",H,[t("div",R,[t("div",T,[t("div",G,[t("div",J,[t("div",K,[i(I)]),Q])]),t("div",W,[t("div",X,[Y,t("div",Z,[i(z)])]),t("div",tt,[t("div",{class:"icon tooltip-wrapper",onClick:d(j,["prevent"])},[i(D),et])])])]),t("div",st,[t("div",ot,[t("table",nt,[it,t("tbody",null,[(c(!0),r(B,null,L(o.value.subject,(n,M)=>(c(),r("tr",{key:M},[t("td",null,v(M+1),1),t("td",null,v(n.name),1),t("td",null,[t("div",at,[t("div",{class:"icon tooltip-wrapper",onClick:N=>w(n)},[i(x),lt],8,dt),t("div",{class:"icon tooltip-wrapper",onClick:d(N=>C(n.id),["prevent"])},[i(E),rt],8,ct)])])]))),128))])])]),((g=o.value.subject)==null?void 0:g.length)<=0?(c(),r("div",ut,vt)):S("",!0)])]),i(f,{show:o.value.addModal,"onUpdate:show":s[3]||(s[3]=n=>o.value.addModal=n),class:"faq-modal",headerClasses:"header-bg"},{header:_(()=>[t("div",ht,v(e.editMode?"Update Subject":"Add Subject"),1),t("div",{class:"close-btn",onClick:s[0]||(s[0]=d(n=>o.value.addModal=!1,["prevent"]))},[i(b)])]),default:_(()=>[t("form",mt,[t("div",pt,[bt,U(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=n=>e.name=n),placeholder:"Enter Name",maxlength:"50"},null,512),[[F,e.name]]),e.submit&&m.value?(c(),r("div",ft,v(m.value),1)):S("",!0)])]),t("div",gt,[t("div",Mt,[t("div",{class:"btn red-btn",onClick:s[2]||(s[2]=d(n=>o.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:k},"Submit")])])]),_:1},8,["show"]),i(f,{show:o.value.confirmModal,"onUpdate:show":s[6]||(s[6]=n=>o.value.confirmModal=n),class:"confirm-modal",headerClasses:"header-bg"},{header:_(()=>[St,t("div",{class:"close-btn",onClick:s[4]||(s[4]=d(n=>o.value.confirmModal=!1,["prevent"]))},[i(b)])]),default:_(()=>[jt,wt,t("div",Ct,[t("div",kt,[t("div",{class:"btn red-btn",onClick:s[5]||(s[5]=d(n=>o.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:y},"Delete")])])]),_:1},8,["show"])])}}};export{Dt as default};
