import{u as z,s as P,x as k,d as l,e as U,n as M,r as A,o as d,c as r,a as t,w as i,v as a,t as u,f as m,p as O,y as N,b as Y,j,m as V}from"./index-DwPljJjs.js";const q={class:"add-page"},B={class:"container"},F={class:"card"},K=t("div",{class:"heading-edit"},[t("h3",{class:"heading"},"Add Staff")],-1),L={class:"form mb-16"},$={class:"row"},R={class:"form-item mb-16 col-5"},T=t("div",{class:"title"},"Login Id",-1),G={key:0,class:"err-msg"},H={class:"form-item mb-16 col-5"},Z=t("div",{class:"title"},"Name",-1),J={key:0,class:"err-msg"},Q={class:"form-item mb-16 col-5"},W=t("div",{class:"title"},"Phone",-1),X={key:0,class:"err-msg"},ee={class:"row"},te={class:"form-item mb-16 col-5"},oe=t("div",{class:"title"},"Gender",-1),ne={class:"select-dropdown"},se=t("option",{value:"MALE"},"MALE",-1),ie=t("option",{value:"FEMALE"},"FEMALE",-1),ae=t("option",{value:"OTHER"},"OTHER",-1),le=[se,ie,ae],de={key:0,class:"err-msg"},re={class:"form-item mb-16 col-5"},ue=t("div",{class:"title"},"Dob",-1),me=["max"],ce={key:0,class:"err-msg"},pe={class:"form-item mb-16 col-5"},ge=t("div",{class:"title"},"Designation",-1),_e={key:0,class:"err-msg"},ve={class:"row"},he={class:"form-item mb-16 col-5"},fe=t("div",{class:"title"},"Joining Date",-1),ye=["max"],be={class:"form-item mb-16 col-5"},Ne=t("div",{class:"title"},"Email",-1),Ve={class:"form-item mb-16 col-5"},we=t("div",{class:"title"},"Nationality",-1),Ee={class:"row"},Se={class:"form-item mb-16 col-5"},xe=t("div",{class:"title"},"State",-1),De={class:"form-item mb-16 col-5"},Ie=t("div",{class:"title"},"City",-1),Ce={class:"form-item mb-16 col-5"},ze=t("div",{class:"title"},"Pincode",-1),Pe={class:"row"},ke={class:"form-item mb-16 col-5"},Ue=t("div",{class:"title"},"Father Name",-1),Me={class:"form-item mb-16 col-5"},Ae=t("div",{class:"title"},"Father Contact No",-1),Oe={class:"form-item mb-16 col-5"},Ye=t("div",{class:"title"},"Password",-1),je={key:0,class:"err-msg"},qe={class:"form-item mb-16"},Be={class:"card-footer"},Fe={class:"w-30 flex gap-10"},$e={__name:"AddStaff",setup(Ke){const c=z(),p=P();k(),l(()=>c.state.OrganizationStaff),l(()=>c.state.Designation);const w=l(()=>c.state.OrganizationSettings),e=U({submit:!1,organizationAccountId:null,organizationSettingId:null,typingTimer:null,typingDelay:500,searchKey:null,designationId:null,designation:"",phoneNumber:null,name:null,emailId:null,gender:"MALE",password:null,dob:null,joiningDate:null,contactNo:null,nationality:null,address:null,city:null,state:null,pincode:null,guardianName:null,guardianContactNo:null,designationId:null,organizationDetailId:null});M(()=>{p.query.id&&(e.organizationDetailId=p.query.id,e.organizationSettingId=p.query.settingId,E(),S())});function E(){c.dispatch("Designation/getMyDesignationBySetting",{settingId:p.query.settingId})}function S(){c.dispatch("OrganizationSettings/getOneOrganizationSettings",{id:e.organizationSettingId})}function x(){if(_.value||h.value||g.value||f.value||y.value||_.value||b.value){e.submit=!0;return}e.submit=!1,c.dispatch("OrganizationStaff/addStaff",{phoneNumber:e.phoneNumber,name:e.name,emailId:e.emailId,gender:e.gender,password:e.password,dob:e.dob,joiningDate:e.joiningDate,contactNo:e.phoneNumber,nationality:e.nationality,address:e.address,city:e.city,stateName:e.state,pincode:e.pincode,guardianName:e.guardianName,guardianContactNo:e.guardianContactNo,designationId:e.designationId,organizationDetailId:e.organizationDetailId,designation:e.designation,accountId:p.query.accountId,settingId:p.query.settingId})}const D=s=>{e.designationId=s.id},I=s=>{e.searchKey=s},h=l(()=>{if(!e.name)return"Please Enter Name"});l(()=>{let s=/^([a-z0-9.-]+)@([a-z]{4,12}).([a-z.]{2,20})$/;if(e.emailId){if(!s.test(e.emailId))return"Please Enter Valid Email!"}else return"Please Enter Email!"});const g=l(()=>{let s=/^[6-9][0-9]{9}$/;if(e.phoneNumber){if(!s.test(e.phoneNumber))return"Please Enter Valid Phone Number!"}else return"Please Enter Phone Number!"}),_=l(()=>{if(!e.designationId)return"Please Select Designation"}),f=l(()=>{if(!e.gender)return"Please Select Gender"}),y=l(()=>{if(!e.dob)return"Please Select Date of Birth"}),b=l(()=>{let s=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$@!%&*?])[A-Za-z\d#$@!%&*?]{8,16}$/;if(e.password){if(!s.test(e.password))return"password must have at least one uppercase and lowercase character,one number and special character!"}else return"Please Enter Password"});function v(s){let o=String.fromCharCode(s.keyCode);if(/^[0-9]+$/.test(o)||s.keyCode===8||s.keyCode===9||s.keyCode===37||s.keyCode===39||s.keyCode>=96&&s.keyCode<=105)return!0;s.preventDefault()}return(s,o)=>{const C=A("SingleSelect");return d(),r("section",q,[t("div",B,[t("div",F,[K,t("form",L,[t("div",$,[t("div",R,[T,i(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=n=>e.phoneNumber=n),placeholder:"Enter Phone Number",onKeydown:o[1]||(o[1]=n=>v(n)),maxlength:"10",disabled:""},null,544),[[a,e.phoneNumber]]),e.submit&&g.value?(d(),r("div",G,u(g.value),1)):m("",!0)]),t("div",H,[Z,i(t("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=n=>e.name=n),placeholder:"Enter Name",maxlength:"30"},null,512),[[a,e.name]]),e.submit&&h.value?(d(),r("div",J,u(h.value),1)):m("",!0)]),t("div",Q,[W,i(t("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=n=>e.phoneNumber=n),placeholder:"Enter Phone Number",onKeydown:o[4]||(o[4]=n=>v(n)),maxlength:"10"},null,544),[[a,e.phoneNumber]]),e.submit&&g.value?(d(),r("div",X,u(g.value),1)):m("",!0)])]),t("div",ee,[t("div",te,[oe,t("div",ne,[i(t("select",{name:"Gender",id:"gender","onUpdate:modelValue":o[5]||(o[5]=n=>e.gender=n)},le,512),[[O,e.gender]])]),e.submit&&f.value?(d(),r("div",de,u(f.value),1)):m("",!0)]),t("div",re,[ue,i(t("input",{type:"date","onUpdate:modelValue":o[6]||(o[6]=n=>e.dob=n),max:N(V)().format("YYYY-MM-DD")},null,8,me),[[a,e.dob]]),e.submit&&y.value?(d(),r("div",ce,u(y.value),1)):m("",!0)]),t("div",pe,[ge,Y(C,{options:w.value.designation,onSelected:D,modelValue:e.designation,"onUpdate:modelValue":o[7]||(o[7]=n=>e.designation=n),placeholder:"Select Designation",onSearch:I},null,8,["options","modelValue"]),e.submit&&_.value?(d(),r("div",_e,u(_.value),1)):m("",!0)])]),t("div",ve,[t("div",he,[fe,i(t("input",{type:"date","onUpdate:modelValue":o[8]||(o[8]=n=>e.joiningDate=n),max:N(V)().format("YYYY-MM-DD")},null,8,ye),[[a,e.joiningDate]])]),t("div",be,[Ne,i(t("input",{type:"text","onUpdate:modelValue":o[9]||(o[9]=n=>e.emailId=n),placeholder:"Enter E-mail ",maxlength:"30"},null,512),[[a,e.emailId]])]),t("div",Ve,[we,i(t("input",{type:"text","onUpdate:modelValue":o[10]||(o[10]=n=>e.nationality=n),placeholder:"Enter Nationality",maxlength:"20"},null,512),[[a,e.nationality]])])]),t("div",Ee,[t("div",Se,[xe,i(t("input",{type:"text","onUpdate:modelValue":o[11]||(o[11]=n=>e.state=n),placeholder:"Enter State"},null,512),[[a,e.state]])]),t("div",De,[Ie,i(t("input",{type:"text","onUpdate:modelValue":o[12]||(o[12]=n=>e.city=n),placeholder:"Enter City",maxlength:"10"},null,512),[[a,e.city]])]),t("div",Ce,[ze,i(t("input",{type:"text","onUpdate:modelValue":o[13]||(o[13]=n=>e.pincode=n),placeholder:"Enter Pincode",onKeydown:o[14]||(o[14]=n=>v(n)),maxlength:"6"},null,544),[[a,e.pincode]])])]),t("div",Pe,[t("div",ke,[Ue,i(t("input",{type:"text","onUpdate:modelValue":o[15]||(o[15]=n=>e.guardianName=n),placeholder:"Enter Father Name"},null,512),[[a,e.guardianName]])]),t("div",Me,[Ae,i(t("input",{type:"text","onUpdate:modelValue":o[16]||(o[16]=n=>e.guardianContactNo=n),placeholder:"Enter Father Contact No",onKeydown:o[17]||(o[17]=n=>v(n)),maxlength:"10"},null,544),[[a,e.guardianContactNo]])]),t("div",Oe,[Ye,i(t("input",{type:"password",name:"password","onUpdate:modelValue":o[18]||(o[18]=n=>e.password=n),placeholder:"Enter Password ",maxlength:"30"},null,512),[[a,e.password]]),e.submit&&b.value?(d(),r("div",je,u(b.value),1)):m("",!0)])]),t("div",qe,[i(t("textarea",{name:"Address",id:"address","onUpdate:modelValue":o[19]||(o[19]=n=>e.address=n),rows:"5",placeholder:"Address"},null,512),[[a,e.address]])])]),t("div",Be,[t("div",Fe,[t("button",{class:"btn white-btn w-full",type:"button",onClick:j(x,["prevent"])}," Add ")])])])])])}}};export{$e as default};
