import{u as N,s as V,x as $,d as p,e as A,n as O,r as i,o as r,c,a as t,b as a,j as d,F as q,z as L,f as C,g as u,t as v,w as U,v as F}from"./index-DwPljJjs.js";import{_ as P}from"./delete-ClllWuc2.js";const H={class:"user-activity user-profile"},R={class:"table-card"},T={class:"table-header"},j={class:"left"},G={class:"title-row"},J={class:"icon"},K=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Books Category : List"),t("h5",{class:"main-title"},"Our Books Category")],-1),Q={class:"right"},W={class:"searchbar"},X=t("input",{type:"text",placeholder:"Search here"},null,-1),Y={class:"icon"},Z={class:"icons"},tt=t("div",{class:"tooltip"},"Add Books Category",-1),et={class:"table-body mt-16"},ot={class:"table-outer"},st={class:"table"},nt=t("thead",null,[t("th",null,"#"),t("th",null,"Category"),t("th",{class:"text-center"},"Action")],-1),at={class:"option-btns"},it=["onClick"],dt=t("div",{class:"tooltip"},"Edit",-1),lt=["onClick"],rt=t("div",{class:"tooltip"},"Delete",-1),ct={key:0,class:"table-no-data"},_t=t("div",null,"No records Found!",-1),ut=[_t],vt={class:"title",showHeader:"true"},ht={class:"form mb-16"},mt={class:"form-item mb-16 col-10"},pt=t("div",{class:"title"},"Name",-1),gt={key:0,class:"err-msg"},bt={class:"modal-footer"},ft={class:"btns"},Ct=t("div",{class:"title",showHeader:"true"},"Delete",-1),yt=t("div",{class:"delete-icon"},[t("img",{src:P,alt:""})],-1),kt=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1),Mt={class:"modal-footer"},wt={class:"btns"},zt={__name:"BookCategoryList",setup(Bt){const _=N(),h=V();$();const s=p(()=>_.state.OrganizationSettings),e=A({organizationSettingId:null,organizationId:null,editMode:!1,bookCategoryId:null,name:null,priority:null});O(()=>{h.query.id&&(e.organizationSettingId=h.query.settingId,e.organizationId=h.query.id)});function y(){s.value.addModal=!0,e.editMode=!1,e.name=null}function k(l){s.value.addModal=!0,e.editMode=!0,e.bookCategoryId=l.id,e.name=l.name}function M(l){e.bookCategoryId=l,s.value.confirmModal=!0}function w(){if(m.value){e.submit=!0;return}e.submit=!1,e.editMode?_.dispatch("OrganizationSettings/updateBookCategory",{id:e.bookCategoryId,name:e.name,settingId:e.organizationSettingId}):_.dispatch("OrganizationSettings/addBookCategory",{name:e.name,settingId:e.organizationSettingId})}function B(){_.dispatch("OrganizationSettings/deleteBookCategory",{id:e.bookCategoryId,status:"DELETED"})}const m=p(()=>{if(!e.name)return"Please Enter Name"});return p(()=>{if(!e.priority)return"Please Enter Priority"}),(l,o)=>{const I=i("icon-user"),S=i("icon-search"),z=i("icon-plus"),D=i("icon-edit"),x=i("icon-delete"),g=i("icon-cross"),b=i("Modal");return r(),c("section",H,[t("div",R,[t("div",T,[t("div",j,[t("div",G,[t("div",J,[a(I)]),K])]),t("div",Q,[t("div",W,[X,t("div",Y,[a(S)])]),t("div",Z,[t("div",{class:"icon tooltip-wrapper",onClick:d(y,["prevent"])},[a(z),tt])])])]),t("div",et,[t("div",ot,[t("table",st,[nt,t("tbody",null,[(r(!0),c(q,null,L(s.value.bookCategory,(n,f)=>(r(),c("tr",{key:f},[t("td",null,v(f+1),1),t("td",null,v(n.name),1),t("td",null,[t("div",at,[t("div",{class:"icon tooltip-wrapper",onClick:E=>k(n)},[a(D),dt],8,it),t("div",{class:"icon tooltip-wrapper",onClick:d(E=>M(n.id),["prevent"])},[a(x),rt],8,lt)])])]))),128))])])]),s.value.bookCategory.length<=0?(r(),c("div",ct,ut)):C("",!0)])]),a(b,{show:s.value.addModal,"onUpdate:show":o[3]||(o[3]=n=>s.value.addModal=n),class:"faq-modal",headerClasses:"header-bg"},{header:u(()=>[t("div",vt,v(e.editMode?"Update Book Category":"Add Book Category"),1),t("div",{class:"close-btn",onClick:o[0]||(o[0]=d(n=>s.value.addModal=!1,["prevent"]))},[a(g)])]),default:u(()=>[t("form",ht,[t("div",mt,[pt,U(t("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=n=>e.name=n),placeholder:"Enter Name",maxlength:"50"},null,512),[[F,e.name]]),e.submit&&m.value?(r(),c("div",gt,v(m.value),1)):C("",!0)])]),t("div",bt,[t("div",ft,[t("div",{class:"btn red-btn",onClick:o[2]||(o[2]=d(n=>s.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),a(b,{show:s.value.confirmModal,"onUpdate:show":o[6]||(o[6]=n=>s.value.confirmModal=n),class:"confirm-modal",headerClasses:"header-bg"},{header:u(()=>[Ct,t("div",{class:"close-btn",onClick:o[4]||(o[4]=d(n=>s.value.confirmModal=!1,["prevent"]))},[a(g)])]),default:u(()=>[yt,kt,t("div",Mt,[t("div",wt,[t("div",{class:"btn red-btn",onClick:o[5]||(o[5]=d(n=>s.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:B},"Delete")])])]),_:1},8,["show"])])}}};export{zt as default};
