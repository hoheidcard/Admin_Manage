import{u as J,s as K,x as Q,d as W,e as X,n as Y,D as Z,r as e,o as d,c as r,a as t,b as a,w as v,v as tt,p as st,j as u,F as ot,z as nt,f as p,g as V,y as et,t as i,E as b}from"./index-DwPljJjs.js";const at={class:"faq-page"},it={class:"container"},lt={class:"table-card card"},ct={class:"table-header"},dt={class:"left"},rt={class:"title-row"},ut={class:"icon"},_t=t("div",{class:"titles"},[t("div",{class:"sub-title"},"School : List"),t("h5",{class:"main-title"},"Our School")],-1),pt={class:"right"},ht={class:"searchbar"},vt={class:"icon"},gt={class:"searchbar"},mt={class:"select-dropdown"},yt=t("option",{value:"ACTIVE"},"ACTIVE",-1),bt=t("option",{value:"PENDING"},"PENDING",-1),Ct=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),ft=[yt,bt,Ct],kt={class:"icons"},wt=t("div",{class:"tooltip"},"Add School",-1),It={class:"table-body p-16"},St={class:"table-outer"},Et={class:"table"},Vt=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Contact No"),t("th",null,"Owner Name"),t("th",null,"Address"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),Nt={key:0,class:"badge success-badge"},Tt={key:1,class:"badge warning-badge"},Dt={key:2,class:"badge danger-badge"},Mt={class:"option-btns"},Pt=["onClick"],zt=t("div",{class:"tooltip"},"Edit",-1),At=["onClick"],Ot=t("div",{class:"tooltip"},"Change Status",-1),$t=["onClick"],Ut=t("div",{class:"tooltip"},"My Branch",-1),xt=["onClick"],Bt=t("div",{class:"tooltip"},"Library",-1),Lt=["onClick"],qt=t("div",{class:"tooltip"},"My Staff",-1),Gt=["onClick"],Ft=t("div",{class:"tooltip"},"My Student",-1),Rt=["onClick"],Ht=t("div",{class:"tooltip"},"Setttngs",-1),jt={key:0,class:"table-no-data"},Jt=t("div",null,"No records Found!",-1),Kt=[Jt],Qt={key:1,class:"table-footer"},Wt=t("div",{class:"title",showHeader:"true"},"Change Status",-1),Xt={class:"status-row"},Yt={for:"approve",class:"data"},Zt={class:"data-inner approve-card"},ts=t("div",{class:"title"},"ACTIVE",-1),ss={for:"pending",class:"data"},os={class:"data-inner pending-card"},ns=t("div",{class:"title"},"PENDING",-1),es={for:"block",class:"data"},as={class:"data-inner block-card"},is=t("div",{class:"title"},"DEACTIVE",-1),ls={class:"modal-footer"},cs={class:"btns"},us={__name:"SchoolList",setup(ds){const m=J(),C=K(),f=Q(),l=W(()=>m.state.Organization),o=X({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"SCHOOL",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,organizationId:null,organizationAccountId:null,changeStatus:null});Y(()=>{g()}),Z(()=>o.keyword,()=>{clearTimeout(o.typingTimer),o.typingTimer=setTimeout(()=>{o.limit=10,o.offset=0,o.currentPage=1,g()},o.typingDelay)});function g(){m.dispatch("Organization/getOrganizationByCreator",{id:C.query.id,limit:o.limit,offset:o.offset,keyword:o.keyword,status:o.status,roles:o.roles})}function N(c,n){o.changeStatus=n,o.organizationId=c,l.value.statusModal=!0}function T(){m.dispatch("Organization/updateOrganizationStatus",{id:o.organizationId,status:o.changeStatus})}const D=c=>{o.currentPage=c,o.offset=o.limit*(c-1),g()};function M(){g()}function k(c,n){f.push({path:n,query:{id:c}})}function h(c,n,y){f.push({path:y,query:{id:c,settingId:n}})}return(c,n)=>{var w,I;const y=e("icon-help"),P=e("icon-search"),z=e("icon-plus"),A=e("icon-edit"),O=e("icon-status"),$=e("icon-menu"),U=e("icon-library-list"),x=e("icon-user-list"),B=e("icon-student-list"),L=e("icon-setting"),q=e("Pagination"),G=e("icon-cross"),F=e("icon-success"),R=e("icon-warning"),H=e("icon-block"),j=e("Modal");return d(),r("section",at,[t("div",it,[t("div",lt,[t("div",ct,[t("div",dt,[t("div",rt,[t("div",ut,[a(y)]),_t])]),t("div",pt,[t("div",ht,[v(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[tt,o.keyword]]),t("div",vt,[a(P)])]),t("div",gt,[t("div",mt,[v(t("select",{"onUpdate:modelValue":n[1]||(n[1]=s=>o.status=s),onChange:M},ft,544),[[st,o.status]])])]),t("div",kt,[t("div",{class:"icon tooltip-wrapper",onClick:n[2]||(n[2]=u(s=>k(et(C).query.id,"/crm/partners/add-school"),["prevent"]))},[a(z),wt])])])]),t("div",It,[t("div",St,[t("table",Et,[Vt,t("tbody",null,[(d(!0),r(ot,null,nt(l.value.organizationData,(s,S)=>{var E;return d(),r("tr",{key:S},[t("td",null,i(S+1),1),t("td",null,i(s.name),1),t("td",null,i(s.email),1),t("td",null,i(s.contactNo),1),t("td",null,i(s.ownerName),1),t("td",null,i(s.address),1),t("td",null,i(s.type),1),t("td",null,[s.status==="ACTIVE"?(d(),r("div",Nt,i(s.status),1)):p("",!0),s.status==="PENDING"?(d(),r("div",Tt,i(s.status),1)):p("",!0),s.status==="DEACTIVE"?(d(),r("div",Dt,i(s.status),1)):p("",!0)]),t("td",null,[t("div",Mt,[t("div",{class:"icon tooltip-wrapper",onClick:_=>k(s.id,"/crm/edit-school")},[a(A),zt],8,Pt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>N(s.id,s.status),["prevent"])},[a(O),Ot],8,At),((E=s.setting)==null?void 0:E.type)==="MULTI"?(d(),r("div",{key:0,class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/school/my-branch",s.accountId),["prevent"])},[a($),Ut],8,$t)):p("",!0),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/school/library"),["prevent"])},[a(U),Bt],8,xt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/school/my-staff",s.accountId),["prevent"])},[a(x),qt],8,Lt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/school/my-student"),["prevent"])},[a(B),Ft],8,Gt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/school/setting/class-list"),["prevent"])},[a(L),Ht],8,Rt)])])])}),128))])])]),((w=l.value.organizationData)==null?void 0:w.length)<=0?(d(),r("div",jt,Kt)):p("",!0),((I=l.value.organizationData)==null?void 0:I.length)>0?(d(),r("div",Qt,[a(q,{currentPage:o.currentPage,totalItem:l.value.totalOrganization,itemsPerPage:o.limit,"onUpdate:currentPage":n[3]||(n[3]=s=>D(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):p("",!0)])])]),a(j,{show:l.value.statusModal,"onUpdate:show":n[9]||(n[9]=s=>l.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:V(()=>[Wt,t("div",{class:"close-btn",onClick:n[4]||(n[4]=u(s=>l.value.statusModal=!1,["prevent"]))},[a(G)])]),default:V(()=>[t("div",Xt,[t("label",Yt,[v(t("input",{type:"radio","onUpdate:modelValue":n[5]||(n[5]=s=>o.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[b,o.changeStatus]]),t("div",Zt,[a(F),ts])]),t("label",ss,[v(t("input",{type:"radio","onUpdate:modelValue":n[6]||(n[6]=s=>o.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[b,o.changeStatus]]),t("div",os,[a(R),ns])]),t("label",es,[v(t("input",{type:"radio","onUpdate:modelValue":n[7]||(n[7]=s=>o.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[b,o.changeStatus]]),t("div",as,[a(H),is])])]),t("div",ls,[t("div",cs,[t("div",{class:"btn red-btn",onClick:n[8]||(n[8]=u(s=>l.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:T},"Submit")])])]),_:1},8,["show"])])}}};export{us as default};
