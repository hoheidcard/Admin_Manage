import{u as C,s as z,x as P,d as l,e as k,n as U,r as M,o as d,c as r,a as t,w as i,v as a,t as u,f as m,p as A,y as N,b as O,j as Y,m as V}from"./index-DwPljJjs.js";const j={class:"add-page"},q={class:"container"},B={class:"card"},F=t("div",{class:"heading-edit"},[t("h3",{class:"heading"},"Add Staff")],-1),K={class:"form mb-16"},L={class:"row"},$={class:"form-item mb-16 col-5"},R=t("div",{class:"title"},"Login Id",-1),T={key:0,class:"err-msg"},G={class:"form-item mb-16 col-5"},H=t("div",{class:"title"},"Name",-1),Z={key:0,class:"err-msg"},J={class:"form-item mb-16 col-5"},Q=t("div",{class:"title"},"Phone",-1),W={key:0,class:"err-msg"},X={class:"row"},ee={class:"form-item mb-16 col-5"},te=t("div",{class:"title"},"Gender",-1),oe={class:"select-dropdown"},ne=t("option",{value:"MALE"},"MALE",-1),se=t("option",{value:"FEMALE"},"FEMALE",-1),ie=t("option",{value:"OTHER"},"OTHER",-1),ae=[ne,se,ie],le={key:0,class:"err-msg"},de={class:"form-item mb-16 col-5"},re=t("div",{class:"title"},"Dob",-1),ue=["max"],me={key:0,class:"err-msg"},ce={class:"form-item mb-16 col-5"},pe=t("div",{class:"title"},"Designation",-1),ge={key:0,class:"err-msg"},_e={class:"row"},ve={class:"form-item mb-16 col-5"},he=t("div",{class:"title"},"Joining Date",-1),fe=["max"],ye={class:"form-item mb-16 col-5"},be=t("div",{class:"title"},"Email",-1),Ne={class:"form-item mb-16 col-5"},Ve=t("div",{class:"title"},"Nationality",-1),we={class:"row"},Ee={class:"form-item mb-16 col-5"},Se=t("div",{class:"title"},"State",-1),xe={class:"form-item mb-16 col-5"},De=t("div",{class:"title"},"City",-1),Ie={class:"form-item mb-16 col-5"},Ce=t("div",{class:"title"},"Pincode",-1),ze={class:"row"},Pe={class:"form-item mb-16 col-5"},ke=t("div",{class:"title"},"Father Name",-1),Ue={class:"form-item mb-16 col-5"},Me=t("div",{class:"title"},"Father Contact No",-1),Ae={class:"form-item mb-16 col-5"},Oe=t("div",{class:"title"},"Password",-1),Ye={key:0,class:"err-msg"},je={class:"form-item mb-16"},qe={class:"card-footer"},Be={class:"w-30 flex gap-10"},Le={__name:"AddStaff",setup(Fe){const c=C(),p=z();P(),l(()=>c.state.OrganizationStaff),l(()=>c.state.Designation);const w=l(()=>c.state.OrganizationSettings),e=k({submit:!1,organizationAccountId:null,organizationSettingId:null,typingTimer:null,typingDelay:500,searchKey:null,designationId:null,designation:"",phoneNumber:null,name:null,emailId:null,gender:"MALE",password:null,dob:null,joiningDate:null,contactNo:null,nationality:null,address:null,city:null,state:null,pincode:null,guardianName:null,guardianContactNo:null,designationId:null,organizationDetailId:null});U(()=>{p.query.id&&(e.organizationDetailId=p.query.id,e.organizationSettingId=p.query.settingId,getDesignation(),E())}),c.dispatch("Designation/getMyDesignationBySetting",{settingId:p.query.settingId});function E(){c.dispatch("OrganizationSettings/getOneOrganizationSettings",{id:e.organizationSettingId})}function S(){if(_.value||h.value||g.value||f.value||y.value||_.value||b.value){e.submit=!0;return}e.submit=!1,c.dispatch("OrganizationStaff/addStaff",{phoneNumber:e.phoneNumber,name:e.name,emailId:e.emailId,gender:e.gender,password:e.password,dob:e.dob,joiningDate:e.joiningDate,contactNo:e.phoneNumber,nationality:e.nationality,address:e.address,city:e.city,stateName:e.state,pincode:e.pincode,guardianName:e.guardianName,guardianContactNo:e.guardianContactNo,designationId:e.designationId,organizationDetailId:e.organizationDetailId,designation:e.designation,accountId:p.query.accountId,settingId:p.query.settingId})}const x=s=>{e.designationId=s.id},D=s=>{e.searchKey=s},h=l(()=>{if(!e.name)return"Please Enter Name"});l(()=>{let s=/^([a-z0-9.-]+)@([a-z]{4,12}).([a-z.]{2,20})$/;if(e.emailId){if(!s.test(e.emailId))return"Please Enter Valid Email!"}else return"Please Enter Email!"});const g=l(()=>{let s=/^[6-9][0-9]{9}$/;if(e.phoneNumber){if(!s.test(e.phoneNumber))return"Please Enter Valid Phone Number!"}else return"Please Enter Phone Number!"}),_=l(()=>{if(!e.designationId)return"Please Select Designation"}),f=l(()=>{if(!e.gender)return"Please Select Gender"}),y=l(()=>{if(!e.dob)return"Please Select Date of Birth"}),b=l(()=>{let s=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$@!%&*?])[A-Za-z\d#$@!%&*?]{8,16}$/;if(e.password){if(!s.test(e.password))return"password must have at least one uppercase and lowercase character,one number and special character!"}else return"Please Enter Password"});function v(s){let o=String.fromCharCode(s.keyCode);if(/^[0-9]+$/.test(o)||s.keyCode===8||s.keyCode===9||s.keyCode===37||s.keyCode===39||s.keyCode>=96&&s.keyCode<=105)return!0;s.preventDefault()}return(s,o)=>{const I=M("SingleSelect");return d(),r("section",j,[t("div",q,[t("div",B,[F,t("form",K,[t("div",L,[t("div",$,[R,i(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=n=>e.phoneNumber=n),placeholder:"Enter Phone Number",onKeydown:o[1]||(o[1]=n=>v(n)),maxlength:"10",disabled:""},null,544),[[a,e.phoneNumber]]),e.submit&&g.value?(d(),r("div",T,u(g.value),1)):m("",!0)]),t("div",G,[H,i(t("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=n=>e.name=n),placeholder:"Enter Name",maxlength:"30"},null,512),[[a,e.name]]),e.submit&&h.value?(d(),r("div",Z,u(h.value),1)):m("",!0)]),t("div",J,[Q,i(t("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=n=>e.phoneNumber=n),placeholder:"Enter Phone Number",onKeydown:o[4]||(o[4]=n=>v(n)),maxlength:"10"},null,544),[[a,e.phoneNumber]]),e.submit&&g.value?(d(),r("div",W,u(g.value),1)):m("",!0)])]),t("div",X,[t("div",ee,[te,t("div",oe,[i(t("select",{name:"Gender",id:"gender","onUpdate:modelValue":o[5]||(o[5]=n=>e.gender=n)},ae,512),[[A,e.gender]])]),e.submit&&f.value?(d(),r("div",le,u(f.value),1)):m("",!0)]),t("div",de,[re,i(t("input",{type:"date","onUpdate:modelValue":o[6]||(o[6]=n=>e.dob=n),max:N(V)().format("YYYY-MM-DD")},null,8,ue),[[a,e.dob]]),e.submit&&y.value?(d(),r("div",me,u(y.value),1)):m("",!0)]),t("div",ce,[pe,O(I,{options:w.value.designation,onSelected:x,modelValue:e.designation,"onUpdate:modelValue":o[7]||(o[7]=n=>e.designation=n),placeholder:"Select Designation",onSearch:D},null,8,["options","modelValue"]),e.submit&&_.value?(d(),r("div",ge,u(_.value),1)):m("",!0)])]),t("div",_e,[t("div",ve,[he,i(t("input",{type:"date","onUpdate:modelValue":o[8]||(o[8]=n=>e.joiningDate=n),max:N(V)().format("YYYY-MM-DD")},null,8,fe),[[a,e.joiningDate]])]),t("div",ye,[be,i(t("input",{type:"text","onUpdate:modelValue":o[9]||(o[9]=n=>e.emailId=n),placeholder:"Enter E-mail ",maxlength:"30"},null,512),[[a,e.emailId]])]),t("div",Ne,[Ve,i(t("input",{type:"text","onUpdate:modelValue":o[10]||(o[10]=n=>e.nationality=n),placeholder:"Enter Nationality",maxlength:"20"},null,512),[[a,e.nationality]])])]),t("div",we,[t("div",Ee,[Se,i(t("input",{type:"text","onUpdate:modelValue":o[11]||(o[11]=n=>e.state=n),placeholder:"Enter State"},null,512),[[a,e.state]])]),t("div",xe,[De,i(t("input",{type:"text","onUpdate:modelValue":o[12]||(o[12]=n=>e.city=n),placeholder:"Enter City",maxlength:"10"},null,512),[[a,e.city]])]),t("div",Ie,[Ce,i(t("input",{type:"text","onUpdate:modelValue":o[13]||(o[13]=n=>e.pincode=n),placeholder:"Enter Pincode",onKeydown:o[14]||(o[14]=n=>v(n)),maxlength:"6"},null,544),[[a,e.pincode]])])]),t("div",ze,[t("div",Pe,[ke,i(t("input",{type:"text","onUpdate:modelValue":o[15]||(o[15]=n=>e.guardianName=n),placeholder:"Enter Father Name"},null,512),[[a,e.guardianName]])]),t("div",Ue,[Me,i(t("input",{type:"text","onUpdate:modelValue":o[16]||(o[16]=n=>e.guardianContactNo=n),placeholder:"Enter Father Contact No",onKeydown:o[17]||(o[17]=n=>v(n)),maxlength:"10"},null,544),[[a,e.guardianContactNo]])]),t("div",Ae,[Oe,i(t("input",{type:"password",name:"password","onUpdate:modelValue":o[18]||(o[18]=n=>e.password=n),placeholder:"Enter Password ",maxlength:"30"},null,512),[[a,e.password]]),e.submit&&b.value?(d(),r("div",Ye,u(b.value),1)):m("",!0)])]),t("div",je,[i(t("textarea",{name:"Address",id:"address","onUpdate:modelValue":o[19]||(o[19]=n=>e.address=n),rows:"5",placeholder:"Address"},null,512),[[a,e.address]])])]),t("div",qe,[t("div",Be,[t("button",{class:"btn white-btn w-full",type:"button",onClick:Y(S,["prevent"])}," Add ")])])])])])}}};export{Le as default};
