import{u as O,s as U,x as q,d as f,e as B,n as L,r as l,o as a,c as r,a as t,b as d,j as c,F,z as H,f as y,g as v,t as u,w as k,v as M}from"./index-DwPljJjs.js";import{_ as R}from"./delete-ClllWuc2.js";const T={class:"user-activity user-profile"},j={class:"table-card"},K={class:"table-header"},G={class:"left"},J={class:"title-row"},Q={class:"icon"},W=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Section : List"),t("h5",{class:"main-title"},"Our Section")],-1),X={class:"right"},Y={class:"searchbar"},Z=t("input",{type:"text",placeholder:"Search here"},null,-1),tt={class:"icon"},et={class:"icons"},ot=t("div",{class:"tooltip"},"Add Section",-1),st={class:"table-body mt-16"},it={class:"table-outer"},nt={class:"table"},dt=t("thead",null,[t("th",null,"#"),t("th",null,"Section"),t("th",null,"Priority"),t("th",{class:"text-center"},"Action")],-1),lt={class:"option-btns"},at=["onClick"],rt=t("div",{class:"tooltip"},"Edit",-1),ct=["onClick"],ut=t("div",{class:"tooltip"},"Delete",-1),_t={key:0,class:"table-no-data"},vt=t("div",null,"No records Found!",-1),pt=[vt],mt={class:"title",showHeader:"true"},ht={class:"form mb-16"},ft={class:"form-item mb-16 col-10"},yt=t("div",{class:"title"},"Name",-1),bt={key:0,class:"err-msg"},gt={class:"form-item mb-16 col-10"},Ct=t("div",{class:"title"},"Priority",-1),kt={key:0,class:"err-msg"},Mt={class:"modal-footer"},wt={class:"btns"},St=t("div",{class:"title",showHeader:"true"},"Delete",-1),Dt=t("div",{class:"delete-icon"},[t("img",{src:R,alt:""})],-1),It=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1),xt={class:"modal-footer"},zt={class:"btns"},$t={__name:"DivisionList",setup(Et){const _=O(),p=U();q();const n=f(()=>_.state.OrganizationSettings),e=B({organizationSettingId:null,organizationId:null,editMode:!1,divisionId:null,name:null,priority:null});L(()=>{p.query.id&&(e.organizationSettingId=p.query.settingId,e.organizationId=p.query.id)});function w(){n.value.addModal=!0,e.editMode=!1,e.name=null,e.priority=null}function S(i){n.value.addModal=!0,e.editMode=!0,e.divisionId=i.id,e.name=i.name,e.priority=i.priority}function D(i){e.divisionId=i,n.value.confirmModal=!0}function I(){if(m.value||h.value){e.submit=!0;return}e.submit=!1,e.editMode?_.dispatch("OrganizationSettings/updateDivision",{id:e.divisionId,name:e.name,priority:e.priority,settingId:e.organizationSettingId}):_.dispatch("OrganizationSettings/addDivision",{name:e.name,priority:e.priority,settingId:e.organizationSettingId})}function x(){_.dispatch("OrganizationSettings/deleteDivision",{id:e.divisionId,status:"DELETED"})}const m=f(()=>{if(!e.name)return"Please Enter Name"}),h=f(()=>{if(!e.priority)return"Please Enter Priority"});function z(i){let o=String.fromCharCode(i.keyCode);if(/^[0-9]+$/.test(o)||i.keyCode===8||i.keyCode===9||i.keyCode===37||i.keyCode===39||i.keyCode>=96&&i.keyCode<=105)return!0;i.preventDefault()}return(i,o)=>{const E=l("icon-user"),V=l("icon-search"),N=l("icon-plus"),$=l("icon-edit"),P=l("icon-delete"),b=l("icon-cross"),g=l("Modal");return a(),r("section",T,[t("div",j,[t("div",K,[t("div",G,[t("div",J,[t("div",Q,[d(E)]),W])]),t("div",X,[t("div",Y,[Z,t("div",tt,[d(V)])]),t("div",et,[t("div",{class:"icon tooltip-wrapper",onClick:c(w,["prevent"])},[d(N),ot])])])]),t("div",st,[t("div",it,[t("table",nt,[dt,t("tbody",null,[(a(!0),r(F,null,H(n.value.classDiv,(s,C)=>(a(),r("tr",{key:C},[t("td",null,u(C+1),1),t("td",null,u(s.name),1),t("td",null,u(s.priority),1),t("td",null,[t("div",lt,[t("div",{class:"icon tooltip-wrapper",onClick:A=>S(s)},[d($),rt],8,at),t("div",{class:"icon tooltip-wrapper",onClick:c(A=>D(s.id),["prevent"])},[d(P),ut],8,ct)])])]))),128))])])]),n.value.classDiv.length<=0?(a(),r("div",_t,pt)):y("",!0)])]),d(g,{show:n.value.addModal,"onUpdate:show":o[5]||(o[5]=s=>n.value.addModal=s),class:"faq-modal",headerClasses:"header-bg"},{header:v(()=>[t("div",mt,u(e.editMode?"Update Section":"Add Section"),1),t("div",{class:"close-btn",onClick:o[0]||(o[0]=c(s=>n.value.addModal=!1,["prevent"]))},[d(b)])]),default:v(()=>[t("form",ht,[t("div",ft,[yt,k(t("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=s=>e.name=s),placeholder:"Enter Name",maxlength:"50"},null,512),[[M,e.name]]),e.submit&&m.value?(a(),r("div",bt,u(m.value),1)):y("",!0)]),t("div",gt,[Ct,k(t("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=s=>e.priority=s),placeholder:"Enter Priority",onKeydown:o[3]||(o[3]=s=>z(s)),maxlength:"3"},null,544),[[M,e.priority]]),e.submit&&h.value?(a(),r("div",kt,u(h.value),1)):y("",!0)])]),t("div",Mt,[t("div",wt,[t("div",{class:"btn red-btn",onClick:o[4]||(o[4]=c(s=>n.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:I},"Submit")])])]),_:1},8,["show"]),d(g,{show:n.value.confirmModal,"onUpdate:show":o[8]||(o[8]=s=>n.value.confirmModal=s),class:"confirm-modal",headerClasses:"header-bg"},{header:v(()=>[St,t("div",{class:"close-btn",onClick:o[6]||(o[6]=c(s=>n.value.confirmModal=!1,["prevent"]))},[d(b)])]),default:v(()=>[Dt,It,t("div",xt,[t("div",zt,[t("div",{class:"btn red-btn",onClick:o[7]||(o[7]=c(s=>n.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:x},"Delete")])])]),_:1},8,["show"])])}}};export{$t as default};
