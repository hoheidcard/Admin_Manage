import{u as X,x as Y,d as S,e as Z,n as tt,D as et,r as l,o as d,c,a as t,b as i,w as u,v as k,p as st,j as r,F as ot,z as at,f as v,g as h,t as _,E as M}from"./index-DwPljJjs.js";import{_ as it}from"./camera-B4WFWT0E.js";const nt={class:"faq-page"},lt={class:"container"},dt={class:"table-card card"},ct={class:"table-header"},rt={class:"left"},ut={class:"title-row"},_t={class:"icon"},pt=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Category : List"),t("h5",{class:"main-title"},"Category List")],-1),vt={class:"right"},ht={class:"searchbar"},gt={class:"icon"},mt={class:"searchbar"},ft={class:"select-dropdown"},Ct=t("option",{value:"ACTIVE"},"ACTIVE",-1),bt=t("option",{value:"PENDING"},"PENDING",-1),yt=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),wt=[Ct,bt,yt],kt={class:"icons"},Mt=t("div",{class:"tooltip"},"Add Category",-1),Et={class:"table-body p-16"},It={class:"table-outer"},Vt={class:"table"},St=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Image"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),Pt=["src"],Tt={key:0,class:"badge success-badge"},Dt={key:1,class:"badge warning-badge"},At={key:2,class:"badge danger-badge"},Ut={class:"option-btns"},Nt=["onClick"],xt=t("div",{class:"tooltip"},"Edit",-1),$t=["onClick"],Bt=t("div",{class:"tooltip"},"Products",-1),Gt=["onClick"],Ft=t("div",{class:"tooltip"},"Image",-1),Lt=["onClick"],Rt=t("div",{class:"tooltip"},"Status Change",-1),qt={key:0,class:"table-no-data"},Ht=t("div",null,"No records Found!",-1),jt=[Ht],zt={key:1,class:"table-footer"},Jt={class:"title",showHeader:"true"},Kt={class:"form mb-16"},Ot={class:"form-item mb-16"},Qt=t("div",{class:"title"},"Title",-1),Wt={key:0,class:"err-msg"},Xt={class:"form-item mb-16"},Yt=t("div",{class:"title"},"Description",-1),Zt={class:"modal-footer"},te={class:"btns"},ee=t("div",{class:"title",showHeader:"true"},"Change Status",-1),se={class:"status-row"},oe={for:"approve",class:"data"},ae={class:"data-inner approve-card"},ie=t("div",{class:"title"},"ACTIVE",-1),ne={for:"pending",class:"data"},le={class:"data-inner pending-card"},de=t("div",{class:"title"},"PENDING",-1),ce={for:"block",class:"data"},re={class:"data-inner block-card"},ue=t("div",{class:"title"},"DEACTIVE",-1),_e={class:"modal-footer"},pe={class:"btns"},ve=t("div",{class:"title",showHeader:"true"},"Upload Category Image",-1),he={class:"img-upload flex flex-d-col align-center"},ge=t("div",{class:"text text-small mb-10"},"Category Image",-1),me=["src"],fe={key:1,src:it,class:"dummy-img",alt:""},Ce={class:"form-group"},be={class:"modal-footer"},ye={class:"btns"},Ee={__name:"Category",setup(we){const p=X(),P=Y(),a=S(()=>p.state.Category),e=Z({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",changeStatus:null,currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,id:null,title:null,desc:null,image:null,file:null});tt(()=>{g()}),et(()=>e.keyword,()=>{clearTimeout(e.typingTimer),e.typingTimer=setTimeout(()=>{e.limit=10,e.offset=0,e.currentPage=1,g()},e.typingDelay)});function g(){p.dispatch("Category/getCategoryByStatus",{limit:e.limit,offset:e.offset,keyword:e.keyword,status:e.status})}function T(){a.value.addModal=!0,e.editMode=!1,e.id=null,e.title=null,e.desc=null}function D(n){a.value.addModal=!0,e.editMode=!0,e.id=n.id,e.title=n.title,e.desc=n.desc}function A(n,s){e.changeStatus=s,e.id=n,a.value.statusModal=!0}function U(n,s){e.image=s,e.id=n,a.value.imageModal=!0}function N(){if(f.value){e.submit=!0;return}e.submit=!1,e.editMode?p.dispatch("Category/updateCategory",{id:e.id,title:e.title,desc:e.desc}):p.dispatch("Category/createCategory",{title:e.title,desc:e.desc})}function x(){e.id&&e.changeStatus&&p.dispatch("Category/updateCategorytatus",{id:e.id,status:e.changeStatus})}function $(){e.id&&e.file&&p.dispatch("Category/updateCategoryImage",{id:e.id,file:e.file})}const B=n=>{e.currentPage=n,e.offset=e.limit*(n-1),g()};function G(){g()}function F(){document.getElementById("file-field1").click()}function L(n){var s,m=n.target.files;s=new FileReader,s.onload=C=>{e.image=C.target.result},s.readAsDataURL(m[0]),e.file=m[0]}function R(n,s){P.push({path:s,query:{id:n}})}const f=S(()=>{if(!e.title)return"Please Enter title"});return(n,s)=>{var E,I;const m=l("icon-help"),C=l("icon-search"),q=l("icon-plus"),H=l("icon-edit"),j=l("icon-eye"),z=l("icon-card"),J=l("icon-setting"),K=l("Pagination"),b=l("icon-cross"),y=l("Modal"),O=l("icon-success"),Q=l("icon-warning"),W=l("icon-block");return d(),c("section",nt,[t("div",lt,[t("div",dt,[t("div",ct,[t("div",rt,[t("div",ut,[t("div",_t,[i(m)]),pt])]),t("div",vt,[t("div",ht,[u(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>e.keyword=o),placeholder:"Search here"},null,512),[[k,e.keyword]]),t("div",gt,[i(C)])]),t("div",mt,[t("div",ft,[u(t("select",{name:"",id:"","onUpdate:modelValue":s[1]||(s[1]=o=>e.status=o),onChange:G},wt,544),[[st,e.status]])])]),t("div",kt,[t("div",{class:"icon tooltip-wrapper",onClick:r(T,["prevent"])},[i(q),Mt])])])]),t("div",Et,[t("div",It,[t("table",Vt,[St,t("tbody",null,[(d(!0),c(ot,null,at(a.value.data,(o,V)=>(d(),c("tr",{key:V},[t("td",null,_(V+1),1),t("td",null,_(o.title),1),t("td",null,[t("img",{src:`${o.image}?width=50`,alt:""},null,8,Pt)]),t("td",null,[o.status==="ACTIVE"?(d(),c("div",Tt,_(o.status),1)):v("",!0),o.status==="PENDING"?(d(),c("div",Dt,_(o.status),1)):v("",!0),o.status==="DEACTIVE"?(d(),c("div",At,_(o.status),1)):v("",!0)]),t("td",null,[t("div",Ut,[t("div",{class:"icon tooltip-wrapper",onClick:w=>D(o)},[i(H),xt],8,Nt),t("div",{class:"icon tooltip-wrapper",onClick:w=>R(o.id,"/crm/product-list")},[i(j),Bt],8,$t),t("div",{class:"icon tooltip-wrapper",onClick:w=>U(o.id,o.image)},[i(z),Ft],8,Gt),t("div",{class:"icon tooltip-wrapper",onClick:r(w=>A(o.id,o.status),["prevent"])},[i(J),Rt],8,Lt)])])]))),128))])])]),((E=a.value.data)==null?void 0:E.length)<=0?(d(),c("div",qt,jt)):v("",!0),((I=a.value.data)==null?void 0:I.length)>0?(d(),c("div",zt,[i(K,{currentPage:e.currentPage,totalItem:a.value.total,itemsPerPage:e.limit,"onUpdate:currentPage":s[2]||(s[2]=o=>B(o))},null,8,["currentPage","totalItem","itemsPerPage"])])):v("",!0)])])]),i(y,{show:a.value.addModal,"onUpdate:show":s[7]||(s[7]=o=>a.value.addModal=o),class:"faq-modal",headerClasses:"header-bg"},{header:h(()=>[t("div",Jt,_(e.editMode?"Update Title":"Add Title"),1),t("div",{class:"close-btn",onClick:s[3]||(s[3]=r(o=>a.value.addModal=!1,["prevent"]))},[i(b)])]),default:h(()=>[t("form",Kt,[t("div",Ot,[Qt,u(t("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=o=>e.title=o),placeholder:"Enter Title"},null,512),[[k,e.title]]),e.submit&&f.value?(d(),c("div",Wt,_(f.value),1)):v("",!0)]),t("div",Xt,[Yt,u(t("textarea",{type:"text",rows:"5","onUpdate:modelValue":s[5]||(s[5]=o=>e.desc=o),placeholder:"Enter Description"},null,512),[[k,e.desc]])])]),t("div",Zt,[t("div",te,[t("div",{class:"btn red-btn",onClick:s[6]||(s[6]=r(o=>a.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:N},"Submit")])])]),_:1},8,["show"]),i(y,{show:a.value.statusModal,"onUpdate:show":s[13]||(s[13]=o=>a.value.statusModal=o),class:"status-modal",headerClasses:"header-bg"},{header:h(()=>[ee,t("div",{class:"close-btn",onClick:s[8]||(s[8]=r(o=>a.value.statusModal=!1,["prevent"]))},[i(b)])]),default:h(()=>[t("div",se,[t("label",oe,[u(t("input",{type:"radio","onUpdate:modelValue":s[9]||(s[9]=o=>e.changeStatus=o),value:"ACTIVE",id:"approve",name:"status"},null,512),[[M,e.changeStatus]]),t("div",ae,[i(O),ie])]),t("label",ne,[u(t("input",{type:"radio","onUpdate:modelValue":s[10]||(s[10]=o=>e.changeStatus=o),value:"PENDING",id:"pending",name:"status"},null,512),[[M,e.changeStatus]]),t("div",le,[i(Q),de])]),t("label",ce,[u(t("input",{type:"radio","onUpdate:modelValue":s[11]||(s[11]=o=>e.changeStatus=o),value:"DEACTIVE",id:"block",name:"status"},null,512),[[M,e.changeStatus]]),t("div",re,[i(W),ue])])]),t("div",_e,[t("div",pe,[t("div",{class:"btn red-btn",onClick:s[12]||(s[12]=r(o=>a.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:x},"Submit")])])]),_:1},8,["show"]),i(y,{show:a.value.imageModal,"onUpdate:show":s[16]||(s[16]=o=>a.value.imageModal=o),class:"confirm-modal",headerClasses:"header-bg"},{header:h(()=>[ve,t("div",{class:"close-btn",onClick:s[14]||(s[14]=r(o=>a.value.confirmModal=!1,["prevent"]))},[i(b)])]),default:h(()=>[t("div",he,[ge,t("div",{class:"img-upload-wrapper h-10-r w-10-r",onClick:F},[e.image?(d(),c("img",{key:0,src:e.image,class:"preview-image",alt:""},null,8,me)):(d(),c("img",fe)),t("div",Ce,[t("input",{name:"image",type:"file",id:"file-field1",onChange:L,style:{display:"none"}},null,32)])])]),t("div",be,[t("div",ye,[t("div",{class:"btn red-btn",onClick:s[15]||(s[15]=r(o=>a.value.imageModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",type:"button",onClick:r($,["prevent"])}," Upload ")])])]),_:1},8,["show"])])}}};export{Ee as default};
