import{u as x,d as B,e as q,r as m,o as d,c as n,a as e,b as u,F as p,z as b,g as T,t as _,w,O as F,j as k,p as V,q as S}from"./index-DwPljJjs.js";import{_ as H}from"./delete-ClllWuc2.js";const N={class:"dr-schedule"},G={class:"table-card mb-10"},J={class:"table-header"},K={class:"left"},Q={class:"title-row"},R={class:"icon"},W=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Time Table : List"),e("h5",{class:"main-title"},"Time Table")],-1),X=e("div",{class:"right"},null,-1),Y={class:"schedule-question"},Z={class:"switch"},ee=["checked","onChange"],te=e("span",{class:"slider"},null,-1),se={class:"schedule-answer"},oe={class:"icons schedule-plus"},le=["onClick"],ie=e("div",{class:"tooltip"},"Add Schedule",-1),de={class:"cards"},ae={class:"main-title"},ne={class:""},ce={class:""},ue={class:""},_e={class:"icons flex align-center gap-10"},re={class:"hed-icon icon tooltip-wrapper"},me=e("div",{class:"tooltip"},"Edit Schedule",-1),ve={class:"hed-icon icon tooltip-wrapper"},fe=e("div",{class:"tooltip"},"Delete Schedule",-1),he={class:"time-row row"},pe={class:"form-item col-6 mb-16"},be=e("div",{class:"title"},"Start Time",-1),Ie={class:"form-item col-6 mb-16"},Te=e("div",{class:"title"},"End Time",-1),we={class:"title",showHeader:"true"},ke={class:"single-card"},Se={class:"form-item mb-10 col-5"},Ve=e("div",{class:"title"},"Subject",-1),Me={class:"select-dropdown"},Ce=e("option",{value:null},"Select",-1),ge=["value"],De={class:"form-item mb-10 col-5"},je=e("div",{class:"title"},"Class",-1),Ue={class:"select-dropdown"},ye=e("option",{value:null},"Select",-1),Le=["value"],Pe={class:"form-item mb-10 col-5"},$e=e("div",{class:"title"},"Section",-1),ze={class:"select-dropdown"},Ae=e("option",{value:null},"Select",-1),Oe=["value"],Ee={class:"time-row row"},xe={class:"form-item col-6 mb-16"},Be=e("div",{class:"title"},"Start Time",-1),qe={class:"form-item col-6 mb-16"},Fe=e("div",{class:"title"},"End Time",-1),He={type:"submit",class:"btn white-btn w-100"},Ne=e("div",{class:"title",showHeader:"true"},"Delete",-1),Ge=e("div",{class:"delete-icon"},[e("img",{src:H,alt:""})],-1),Je=e("h4",null,"Are you sure want to Delete ?",-1),Ke={class:"btns"},Xe={__name:"StaffTimeTable",setup(Qe){const f=x(),a=B(()=>f.state.OrganizationStaff),t=q({submit:!1,limit:10,offset:0,keyword:"",status:!0,org:null,confirmModal:!1,editMode:!1,addModal:!1,periodStatus:!0,offline:!1,online:!1,redioStatus:null,clinicVisitStatus:!1,time_start:"00:00:00",time_end:"00:00:00",staffTimeTableId:null,subjectId:null,classListId:null,classDivId:null,periodId:null,scheduleId:null,edit_time_start:null,edit_time_end:null});function U(i,o){t.periodId=i,t.staffTimeTableId=o,t.confirmModal=!0}function y(){f.dispatch("OrganizationStaff/deletePeriod",{scheduleId:t.staffTimeTableId,id:t.periodId}),t.confirmModal=!1}function L(){const i={time_start:t.time_start,time_end:t.time_end,staffTimeTableId:t.staffTimeTableId,subjectId:t.subjectId,classListId:t.classListId,classDivId:t.classDivId};t.editMode?(f.dispatch("OrganizationStaff/updatePeriod",{periodId:t.periodId,data:i}),a.value.addModal=!1):(f.dispatch("OrganizationStaff/addTimeTable",{data:i}),a.value.addModal=!1)}function P(i){t.staffTimeTableId=i.id,t.editMode=!1,t.edit_time_start=null,t.edit_time_end=null,a.value.addModal=!0}function $(i){t.staffTimeTableId=i.staffTimeTableId,t.periodId=i.id,t.subjectId=i.subjectId,t.classListId=i.classListId,t.classDivId=i.classDivId,t.time_end=i.time_end,t.time_start=i.time_start,t.editMode=!0,a.value.addModal=!0}function z(i,o,I){a.value.staffTimeTable[i].status=!I,f.dispatch("OrganizationStaff/scheduleStatus",{id:o,status:!I})}return(i,o)=>{const I=m("icon-user"),A=m("icon-plus"),O=m("icon-edit"),E=m("icon-delete"),v=m("time-picker"),M=m("icon-cross"),C=m("Modal");return d(),n("section",N,[e("div",G,[e("div",J,[e("div",K,[e("div",Q,[e("div",R,[u(I)]),W])]),X])]),(d(!0),n(p,null,b(a.value.staffTimeTable,(s,r)=>(d(),n("div",{key:r,class:"schedule-item"},[e("h2",Y,[e("span",null,_(s.name),1),e("label",Z,[e("input",{type:"checkbox",checked:s.status,onChange:l=>z(r,s.id,s.status)},null,40,ee),te])]),w(e("div",se,[e("div",oe,[e("div",{class:"icon tooltip-wrapper",onClick:l=>P(s)},[u(A),ie],8,le)]),e("div",de,[(d(!0),n(p,null,b(s.period,(l,c)=>{var g,D,j;return d(),n("div",{class:"single-card",key:c},[e("div",ae,[e("div",null,[e("div",ne,"Subject : "+_((g=l.subject)==null?void 0:g.name),1),e("div",ce,"Class : "+_((D=l.classList)==null?void 0:D.name),1),e("div",ue,"Section : "+_((j=l.classDiv)==null?void 0:j.name),1)]),e("div",_e,[e("div",re,[u(O,{onClick:h=>$(l)},null,8,["onClick"]),me]),e("div",ve,[u(E,{onClick:h=>U(l.id,s.id)},null,8,["onClick"]),fe])])]),e("div",null,[e("div",he,[e("div",pe,[be,u(v,{modelValue:l.time_start,"onUpdate:modelValue":h=>l.time_start=h,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),e("div",Ie,[Te,u(v,{modelValue:l.time_end,"onUpdate:modelValue":h=>l.time_end=h,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])])])])}),128))])],512),[[F,s.status]])]))),128)),u(C,{show:a.value.addModal,"onUpdate:show":o[8]||(o[8]=s=>a.value.addModal=s),class:"add-schdule",headerClasses:"header-bg"},{header:T(()=>[e("div",we,_(t.editMode?"Update Period":"Add Period"),1),e("div",{class:"close-btn",onClick:o[0]||(o[0]=k(s=>a.value.addModal=!1,["prevent"]))},[u(M)])]),default:T(()=>[e("form",{action:"",class:"form",onSubmit:k(L,["prevent"])},[e("div",ke,[e("div",Se,[Ve,e("div",Me,[w(e("select",{name:"",id:"","onUpdate:modelValue":o[1]||(o[1]=s=>t.subjectId=s)},[Ce,(d(!0),n(p,null,b(a.value.staffSubject,(s,r)=>{var l,c;return d(),n("option",{key:r,value:(l=s.subject)==null?void 0:l.id},_((c=s.subject)==null?void 0:c.name),9,ge)}),128))],512),[[V,t.subjectId]])])]),e("div",De,[je,e("div",Ue,[w(e("select",{name:"",id:"","onUpdate:modelValue":o[2]||(o[2]=s=>t.classListId=s)},[ye,(d(!0),n(p,null,b(a.value.staffClass,(s,r)=>{var l,c;return d(),n("option",{key:r,value:(l=s.classList)==null?void 0:l.id},_((c=s.classList)==null?void 0:c.name),9,Le)}),128))],512),[[V,t.classListId]])])]),e("div",Pe,[$e,e("div",ze,[w(e("select",{name:"",id:"","onUpdate:modelValue":o[3]||(o[3]=s=>t.classDivId=s)},[Ae,(d(!0),n(p,null,b(a.value.staffDivision,(s,r)=>{var l,c;return d(),n("option",{key:r,value:(l=s.classDiv)==null?void 0:l.id},_((c=s.classDiv)==null?void 0:c.name),9,Oe)}),128))],512),[[V,t.classDivId]])])]),e("div",Ee,[e("div",xe,[Be,t.edit_time_start?(d(),S(v,{key:0,modelValue:t.edit_time_start,"onUpdate:modelValue":o[4]||(o[4]=s=>t.edit_time_start=s)},null,8,["modelValue"])):(d(),S(v,{key:1,modelValue:t.time_start,"onUpdate:modelValue":o[5]||(o[5]=s=>t.time_start=s)},null,8,["modelValue"]))]),e("div",qe,[Fe,t.edit_time_end?(d(),S(v,{key:0,modelValue:t.edit_time_end,"onUpdate:modelValue":o[6]||(o[6]=s=>t.edit_time_end=s)},null,8,["modelValue"])):(d(),S(v,{key:1,modelValue:t.time_end,"onUpdate:modelValue":o[7]||(o[7]=s=>t.time_end=s)},null,8,["modelValue"]))])])]),e("button",He,_(t.editMode?"Update":"Add"),1)],32)]),_:1},8,["show"]),u(C,{show:t.confirmModal,"onUpdate:show":o[11]||(o[11]=s=>t.confirmModal=s),class:"confirm-modal",headerClasses:"header-bg"},{header:T(()=>[Ne,e("div",{class:"close-btn",onClick:o[9]||(o[9]=k(s=>t.confirmModal=!1,["prevent"]))},[u(M)])]),default:T(()=>[Ge,Je,e("div",Ke,[e("button",{class:"btn red-btn cancel-btn",onClick:o[10]||(o[10]=k(s=>t.confirmModal=!1,["prevent"]))}," Cancel "),e("button",{class:"btn confirm-btn",onClick:y}," Confirm ")])]),_:1},8,["show"])])}}};export{Xe as default};
