import{u as X,s as Y,x as Z,d as tt,e as st,n as ot,D as nt,r as e,o as i,c as l,a as t,b as a,w as v,v as et,p as at,j as r,F as it,z as lt,f as _,g as f,i as ct,t as u,E as C}from"./index-DwPljJjs.js";const dt={class:"faq-page"},rt={class:"container"},ut={class:"table-card card"},_t={class:"table-header"},pt={class:"left"},ht={class:"title-row"},vt={class:"icon"},gt=t("div",{class:"titles"},[t("div",{class:"sub-title"},"School : List"),t("h5",{class:"main-title"},"Our School")],-1),mt={class:"right"},yt={class:"searchbar"},bt={class:"icon"},ft={class:"searchbar"},Ct={class:"select-dropdown"},kt=t("option",{value:"ACTIVE"},"ACTIVE",-1),It=t("option",{value:"PENDING"},"PENDING",-1),wt=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),St=[kt,It,wt],Et={class:"icons"},Vt=t("div",{class:"tooltip"},"Add School",-1),Dt={class:"table-body p-16"},Tt={class:"table-outer"},Nt={class:"table"},Mt=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Contact No"),t("th",null,"Created By"),t("th",null,"State/City"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),Pt={key:0,class:"zoom-image"},zt=["src"],At={key:0,class:"badge success-badge"},$t={key:1,class:"badge warning-badge"},Ot={key:2,class:"badge danger-badge"},xt={class:"option-btns"},Ut=["onClick"],Bt=t("div",{class:"tooltip"},"Edit",-1),Lt=["onClick"],Gt=t("div",{class:"tooltip"},"Change Status",-1),qt=["onClick"],Ft=t("div",{class:"tooltip"},"My Branch",-1),Rt=["onClick"],Ht=t("div",{class:"tooltip"},"Library",-1),jt=["onClick"],Jt=t("div",{class:"tooltip"},"My Staff",-1),Kt=["onClick"],Qt=t("div",{class:"tooltip"},"My Student",-1),Wt=["onClick"],Xt=t("div",{class:"tooltip"},"Setttngs",-1),Yt={key:0,class:"table-no-data"},Zt=t("div",null,"No records Found!",-1),ts=[Zt],ss={key:1,class:"table-footer"},os=t("div",{class:"title",showHeader:"true"},"Change Status",-1),ns={class:"status-row"},es={for:"approve",class:"data"},as={class:"data-inner approve-card"},is=t("div",{class:"title"},"ACTIVE",-1),ls={for:"pending",class:"data"},cs={class:"data-inner pending-card"},ds=t("div",{class:"title"},"PENDING",-1),rs={for:"block",class:"data"},us={class:"data-inner block-card"},_s=t("div",{class:"title"},"DEACTIVE",-1),ps={class:"modal-footer"},hs={class:"btns"},ms={__name:"List",setup(vs){const m=X();Y();const k=Z(),c=tt(()=>m.state.Organization),o=st({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"SCHOOL",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,organizationId:null,organizationAccountId:null,changeStatus:null});ot(()=>{g()}),nt(()=>o.keyword,()=>{clearTimeout(o.typingTimer),o.typingTimer=setTimeout(()=>{o.limit=10,o.offset=0,o.currentPage=1,g()},o.typingDelay)});function g(){m.dispatch("Organization/getOrganization",{limit:o.limit,offset:o.offset,keyword:o.keyword,status:o.status,roles:o.roles})}function M(d,n){o.changeStatus=n,o.organizationId=d,c.value.statusModal=!0}function P(){m.dispatch("Organization/updateOrganizationStatus",{id:o.organizationId,status:o.changeStatus})}const z=d=>{o.currentPage=d,o.offset=o.limit*(d-1),g()};function A(){g()}function I(d,n){k.push({path:n,query:{id:d}})}function h(d,n,y,b){k.push({path:y,query:{id:d,settingId:n,accountId:b}})}return(d,n)=>{var w,S;const y=e("icon-school"),b=e("icon-search"),$=e("icon-plus"),O=e("router-link"),x=e("icon-edit"),U=e("icon-status"),B=e("icon-menu"),L=e("icon-library-list"),G=e("icon-user-list"),q=e("icon-student-list"),F=e("icon-setting"),R=e("Pagination"),H=e("icon-cross"),j=e("icon-success"),J=e("icon-warning"),K=e("icon-block"),Q=e("Modal");return i(),l("section",dt,[t("div",rt,[t("div",ut,[t("div",_t,[t("div",pt,[t("div",ht,[t("div",vt,[a(y)]),gt])]),t("div",mt,[t("div",yt,[v(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[et,o.keyword]]),t("div",bt,[a(b)])]),t("div",ft,[t("div",Ct,[v(t("select",{"onUpdate:modelValue":n[1]||(n[1]=s=>o.status=s),onChange:A},St,544),[[at,o.status]])])]),t("div",Et,[t("div",{class:"icon tooltip-wrapper",onClick:n[2]||(n[2]=r(s=>I(null,"/crm/add-school"),["prevent"]))},[a($),Vt])])])]),t("div",Dt,[t("div",Tt,[t("table",Nt,[Mt,t("tbody",null,[(i(!0),l(it,null,lt(c.value.organizationData,(s,W)=>{var E,V,D,T,N;return i(),l("tr",{key:W},[t("td",null,[s.image?(i(),l("div",Pt,[t("img",{src:`${s.image}?width=200`,alt:""},null,8,zt)])):_("",!0)]),t("td",null,[a(O,{to:`/crm/school/setting/class-list?id=${s.id}&settingId=${s.settingId}`,class:"profile-link hover-color"},{default:f(()=>[ct(u(s.name),1)]),_:2},1032,["to"])]),t("td",null,u(s.contactNo),1),t("td",null,u(((V=(E=s.updated)==null?void 0:E.staffDetail)==null?void 0:V.name)||((T=(D=s.updated)==null?void 0:D.partnerDetail[0])==null?void 0:T.firmName)),1),t("td",null,u(s.state)+"/"+u(s.city),1),t("td",null,u(s.type),1),t("td",null,[s.status==="ACTIVE"?(i(),l("div",At,u(s.status),1)):_("",!0),s.status==="PENDING"?(i(),l("div",$t,u(s.status),1)):_("",!0),s.status==="DEACTIVE"?(i(),l("div",Ot,u(s.status),1)):_("",!0)]),t("td",null,[t("div",xt,[t("div",{class:"icon tooltip-wrapper",onClick:p=>I(s.id,"/crm/edit-school")},[a(x),Bt],8,Ut),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>M(s.id,s.status),["prevent"])},[a(U),Gt],8,Lt),((N=s.setting)==null?void 0:N.type)==="MULTI"?(i(),l("div",{key:0,class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/school/my-branch",s.accountId),["prevent"])},[a(B),Ft],8,qt)):_("",!0),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/school/library"),["prevent"])},[a(L),Ht],8,Rt),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/school/my-staff",s.accountId),["prevent"])},[a(G),Jt],8,jt),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/school/my-student"),["prevent"])},[a(q),Qt],8,Kt),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/school/setting/class-list"),["prevent"])},[a(F),Xt],8,Wt)])])])}),128))])])]),((w=c.value.organizationData)==null?void 0:w.length)<=0?(i(),l("div",Yt,ts)):_("",!0),((S=c.value.organizationData)==null?void 0:S.length)>0?(i(),l("div",ss,[a(R,{currentPage:o.currentPage,totalItem:c.value.totalOrganization,itemsPerPage:o.limit,"onUpdate:currentPage":n[3]||(n[3]=s=>z(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):_("",!0)])])]),a(Q,{show:c.value.statusModal,"onUpdate:show":n[9]||(n[9]=s=>c.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:f(()=>[os,t("div",{class:"close-btn",onClick:n[4]||(n[4]=r(s=>c.value.statusModal=!1,["prevent"]))},[a(H)])]),default:f(()=>[t("div",ns,[t("label",es,[v(t("input",{type:"radio","onUpdate:modelValue":n[5]||(n[5]=s=>o.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[C,o.changeStatus]]),t("div",as,[a(j),is])]),t("label",ls,[v(t("input",{type:"radio","onUpdate:modelValue":n[6]||(n[6]=s=>o.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[C,o.changeStatus]]),t("div",cs,[a(J),ds])]),t("label",rs,[v(t("input",{type:"radio","onUpdate:modelValue":n[7]||(n[7]=s=>o.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[C,o.changeStatus]]),t("div",us,[a(K),_s])])]),t("div",ps,[t("div",hs,[t("div",{class:"btn red-btn",onClick:n[8]||(n[8]=r(s=>c.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:P},"Submit")])])]),_:1},8,["show"])])}}};export{ms as default};
