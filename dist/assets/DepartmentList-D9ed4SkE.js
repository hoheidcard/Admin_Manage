import{u as $,s as O,x as q,d as h,e as B,n as L,r as d,o as r,c,a as t,b as a,j as l,F as T,z as U,f as D,g as m,t as u,w as Y,v as F,m as P}from"./index-DwPljJjs.js";import{_ as H}from"./delete-ClllWuc2.js";const R={class:"user-activity user-profile"},j={class:"table-card"},G={class:"table-header"},J={class:"left"},K={class:"title-row"},Q={class:"icon"},W=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Department : List"),t("h5",{class:"main-title"},"Our Department")],-1),X={class:"right"},Z={class:"searchbar"},tt=t("input",{type:"text",placeholder:"Search here"},null,-1),et={class:"icon"},st={class:"icons"},ot=t("div",{class:"tooltip"},"Add Department",-1),nt={class:"table-body mt-16"},at={class:"table-outer"},it={class:"table"},dt=t("thead",null,[t("th",null,"#"),t("th",null,"Department"),t("th",null,"Date & Time"),t("th",{class:"text-center"},"Action")],-1),lt={class:"option-btns"},rt=["onClick"],ct=t("div",{class:"tooltip"},"Edit",-1),ut=["onClick"],_t=t("div",{class:"tooltip"},"Delete",-1),mt={key:0,class:"table-no-data"},pt=t("div",null,"No records Found!",-1),vt=[pt],ht={class:"title",showHeader:"true"},ft={class:"form mb-16"},bt={class:"form-item mb-16 col-10"},gt=t("div",{class:"title"},"Name",-1),Mt={key:0,class:"err-msg"},Dt={class:"modal-footer"},wt={class:"btns"},Ct=t("div",{class:"title",showHeader:"true"},"Delete",-1),kt=t("div",{class:"delete-icon"},[t("img",{src:H,alt:""})],-1),yt=t("h4",{class:"text-gree"},"Are you sure want to Delete?",-1),It={class:"modal-footer"},St={class:"btns"},At={__name:"DepartmentList",setup(zt){const _=$(),p=O();q();const n=h(()=>_.state.OrganizationSettings),e=B({organizationSettingId:null,organizationId:null,editMode:!1,departmentId:null,name:null,priority:null});L(()=>{p.query.id&&(e.organizationSettingId=p.query.settingId,e.organizationId=p.query.id)});function w(){n.value.addModal=!0,e.editMode=!1,e.name=null}function C(i){n.value.addModal=!0,e.editMode=!0,e.departmentId=i.id,e.name=i.name}function k(i){e.departmentId=i,n.value.confirmModal=!0}function y(){if(v.value){e.submit=!0;return}e.submit=!1,e.editMode?_.dispatch("OrganizationSettings/updateDepartment",{id:e.departmentId,name:e.name,settingId:e.organizationSettingId}):_.dispatch("OrganizationSettings/addDepartment",{name:e.name,settingId:e.organizationSettingId})}function I(){_.dispatch("OrganizationSettings/deleteDepartment",{id:e.departmentId,status:"DELETED"})}function S(i){return i?P(i).format("MMM Do YYYY hh:mm A"):"-"}const v=h(()=>{if(!e.name)return"Please Enter Name"});return h(()=>{if(!e.priority)return"Please Enter Priority"}),(i,s)=>{var g;const z=d("icon-user"),x=d("icon-search"),E=d("icon-plus"),A=d("icon-edit"),N=d("icon-delete"),f=d("icon-cross"),b=d("Modal");return r(),c("section",R,[t("div",j,[t("div",G,[t("div",J,[t("div",K,[t("div",Q,[a(z)]),W])]),t("div",X,[t("div",Z,[tt,t("div",et,[a(x)])]),t("div",st,[t("div",{class:"icon tooltip-wrapper",onClick:l(w,["prevent"])},[a(E),ot])])])]),t("div",nt,[t("div",at,[t("table",it,[dt,t("tbody",null,[(r(!0),c(T,null,U(n.value.department,(o,M)=>(r(),c("tr",{key:M},[t("td",null,u(M+1),1),t("td",null,u(o.name),1),t("td",null,u(S(o.createdAt)),1),t("td",null,[t("div",lt,[t("div",{class:"icon tooltip-wrapper",onClick:V=>C(o)},[a(A),ct],8,rt),t("div",{class:"icon tooltip-wrapper",onClick:l(V=>k(o.id),["prevent"])},[a(N),_t],8,ut)])])]))),128))])])]),((g=n.value.department)==null?void 0:g.length)<=0?(r(),c("div",mt,vt)):D("",!0)])]),a(b,{show:n.value.addModal,"onUpdate:show":s[3]||(s[3]=o=>n.value.addModal=o),class:"faq-modal",headerClasses:"header-bg"},{header:m(()=>[t("div",ht,u(e.editMode?"Update Department":"Add Department"),1),t("div",{class:"close-btn",onClick:s[0]||(s[0]=l(o=>n.value.addModal=!1,["prevent"]))},[a(f)])]),default:m(()=>[t("form",ft,[t("div",bt,[gt,Y(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>e.name=o),placeholder:"Enter Name",maxlength:"50"},null,512),[[F,e.name]]),e.submit&&v.value?(r(),c("div",Mt,u(v.value),1)):D("",!0)])]),t("div",Dt,[t("div",wt,[t("div",{class:"btn red-btn",onClick:s[2]||(s[2]=l(o=>n.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:y},"Submit")])])]),_:1},8,["show"]),a(b,{show:n.value.confirmModal,"onUpdate:show":s[6]||(s[6]=o=>n.value.confirmModal=o),class:"confirm-modal",headerClasses:"header-bg"},{header:m(()=>[Ct,t("div",{class:"close-btn",onClick:s[4]||(s[4]=l(o=>n.value.confirmModal=!1,["prevent"]))},[a(f)])]),default:m(()=>[kt,yt,t("div",It,[t("div",St,[t("div",{class:"btn red-btn",onClick:s[5]||(s[5]=l(o=>n.value.confirmModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:I},"Delete")])])]),_:1},8,["show"])])}}};export{At as default};
