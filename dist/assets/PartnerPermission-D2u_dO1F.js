import{u as C,s as D,x as y,d as V,e as A,r as w,o as c,c as r,a as s,b as E,t as u,w as _,A as h,F as P,z as g,h as I}from"./index-DwPljJjs.js";const U={class:"faq-page"},j={class:""},N={class:""},B={class:"table-header"},R={class:"left"},F={class:"title-row"},$={class:"icon"},q={class:"titles"},z=s("div",{class:"sub-title"},"Partner : Permission",-1),L={class:"main-title"},M={class:"right"},O=s("div",{class:"searchbar"},[s("span",null,"All")],-1),T={class:"searchbar"},G={class:"toggle-input"},H={class:"toggle-control"},J=s("span",{class:"control"},null,-1),K={class:"table-body mt-16"},Q={class:"permission-page user-profile"},W=I('<div class="title text-primary top-header"><div class="title">Permission</div><div class="title">All</div><div class="title">Create</div><div class="title">Read</div><div class="title">Update</div><div class="title">Delete</div></div>',1),X={class:"left-title"},Y={class:"title"},Z={class:"right-permissions"},ss={class:"input-row"},ts={class:"toggle-input"},es=s("p",null,"All",-1),as={class:"toggle-control"},os=["onUpdate:modelValue","onChange"],ls=s("span",{class:"control"},null,-1),is={class:"toggle-input"},ns={class:"toggle-control"},cs=["onUpdate:modelValue","onChange"],rs=s("span",{class:"control"},null,-1),_s={__name:"PartnerPermission",setup(ds){const v=C();D(),y();const a=V(()=>v.state.Partners),d=A({staffId:null,staffAccountId:null,allStatus:!1,all:!1});function p(){v.dispatch("Staff/updatePermission",{menu:a.value.partnerPermissionData})}function b(o,e){const l=a.value.partnerPermissionData.findIndex(t=>t.id===o);l>=0&&a.value.partnerPermissionData[l].userPermission.forEach(n=>{n.status=e})}function S(o){const e=a.value.partnerPermissionData.findIndex(l=>l.id===o);if(e>=0){const t=a.value.partnerPermissionData[e].userPermission.every(n=>n.status===!0);a.value.partnerPermissionData[e].allStatus=t}}function k(){d.all?a.value.partnerPermissionData.forEach(o=>{o.allStatus=!0,o.userPermission.forEach(e=>{e.status=!0})}):a.value.partnerPermissionData.forEach(o=>{o.allStatus=!1,o.userPermission.forEach(e=>{e.status=!1})})}return(o,e)=>{const l=w("icon-permission");return c(),r("section",U,[s("div",j,[s("div",N,[s("div",B,[s("div",R,[s("div",F,[s("div",$,[E(l)]),s("div",q,[z,s("h5",L,u(a.value.name),1)])])]),s("div",M,[O,s("div",T,[s("div",G,[s("label",H,[_(s("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>d.all=t),onChange:k},null,544),[[h,d.all]]),J])])]),s("div",{class:"btns justify-end"},[s("div",{class:"btn white-btn",onClick:p}," Save Changes ")])])]),s("div",K,[s("section",Q,[W,(c(!0),r(P,null,g(a.value.partnerPermissionData,(t,n)=>(c(),r("div",{class:"per-table",key:n},[s("div",X,[s("div",Y,u(t.title),1)]),s("div",Z,[s("div",ss,[s("div",ts,[es,s("label",as,[_(s("input",{type:"checkbox","onUpdate:modelValue":i=>t.allStatus=i,onChange:i=>b(t.id,t.allStatus)},null,40,os),[[h,t.allStatus]]),ls])])]),(c(!0),r(P,null,g(t.userPermission,(i,x)=>{var m;return c(),r("div",{class:"input-row",key:x},[s("div",is,[s("p",null,u((m=i.permission)==null?void 0:m.name),1),s("label",ns,[_(s("input",{type:"checkbox","onUpdate:modelValue":f=>i.status=f,onChange:f=>S(t.id)},null,40,cs),[[h,i.status]]),rs])])])}),128))])]))),128))]),s("div",{class:"btns justify-end mt-10"},[s("div",{class:"btn white-btn",onClick:p}," Save Changes ")])])])])])}}};export{_s as default};
