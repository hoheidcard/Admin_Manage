import{u as X,s as Y,x as Z,d as tt,e as st,n as ot,D as et,r as n,o as i,c as l,a as t,b as a,w as v,v as nt,p as at,j as r,F as it,z as lt,f as _,g as b,i as ct,t as u,E as f}from"./index-DwPljJjs.js";const dt={class:"faq-page"},rt={class:"container"},ut={class:"table-card card"},_t={class:"table-header"},pt={class:"left"},ht={class:"title-row"},vt={class:"icon"},gt=t("div",{class:"titles"},[t("div",{class:"sub-title"},"College : List"),t("h5",{class:"main-title"},"Our College")],-1),mt={class:"right"},yt={class:"searchbar"},Ct={class:"icon"},bt={class:"searchbar"},ft={class:"select-dropdown"},kt=t("option",{value:"ACTIVE"},"ACTIVE",-1),It=t("option",{value:"PENDING"},"PENDING",-1),wt=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),Et=[kt,It,wt],St={class:"icons"},Vt=t("div",{class:"tooltip"},"Add College",-1),Dt={class:"table-body p-16"},Tt={class:"table-outer"},Nt={class:"table"},Mt=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Contact No"),t("th",null,"Created By"),t("th",null,"State/City"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),Pt={key:0,class:"zoom-image"},zt=["src"],At={key:0,class:"badge success-badge"},$t={key:1,class:"badge warning-badge"},Ot={key:2,class:"badge danger-badge"},xt={class:"option-btns"},Ut=["onClick"],Lt=t("div",{class:"tooltip"},"Edit",-1),Bt=["onClick"],Gt=t("div",{class:"tooltip"},"Change Status",-1),qt=["onClick"],Ft=t("div",{class:"tooltip"},"My Branch",-1),Rt=["onClick"],jt=t("div",{class:"tooltip"},"Library",-1),Ht=["onClick"],Jt=t("div",{class:"tooltip"},"My Staff",-1),Kt=["onClick"],Qt=t("div",{class:"tooltip"},"My Student",-1),Wt=["onClick"],Xt=t("div",{class:"tooltip"},"Setttngs",-1),Yt={key:0,class:"table-no-data"},Zt=t("div",null,"No records Found!",-1),ts=[Zt],ss={key:1,class:"table-footer"},os=t("div",{class:"title",showHeader:"true"},"Change Status",-1),es={class:"status-row"},ns={for:"approve",class:"data"},as={class:"data-inner approve-card"},is=t("div",{class:"title"},"ACTIVE",-1),ls={for:"pending",class:"data"},cs={class:"data-inner pending-card"},ds=t("div",{class:"title"},"PENDING",-1),rs={for:"block",class:"data"},us={class:"data-inner block-card"},_s=t("div",{class:"title"},"DEACTIVE",-1),ps={class:"modal-footer"},hs={class:"btns"},ms={__name:"List",setup(vs){const m=X();Y();const k=Z(),c=tt(()=>m.state.Organization),o=st({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"COLLEGE",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,organizationId:null,organizationAccountId:null,changeStatus:null});ot(()=>{g()}),et(()=>o.keyword,()=>{clearTimeout(o.typingTimer),o.typingTimer=setTimeout(()=>{o.limit=10,o.offset=0,o.currentPage=1,g()},o.typingDelay)});function g(){m.dispatch("Organization/getOrganization",{limit:o.limit,offset:o.offset,keyword:o.keyword,status:o.status,roles:o.roles})}function M(d,e){o.changeStatus=e,o.organizationId=d,c.value.statusModal=!0}function P(){m.dispatch("Organization/updateOrganizationStatus",{id:o.organizationId,status:o.changeStatus})}const z=d=>{o.currentPage=d,o.offset=o.limit*(d-1),g()};function A(){g()}function I(d,e){k.push({path:e,query:{id:d}})}function h(d,e,y,C){k.push({path:y,query:{id:d,settingId:e,accountId:C}})}return(d,e)=>{var w,E;const y=n("icon-school"),C=n("icon-search"),$=n("icon-plus"),O=n("router-link"),x=n("icon-edit"),U=n("icon-status"),L=n("icon-menu"),B=n("icon-library-list"),G=n("icon-user-list"),q=n("icon-student-list"),F=n("icon-setting"),R=n("Pagination"),j=n("icon-cross"),H=n("icon-success"),J=n("icon-warning"),K=n("icon-block"),Q=n("Modal");return i(),l("section",dt,[t("div",rt,[t("div",ut,[t("div",_t,[t("div",pt,[t("div",ht,[t("div",vt,[a(y)]),gt])]),t("div",mt,[t("div",yt,[v(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[nt,o.keyword]]),t("div",Ct,[a(C)])]),t("div",bt,[t("div",ft,[v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.status=s),onChange:A},Et,544),[[at,o.status]])])]),t("div",St,[t("div",{class:"icon tooltip-wrapper",onClick:e[2]||(e[2]=r(s=>I(null,"/crm/add-college"),["prevent"]))},[a($),Vt])])])]),t("div",Dt,[t("div",Tt,[t("table",Nt,[Mt,t("tbody",null,[(i(!0),l(it,null,lt(c.value.organizationData,(s,W)=>{var S,V,D,T,N;return i(),l("tr",{key:W},[t("td",null,[s.image?(i(),l("div",Pt,[t("img",{src:`${s.image}?width=200`,alt:""},null,8,zt)])):_("",!0)]),t("td",null,[a(O,{to:`/crm/college/setting/class-list?id=${s.id}&settingId=${s.settingId}`,class:"profile-link hover-color"},{default:b(()=>[ct(u(s.name),1)]),_:2},1032,["to"])]),t("td",null,u(s.contactNo),1),t("td",null,u(((V=(S=s.updated)==null?void 0:S.staffDetail)==null?void 0:V.name)||((T=(D=s.updated)==null?void 0:D.partnerDetail[0])==null?void 0:T.firmName)),1),t("td",null,u(s.state)+"/"+u(s.city),1),t("td",null,u(s.type),1),t("td",null,[s.status==="ACTIVE"?(i(),l("div",At,u(s.status),1)):_("",!0),s.status==="PENDING"?(i(),l("div",$t,u(s.status),1)):_("",!0),s.status==="DEACTIVE"?(i(),l("div",Ot,u(s.status),1)):_("",!0)]),t("td",null,[t("div",xt,[t("div",{class:"icon tooltip-wrapper",onClick:p=>I(s.id,"/crm/edit-college")},[a(x),Lt],8,Ut),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>M(s.id,s.status),["prevent"])},[a(U),Gt],8,Bt),((N=s.setting)==null?void 0:N.type)==="MULTI"?(i(),l("div",{key:0,class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/college/my-branch",s.accountId),["prevent"])},[a(L),Ft],8,qt)):_("",!0),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/college/library"),["prevent"])},[a(B),jt],8,Rt),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/college/my-staff",s.accountId),["prevent"])},[a(G),Jt],8,Ht),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/college/my-student"),["prevent"])},[a(q),Qt],8,Kt),t("div",{class:"icon tooltip-wrapper",onClick:r(p=>h(s.id,s.settingId,"/crm/college/setting/class-list"),["prevent"])},[a(F),Xt],8,Wt)])])])}),128))])])]),((w=c.value.organizationData)==null?void 0:w.length)<=0?(i(),l("div",Yt,ts)):_("",!0),((E=c.value.organizationData)==null?void 0:E.length)>0?(i(),l("div",ss,[a(R,{currentPage:o.currentPage,totalItem:c.value.totalOrganization,itemsPerPage:o.limit,"onUpdate:currentPage":e[3]||(e[3]=s=>z(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):_("",!0)])])]),a(Q,{show:c.value.statusModal,"onUpdate:show":e[9]||(e[9]=s=>c.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:b(()=>[os,t("div",{class:"close-btn",onClick:e[4]||(e[4]=r(s=>c.value.statusModal=!1,["prevent"]))},[a(j)])]),default:b(()=>[t("div",es,[t("label",ns,[v(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=s=>o.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[f,o.changeStatus]]),t("div",as,[a(H),is])]),t("label",ls,[v(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=s=>o.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[f,o.changeStatus]]),t("div",cs,[a(J),ds])]),t("label",rs,[v(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=s=>o.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[f,o.changeStatus]]),t("div",us,[a(K),_s])])]),t("div",ps,[t("div",hs,[t("div",{class:"btn red-btn",onClick:e[8]||(e[8]=r(s=>c.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:P},"Submit")])])]),_:1},8,["show"])])}}};export{ms as default};
