import{u as J,s as K,x as Q,d as W,e as X,n as Y,D as Z,r as n,o as d,c as r,a as t,b as a,w as v,v as tt,p as st,j as u,F as ot,z as et,f as p,g as V,y as nt,t as i,E as b}from"./index-DwPljJjs.js";const at={class:"faq-page"},it={class:"container"},lt={class:"table-card card"},ct={class:"table-header"},dt={class:"left"},rt={class:"title-row"},ut={class:"icon"},_t=t("div",{class:"titles"},[t("div",{class:"sub-title"},"college : List"),t("h5",{class:"main-title"},"Our college")],-1),pt={class:"right"},ht={class:"searchbar"},vt={class:"icon"},gt={class:"searchbar"},mt={class:"select-dropdown"},yt=t("option",{value:"ACTIVE"},"ACTIVE",-1),bt=t("option",{value:"PENDING"},"PENDING",-1),Ct=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),ft=[yt,bt,Ct],kt={class:"icons"},wt=t("div",{class:"tooltip"},"Add College",-1),It={class:"table-body p-16"},Et={class:"table-outer"},St={class:"table"},Vt=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Contact No"),t("th",null,"Owner Name"),t("th",null,"Address"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),Nt={key:0,class:"badge success-badge"},Tt={key:1,class:"badge warning-badge"},Dt={key:2,class:"badge danger-badge"},Mt={class:"option-btns"},Pt=["onClick"],At=t("div",{class:"tooltip"},"Edit",-1),zt=["onClick"],Ot=t("div",{class:"tooltip"},"Change Status",-1),$t=["onClick"],Ut=t("div",{class:"tooltip"},"My Branch",-1),Lt=["onClick"],xt=t("div",{class:"tooltip"},"Library",-1),Bt=["onClick"],Gt=t("div",{class:"tooltip"},"My Staff",-1),qt=["onClick"],Ft=t("div",{class:"tooltip"},"My Student",-1),Rt=["onClick"],jt=t("div",{class:"tooltip"},"Setttngs",-1),Ht={key:0,class:"table-no-data"},Jt=t("div",null,"No records Found!",-1),Kt=[Jt],Qt={key:1,class:"table-footer"},Wt=t("div",{class:"title",showHeader:"true"},"Change Status",-1),Xt={class:"status-row"},Yt={for:"approve",class:"data"},Zt={class:"data-inner approve-card"},ts=t("div",{class:"title"},"ACTIVE",-1),ss={for:"pending",class:"data"},os={class:"data-inner pending-card"},es=t("div",{class:"title"},"PENDING",-1),ns={for:"block",class:"data"},as={class:"data-inner block-card"},is=t("div",{class:"title"},"DEACTIVE",-1),ls={class:"modal-footer"},cs={class:"btns"},us={__name:"CollegeList",setup(ds){const m=J(),C=K(),f=Q(),l=W(()=>m.state.Organization),o=X({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"COLLEGE",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,organizationId:null,organizationAccountId:null,changeStatus:null});Y(()=>{g()}),Z(()=>o.keyword,()=>{clearTimeout(o.typingTimer),o.typingTimer=setTimeout(()=>{o.limit=10,o.offset=0,o.currentPage=1,g()},o.typingDelay)});function g(){m.dispatch("Organization/getOrganizationByCreator",{id:C.query.id,limit:o.limit,offset:o.offset,keyword:o.keyword,status:o.status,roles:o.roles})}function N(c,e){o.changeStatus=e,o.organizationAccountId=c,l.value.statusModal=!0}function T(){m.dispatch("Organization/updateOrganizationStatus",{id:o.organizationAccountId,status:o.changeStatus})}const D=c=>{o.currentPage=c,o.offset=o.limit*(c-1),g()};function M(){g()}function k(c,e){f.push({path:e,query:{id:c}})}function h(c,e,y){f.push({path:y,query:{id:c,settingId:e}})}return(c,e)=>{var w,I;const y=n("icon-help"),P=n("icon-search"),A=n("icon-plus"),z=n("icon-edit"),O=n("icon-status"),$=n("icon-menu"),U=n("icon-library-list"),L=n("icon-user-list"),x=n("icon-student-list"),B=n("icon-setting"),G=n("Pagination"),q=n("icon-cross"),F=n("icon-success"),R=n("icon-warning"),j=n("icon-block"),H=n("Modal");return d(),r("section",at,[t("div",it,[t("div",lt,[t("div",ct,[t("div",dt,[t("div",rt,[t("div",ut,[a(y)]),_t])]),t("div",pt,[t("div",ht,[v(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[tt,o.keyword]]),t("div",vt,[a(P)])]),t("div",gt,[t("div",mt,[v(t("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=s=>o.status=s),onChange:M},ft,544),[[st,o.status]])])]),t("div",kt,[t("div",{class:"icon tooltip-wrapper",onClick:e[2]||(e[2]=u(s=>k(nt(C).query.id,"/crm/partners/add-college"),["prevent"]))},[a(A),wt])])])]),t("div",It,[t("div",Et,[t("table",St,[Vt,t("tbody",null,[(d(!0),r(ot,null,et(l.value.organizationData,(s,E)=>{var S;return d(),r("tr",{key:E},[t("td",null,i(E+1),1),t("td",null,i(s.name),1),t("td",null,i(s.email),1),t("td",null,i(s.contactNo),1),t("td",null,i(s.ownerName),1),t("td",null,i(s.address),1),t("td",null,i(s.type),1),t("td",null,[s.status==="ACTIVE"?(d(),r("div",Nt,i(s.status),1)):p("",!0),s.status==="PENDING"?(d(),r("div",Tt,i(s.status),1)):p("",!0),s.status==="DEACTIVE"?(d(),r("div",Dt,i(s.status),1)):p("",!0)]),t("td",null,[t("div",Mt,[t("div",{class:"icon tooltip-wrapper",onClick:_=>k(s.id,"/crm/edit-college")},[a(z),At],8,Pt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>N(s.id,s.status),["prevent"])},[a(O),Ot],8,zt),((S=s.setting)==null?void 0:S.type)==="MULTI"?(d(),r("div",{key:0,class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/school/my-branch",s.accountId),["prevent"])},[a($),Ut],8,$t)):p("",!0),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/college/library"),["prevent"])},[a(U),xt],8,Lt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/college/my-staff",s.accountId),["prevent"])},[a(L),Gt],8,Bt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/college/my-student"),["prevent"])},[a(x),Ft],8,qt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>h(s.id,s.settingId,"/crm/college/setting/class-list"),["prevent"])},[a(B),jt],8,Rt)])])])}),128))])])]),((w=l.value.organizationData)==null?void 0:w.length)<=0?(d(),r("div",Ht,Kt)):p("",!0),((I=l.value.organizationData)==null?void 0:I.length)>0?(d(),r("div",Qt,[a(G,{currentPage:o.currentPage,totalItem:l.value.totalOrganization,itemsPerPage:o.limit,"onUpdate:currentPage":e[3]||(e[3]=s=>D(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):p("",!0)])])]),a(H,{show:l.value.statusModal,"onUpdate:show":e[9]||(e[9]=s=>l.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:V(()=>[Wt,t("div",{class:"close-btn",onClick:e[4]||(e[4]=u(s=>l.value.statusModal=!1,["prevent"]))},[a(q)])]),default:V(()=>[t("div",Xt,[t("label",Yt,[v(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=s=>o.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[b,o.changeStatus]]),t("div",Zt,[a(F),ts])]),t("label",ss,[v(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=s=>o.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[b,o.changeStatus]]),t("div",os,[a(R),es])]),t("label",ns,[v(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=s=>o.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[b,o.changeStatus]]),t("div",as,[a(j),is])])]),t("div",ls,[t("div",cs,[t("div",{class:"btn red-btn",onClick:e[8]||(e[8]=u(s=>l.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:T},"Submit")])])]),_:1},8,["show"])])}}};export{us as default};
