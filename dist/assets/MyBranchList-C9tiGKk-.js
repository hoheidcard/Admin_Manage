import{u as at,s as it,x as lt,d as p,e as dt,n as ct,D as rt,r as c,o as i,c as l,a as t,b as d,w as u,v as h,p as ut,j as m,F as _t,z as pt,f as _,g as w,t as a,E as M}from"./index-DwPljJjs.js";const ht={class:"faq-page"},mt={class:"container"},vt={class:"table-card card"},gt={class:"table-header"},yt={class:"left"},bt={class:"title-row"},ft={class:"icon"},wt=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Branch : List"),t("h5",{class:"main-title"},"My Branch")],-1),Ct={class:"right"},Nt={class:"searchbar"},kt={class:"icon"},Et={class:"searchbar"},Vt={class:"select-dropdown"},It=t("option",{value:"ACTIVE"},"ACTIVE",-1),At=t("option",{value:"PENDING"},"PENDING",-1),St=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),zt=[It,At,St],Pt={class:"icons"},Bt=t("div",{class:"tooltip"},"Add Branch",-1),Mt={class:"table-body p-16"},xt={class:"table-outer"},Dt={class:"table"},Ot=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Contact No"),t("th",null,"Owner Name"),t("th",null,"Address"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),Tt={key:0,class:"badge success-badge"},Ut={key:1,class:"badge warning-badge"},$t={key:2,class:"badge danger-badge"},qt={class:"option-btns"},Gt=["onClick"],Ht=t("div",{class:"tooltip"},"Edit",-1),Lt=["onClick"],Rt=t("div",{class:"tooltip"},"Change Status",-1),Ft=["onClick"],Kt=t("div",{class:"tooltip"},"Library",-1),Wt=["onClick"],jt=t("div",{class:"tooltip"},"My Staff",-1),Jt=["onClick"],Qt=t("div",{class:"tooltip"},"My Student",-1),Xt=["onClick"],Yt=t("div",{class:"tooltip"},"Settings",-1),Zt={key:0,class:"table-no-data"},te=t("div",null,"No records Found!",-1),ee=[te],se={key:1,class:"table-footer"},oe={class:"title",showHeader:"true"},ne={class:"form mb-16"},ae={class:"row"},ie={class:"form-item mb-16 col-5"},le=t("div",{class:"title"},"Name",-1),de={key:0,class:"err-msg"},ce={class:"form-item mb-16 col-5"},re=t("div",{class:"title"},"Email",-1),ue={key:0,class:"err-msg"},_e={class:"row"},pe={class:"form-item mb-16 col-5"},he=t("div",{class:"title"},"Contact No",-1),me={key:0,class:"err-msg"},ve={class:"form-item mb-16 col-5"},ge=t("div",{class:"title"},"Owner Name",-1),ye={key:0,class:"err-msg"},be={class:"row"},fe={class:"form-item mb-16 col-5"},we=t("div",{class:"title"},"WhatsApp",-1),Ce={key:0,class:"err-msg"},Ne={class:"form-item mb-16 col-5"},ke=t("div",{class:"title"},"State",-1),Ee={key:0,class:"err-msg"},Ve={class:"row"},Ie={class:"form-item mb-16 col-5"},Ae=t("div",{class:"title"},"City",-1),Se={key:0,class:"err-msg"},ze={class:"form-item mb-16 col-5"},Pe=t("div",{class:"title"},"Pincode",-1),Be={key:0,class:"err-msg"},Me={class:"form-item mb-16"},xe=t("div",{class:"title"},"Address",-1),De={key:0,class:"err-msg"},Oe={class:"modal-footer"},Te={class:"btns"},Ue=t("div",{class:"title",showHeader:"true"},"Change Status",-1),$e={class:"status-row"},qe={for:"approve",class:"data"},Ge={class:"data-inner approve-card"},He=t("div",{class:"title"},"ACTIVE",-1),Le={for:"pending",class:"data"},Re={class:"data-inner pending-card"},Fe=t("div",{class:"title"},"PENDING",-1),Ke={for:"block",class:"data"},We={class:"data-inner block-card"},je=t("div",{class:"title"},"DEACTIVE",-1),Je={class:"modal-footer"},Qe={class:"btns"},Ze={__name:"MyBranchList",setup(Xe){const g=at(),y=it(),x=lt(),r=p(()=>g.state.OrganizationBranch),e=dt({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"SCHOOL",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,id:null,organizationId:null,organizationAccountId:null,organizationSettingId:null,changeStatus:null,name:null,address:null,pincode:null,city:null,state:null,contactNo:null,whatsApp:null,email:null,ownerName:null,type:"BRANCH",numberOfBranch:1});ct(()=>{y.query.id&&(e.organizationAccountId=y.query.accountId,e.organizationSettingId=y.query.settingId,e.organizationId=y.query.id,b())}),rt(()=>e.keyword,()=>{clearTimeout(e.typingTimer),e.typingTimer=setTimeout(()=>{e.limit=10,e.offset=0,e.currentPage=1,b()},e.typingDelay)});function b(){g.dispatch("OrganizationBranch/getOrganizationBranch",{id:e.organizationId,limit:e.limit,offset:e.offset,keyword:e.keyword,status:e.status,roles:e.roles})}function q(){r.value.organizationModal=!0,e.editMode=!1,e.name=null,e.address=null,e.pincode=null,e.state=null,e.city=null,e.contactNo=null,e.whatsApp=null,e.email=null,e.ownerName=null,e.type="BRANCH"}function G(n,o){e.changeStatus=o,e.id=n,r.value.statusModal=!0}function H(){if(C.value||k.value||E.value||V.value||I.value||A.value||N.value||z.value||S.value){e.submit=!0;return}e.submit=!1,g.dispatch("OrganizationBranch/addOrganizationBranch",{name:e.name,address:e.address,pincode:e.pincode,city:e.city,stateName:e.state,contactNo:e.contactNo,whatsApp:e.whatsApp,email:e.email,ownerName:e.ownerName,type:e.type,numberOfBranch:e.numberOfBranch,accountId:e.organizationAccountId,settingId:e.organizationSettingId,organizationId:e.organizationId,roles:e.roles})}function L(){g.dispatch("OrganizationBranch/updateOrganizationBranchStatus",{id:e.id,status:e.changeStatus})}const R=n=>{e.currentPage=n,e.offset=e.limit*(n-1),b()};function F(){b()}function K(n,o){x.push({path:o,query:{id:n}})}function f(n,o,B){x.push({path:B,query:{id:n,settingId:o}})}const C=p(()=>{if(!e.name)return"Please Enter Name"}),N=p(()=>{if(!e.ownerName)return"Please Enter Owner Name"}),k=p(()=>{let n=/^([a-z0-9.-]+)@([a-z]{4,12}).([a-z.]{2,20})$/;if(e.email){if(!n.test(e.email))return"Please Enter Valid Email!"}else return"Please Enter Email!"}),E=p(()=>{let n=/^[6-9][0-9]{9}$/;if(e.contactNo){if(!n.test(e.contactNo))return"Please Enter Valid Number!"}else return"Please Enter Contact Number!"}),V=p(()=>{let n=/^[6-9][0-9]{9}$/;if(e.whatsApp){if(!n.test(e.whatsApp))return"Please Enter Valid Number!"}else return"Please Enter Contact Number!"}),I=p(()=>{if(!e.state)return"Please Enter State"}),A=p(()=>{if(!e.city)return"Please Enter City"}),S=p(()=>{if(!e.address)return"Please Enter Address"}),z=p(()=>{if(!e.pincode)return"Please Select Pincode"});function P(n){let o=String.fromCharCode(n.keyCode);if(/^[0-9]+$/.test(o)||n.keyCode===8||n.keyCode===9||n.keyCode===37||n.keyCode===39||n.keyCode>=96&&n.keyCode<=105)return!0;n.preventDefault()}return(n,o)=>{var T,U;const B=c("icon-help"),W=c("icon-search"),j=c("icon-plus"),J=c("icon-edit"),Q=c("icon-status"),X=c("icon-library-list"),Y=c("icon-user-list"),Z=c("icon-student-list"),tt=c("icon-setting"),et=c("Pagination"),D=c("icon-cross"),O=c("Modal"),st=c("icon-success"),ot=c("icon-warning"),nt=c("icon-block");return i(),l("section",ht,[t("div",mt,[t("div",vt,[t("div",gt,[t("div",yt,[t("div",bt,[t("div",ft,[d(B)]),wt])]),t("div",Ct,[t("div",Nt,[u(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>e.keyword=s),placeholder:"Search here"},null,512),[[h,e.keyword]]),t("div",kt,[d(W)])]),t("div",Et,[t("div",Vt,[u(t("select",{name:"",id:"","onUpdate:modelValue":o[1]||(o[1]=s=>e.status=s),onChange:F},zt,544),[[ut,e.status]])])]),t("div",Pt,[t("div",{class:"icon tooltip-wrapper",onClick:m(q,["prevent"])},[d(j),Bt])])])]),t("div",Mt,[t("div",xt,[t("table",Dt,[Ot,t("tbody",null,[(i(!0),l(_t,null,pt(r.value.organizationBranchData,(s,$)=>(i(),l("tr",{key:$},[t("td",null,a($+1),1),t("td",null,a(s.name),1),t("td",null,a(s.email),1),t("td",null,a(s.contactNo),1),t("td",null,a(s.ownerName),1),t("td",null,a(s.address),1),t("td",null,a(s.type),1),t("td",null,[s.status==="ACTIVE"?(i(),l("div",Tt,a(s.status),1)):_("",!0),s.status==="PENDING"?(i(),l("div",Ut,a(s.status),1)):_("",!0),s.status==="DEACTIVE"?(i(),l("div",$t,a(s.status),1)):_("",!0)]),t("td",null,[t("div",qt,[t("div",{class:"icon tooltip-wrapper",onClick:v=>K(s.id,"/crm/edit-school")},[d(J),Ht],8,Gt),t("div",{class:"icon tooltip-wrapper",onClick:m(v=>G(s.id,s.status),["prevent"])},[d(Q),Rt],8,Lt),t("div",{class:"icon tooltip-wrapper",onClick:m(v=>f(s.id,s.settingId,"/crm/school/library"),["prevent"])},[d(X),Kt],8,Ft),t("div",{class:"icon tooltip-wrapper",onClick:m(v=>f(s.id,s.settingId,"/crm/school/my-staff"),["prevent"])},[d(Y),jt],8,Wt),t("div",{class:"icon tooltip-wrapper",onClick:m(v=>f(s.id,s.settingId,"/crm/school/my-student"),["prevent"])},[d(Z),Qt],8,Jt),t("div",{class:"icon tooltip-wrapper",onClick:m(v=>f(s.id,s.settingId,"/crm/school/setting/class-list"),["prevent"])},[d(tt),Yt],8,Xt)])])]))),128))])])]),((T=r.value.organizationBranchData)==null?void 0:T.length)<=0?(i(),l("div",Zt,ee)):_("",!0),((U=r.value.organizationBranchData)==null?void 0:U.length)>0?(i(),l("div",se,[d(et,{currentPage:e.currentPage,totalItem:r.value.totalOrganizationBranch,itemsPerPage:e.limit,"onUpdate:currentPage":o[2]||(o[2]=s=>R(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):_("",!0)])])]),d(O,{show:r.value.organizationModal,"onUpdate:show":o[17]||(o[17]=s=>r.value.organizationModal=s),class:"faq-modal",headerClasses:"header-bg"},{header:w(()=>[t("div",oe,a(e.editMode?"Update Branch":"Add Branch"),1),t("div",{class:"close-btn",onClick:o[3]||(o[3]=m(s=>r.value.organizationModal=!1,["prevent"]))},[d(D)])]),default:w(()=>[t("form",ne,[t("div",ae,[t("div",ie,[le,u(t("input",{type:"text","onUpdate:modelValue":o[4]||(o[4]=s=>e.name=s),placeholder:"Enter Name",maxlength:"50"},null,512),[[h,e.name]]),e.submit&&C.value?(i(),l("div",de,a(C.value),1)):_("",!0)]),t("div",ce,[re,u(t("input",{type:"text","onUpdate:modelValue":o[5]||(o[5]=s=>e.email=s),placeholder:"Enter E-mail ",maxlength:"30"},null,512),[[h,e.email]]),e.submit&&k.value?(i(),l("div",ue,a(k.value),1)):_("",!0)])]),t("div",_e,[t("div",pe,[he,u(t("input",{type:"text","onUpdate:modelValue":o[6]||(o[6]=s=>e.contactNo=s),placeholder:"Enter Contact Number",onKeydown:o[7]||(o[7]=s=>P(s)),maxlength:"10"},null,544),[[h,e.contactNo]]),e.submit&&E.value?(i(),l("div",me,a(E.value),1)):_("",!0)]),t("div",ve,[ge,u(t("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=s=>e.ownerName=s),placeholder:"Enter Woner Name",maxlength:"20"},null,512),[[h,e.ownerName]]),e.submit&&N.value?(i(),l("div",ye,a(N.value),1)):_("",!0)])]),t("div",be,[t("div",fe,[we,u(t("input",{type:"text","onUpdate:modelValue":o[9]||(o[9]=s=>e.whatsApp=s),placeholder:"Enter WhatsApp Number",onKeydown:o[10]||(o[10]=s=>P(s)),maxlength:"10"},null,544),[[h,e.whatsApp]]),e.submit&&V.value?(i(),l("div",Ce,a(V.value),1)):_("",!0)]),t("div",Ne,[ke,u(t("input",{type:"text","onUpdate:modelValue":o[11]||(o[11]=s=>e.state=s),placeholder:"Enter State Name",maxlength:"30"},null,512),[[h,e.state]]),e.submit&&I.value?(i(),l("div",Ee,a(I.value),1)):_("",!0)])]),t("div",Ve,[t("div",Ie,[Ae,u(t("input",{type:"text","onUpdate:modelValue":o[12]||(o[12]=s=>e.city=s),placeholder:"Enter City Name",maxlength:"30"},null,512),[[h,e.city]]),e.submit&&A.value?(i(),l("div",Se,a(A.value),1)):_("",!0)]),t("div",ze,[Pe,u(t("input",{type:"text","onUpdate:modelValue":o[13]||(o[13]=s=>e.pincode=s),placeholder:"Enter Pincode",onKeydown:o[14]||(o[14]=s=>P(s)),maxlength:"6"},null,544),[[h,e.pincode]]),e.submit&&z.value?(i(),l("div",Be,a(z.value),1)):_("",!0)])]),t("div",Me,[xe,u(t("textarea",{name:"",id:"","onUpdate:modelValue":o[15]||(o[15]=s=>e.address=s),rows:"4",placeholder:"Address"},null,512),[[h,e.address]]),e.submit&&S.value?(i(),l("div",De,a(S.value),1)):_("",!0)])]),t("div",Oe,[t("div",Te,[t("div",{class:"btn red-btn",onClick:o[16]||(o[16]=m(s=>r.value.organizationModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:H},"Submit")])])]),_:1},8,["show"]),d(O,{show:r.value.statusModal,"onUpdate:show":o[23]||(o[23]=s=>r.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:w(()=>[Ue,t("div",{class:"close-btn",onClick:o[18]||(o[18]=m(s=>r.value.statusModal=!1,["prevent"]))},[d(D)])]),default:w(()=>[t("div",$e,[t("label",qe,[u(t("input",{type:"radio","onUpdate:modelValue":o[19]||(o[19]=s=>e.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[M,e.changeStatus]]),t("div",Ge,[d(st),He])]),t("label",Le,[u(t("input",{type:"radio","onUpdate:modelValue":o[20]||(o[20]=s=>e.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[M,e.changeStatus]]),t("div",Re,[d(ot),Fe])]),t("label",Ke,[u(t("input",{type:"radio","onUpdate:modelValue":o[21]||(o[21]=s=>e.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[M,e.changeStatus]]),t("div",We,[d(nt),je])])]),t("div",Je,[t("div",Qe,[t("div",{class:"btn red-btn",onClick:o[22]||(o[22]=m(s=>r.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:L},"Submit")])])]),_:1},8,["show"])])}}};export{Ze as default};
