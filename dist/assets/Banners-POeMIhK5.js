import{u as J,d as K,e as Q,m as W,n as X,D as Z,r as c,o as l,c as i,a as t,b as n,w as u,v as V,p as tt,j as r,F as et,z as st,f as p,g as v,t as _,E as h,i as B}from"./index-DwPljJjs.js";import{_ as D}from"./camera-B4WFWT0E.js";const ot={class:"faq-page"},at={class:"container"},nt={class:"table-card card"},lt={class:"table-header"},it={class:"left"},dt={class:"title-row"},ct={class:"icon"},rt=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Banner : List"),t("h5",{class:"main-title"},"Banner List")],-1),ut={class:"right"},_t={class:"searchbar"},pt={class:"icon"},vt={class:"searchbar"},mt={class:"select-dropdown"},ht=t("option",{value:"ACTIVE"},"ACTIVE",-1),gt=t("option",{value:"PENDING"},"PENDING",-1),ft=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),bt=[ht,gt,ft],yt={class:"icons"},wt=t("div",{class:"tooltip"},"Add Banner",-1),Ct={class:"table-body p-16"},kt={class:"table-outer"},Mt={class:"table"},Et=t("thead",null,[t("th",null,"#"),t("th",null,"Type"),t("th",null,"Date"),t("th",null,"Image"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),It=["src"],Tt={key:0,class:"badge success-badge"},Vt={key:1,class:"badge warning-badge"},Bt={key:2,class:"badge danger-badge"},Dt={class:"option-btns"},St=["onClick"],Pt=t("div",{class:"tooltip"},"Edit",-1),At=["onClick"],Ut=t("div",{class:"tooltip"},"Image",-1),Nt=["onClick"],xt=t("div",{class:"tooltip"},"Status Change",-1),$t={key:0,class:"table-no-data"},Lt=t("div",null,"No records Found!",-1),Gt=[Lt],Ft={key:1,class:"table-footer"},Yt={class:"title",showHeader:"true"},Ht={class:"form mb-16"},Rt={class:"form-item mb-16"},qt=t("div",{class:"title"},"Type",-1),Ot={key:0,class:"form-item mb-16"},jt=t("div",{class:"title"},"End Date",-1),zt={class:"img-upload flex flex-d-col align-center"},Jt=t("div",{class:"text text-small mb-10"},"Banner Image",-1),Kt=["src"],Qt={key:1,src:D,class:"dummy-img",alt:""},Wt={class:"form-group"},Xt={class:"modal-footer"},Zt={class:"btns"},te=t("div",{class:"title",showHeader:"true"},"Change Status",-1),ee={class:"status-row"},se={for:"approve",class:"data"},oe={class:"data-inner approve-card"},ae=t("div",{class:"title"},"ACTIVE",-1),ne={for:"pending",class:"data"},le={class:"data-inner pending-card"},ie=t("div",{class:"title"},"PENDING",-1),de={for:"block",class:"data"},ce={class:"data-inner block-card"},re=t("div",{class:"title"},"DEACTIVE",-1),ue={class:"modal-footer"},_e={class:"btns"},pe=t("div",{class:"title",showHeader:"true"},"Upload Banner Image",-1),ve={class:"img-upload flex flex-d-col align-center"},me=t("div",{class:"text text-small mb-10"},"Banner Image",-1),he=["src"],ge={key:1,src:D,class:"dummy-img",alt:""},fe={class:"form-group"},be={class:"modal-footer"},ye={class:"btns"},Me={__name:"Banners",setup(we){const m=J(),a=K(()=>m.state.Banners),e=Q({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",changeStatus:null,currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,id:null,image:null,file:null,type:"TOP",date:W().format("YYYY-MM-DD")});X(()=>{g()}),Z(()=>e.keyword,()=>{clearTimeout(e.typingTimer),e.typingTimer=setTimeout(()=>{e.limit=10,e.offset=0,e.currentPage=1,g()},e.typingDelay)});function g(){m.dispatch("Banners/getBannersByStatus",{limit:e.limit,offset:e.offset,keyword:e.keyword,status:e.status})}function S(){a.value.addModal=!0,e.editMode=!1,e.id=null}function P(d){a.value.addModal=!0,e.editMode=!0,e.id=d.id}function A(d,s){e.changeStatus=s,e.id=d,a.value.statusModal=!0}function U(d,s){e.image=s,e.id=d,a.value.imageModal=!0}function N(){m.dispatch("Banners/createBannerImage",{type:e.type,date:e.date,file:e.file})}function x(){e.id&&e.changeStatus&&m.dispatch("Banners/updateBannertatus",{id:e.id,status:e.changeStatus})}function $(){e.id&&e.file&&m.dispatch("Banners/updateBannerImage",{id:e.id,file:e.file})}const L=d=>{e.currentPage=d,e.offset=e.limit*(d-1),g()};function G(){g()}function C(){document.getElementById("file-field1").click()}function k(d){var s,f=d.target.files;s=new FileReader,s.onload=b=>{e.image=b.target.result},s.readAsDataURL(f[0]),e.file=f[0],d.target.files=null}return(d,s)=>{var M,E;const f=c("icon-help"),b=c("icon-search"),F=c("icon-plus"),Y=c("icon-edit"),H=c("icon-card"),R=c("icon-setting"),q=c("Pagination"),y=c("icon-cross"),w=c("Modal"),O=c("icon-success"),j=c("icon-warning"),z=c("icon-block");return l(),i("section",ot,[t("div",at,[t("div",nt,[t("div",lt,[t("div",it,[t("div",dt,[t("div",ct,[n(f)]),rt])]),t("div",ut,[t("div",_t,[u(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>e.keyword=o),placeholder:"Search here"},null,512),[[V,e.keyword]]),t("div",pt,[n(b)])]),t("div",vt,[t("div",mt,[u(t("select",{name:"",id:"","onUpdate:modelValue":s[1]||(s[1]=o=>e.status=o),onChange:G},bt,544),[[tt,e.status]])])]),t("div",yt,[t("div",{class:"icon tooltip-wrapper",onClick:r(S,["prevent"])},[n(F),wt])])])]),t("div",Ct,[t("div",kt,[t("table",Mt,[Et,t("tbody",null,[(l(!0),i(et,null,st(a.value.data,(o,I)=>(l(),i("tr",{key:I},[t("td",null,_(I+1),1),t("td",null,_(o.type),1),t("td",null,_(o.date),1),t("td",null,[t("img",{src:`${o.image}?width=50`,alt:""},null,8,It)]),t("td",null,[o.status==="ACTIVE"?(l(),i("div",Tt,_(o.status),1)):p("",!0),o.status==="PENDING"?(l(),i("div",Vt,_(o.status),1)):p("",!0),o.status==="DEACTIVE"?(l(),i("div",Bt,_(o.status),1)):p("",!0)]),t("td",null,[t("div",Dt,[t("div",{class:"icon tooltip-wrapper",onClick:T=>P(o)},[n(Y),Pt],8,St),t("div",{class:"icon tooltip-wrapper",onClick:T=>U(o.id,o.image)},[n(H),Ut],8,At),t("div",{class:"icon tooltip-wrapper",onClick:r(T=>A(o.id,o.status),["prevent"])},[n(R),xt],8,Nt)])])]))),128))])])]),((M=a.value.data)==null?void 0:M.length)<=0?(l(),i("div",$t,Gt)):p("",!0),((E=a.value.data)==null?void 0:E.length)>0?(l(),i("div",Ft,[n(q,{currentPage:e.currentPage,totalItem:a.value.total,itemsPerPage:e.limit,"onUpdate:currentPage":s[2]||(s[2]=o=>L(o))},null,8,["currentPage","totalItem","itemsPerPage"])])):p("",!0)])])]),n(w,{show:a.value.addModal,"onUpdate:show":s[8]||(s[8]=o=>a.value.addModal=o),class:"faq-modal",headerClasses:"header-bg"},{header:v(()=>[t("div",Yt,_(e.editMode?"Update Title":"Add Title"),1),t("div",{class:"close-btn",onClick:s[3]||(s[3]=r(o=>a.value.addModal=!1,["prevent"]))},[n(y)])]),default:v(()=>[t("div",Ht,[t("div",Rt,[qt,u(t("input",{type:"radio",name:"type","onUpdate:modelValue":s[4]||(s[4]=o=>e.type=o),value:"TOP"},null,512),[[h,e.type]]),B(" Top "),u(t("input",{type:"radio",name:"type","onUpdate:modelValue":s[5]||(s[5]=o=>e.type=o),value:"DEAL"},null,512),[[h,e.type]]),B(" Deal ")]),e.type==="DEAL"?(l(),i("div",Ot,[jt,u(t("input",{type:"date","onUpdate:modelValue":s[6]||(s[6]=o=>e.date=o)},null,512),[[V,e.date]])])):p("",!0)]),t("div",zt,[Jt,t("div",{class:"img-upload-wrapper h-10-r w-10-r",onClick:C},[e.image?(l(),i("img",{key:0,src:e.image,class:"preview-image",alt:""},null,8,Kt)):(l(),i("img",Qt)),t("div",Wt,[t("input",{name:"image",type:"file",id:"file-field1",onChange:k,style:{display:"none"}},null,32)])])]),t("div",Xt,[t("div",Zt,[t("div",{class:"btn red-btn",onClick:s[7]||(s[7]=r(o=>a.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:N},"Submit")])])]),_:1},8,["show"]),n(w,{show:a.value.statusModal,"onUpdate:show":s[14]||(s[14]=o=>a.value.statusModal=o),class:"status-modal",headerClasses:"header-bg"},{header:v(()=>[te,t("div",{class:"close-btn",onClick:s[9]||(s[9]=r(o=>a.value.statusModal=!1,["prevent"]))},[n(y)])]),default:v(()=>[t("div",ee,[t("label",se,[u(t("input",{type:"radio","onUpdate:modelValue":s[10]||(s[10]=o=>e.changeStatus=o),value:"ACTIVE",id:"approve",name:"status"},null,512),[[h,e.changeStatus]]),t("div",oe,[n(O),ae])]),t("label",ne,[u(t("input",{type:"radio","onUpdate:modelValue":s[11]||(s[11]=o=>e.changeStatus=o),value:"PENDING",id:"pending",name:"status"},null,512),[[h,e.changeStatus]]),t("div",le,[n(j),ie])]),t("label",de,[u(t("input",{type:"radio","onUpdate:modelValue":s[12]||(s[12]=o=>e.changeStatus=o),value:"DEACTIVE",id:"block",name:"status"},null,512),[[h,e.changeStatus]]),t("div",ce,[n(z),re])])]),t("div",ue,[t("div",_e,[t("div",{class:"btn red-btn",onClick:s[13]||(s[13]=r(o=>a.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:x},"Submit")])])]),_:1},8,["show"]),n(w,{show:a.value.imageModal,"onUpdate:show":s[17]||(s[17]=o=>a.value.imageModal=o),class:"confirm-modal",headerClasses:"header-bg"},{header:v(()=>[pe,t("div",{class:"close-btn",onClick:s[15]||(s[15]=r(o=>a.value.confirmModal=!1,["prevent"]))},[n(y)])]),default:v(()=>[t("div",ve,[me,t("div",{class:"img-upload-wrapper h-10-r w-10-r",onClick:C},[e.image?(l(),i("img",{key:0,src:e.image,class:"preview-image",alt:""},null,8,he)):(l(),i("img",ge)),t("div",fe,[t("input",{name:"image",type:"file",id:"file-field1",onChange:k,style:{display:"none"}},null,32)])])]),t("div",be,[t("div",ye,[t("div",{class:"btn red-btn",onClick:s[16]||(s[16]=r(o=>a.value.imageModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",type:"button",onClick:r($,["prevent"])}," Upload ")])])]),_:1},8,["show"])])}}};export{Me as default};
