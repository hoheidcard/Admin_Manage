import{u as ht,s as ft,d as m,e as gt,n as Ct,D as Pt,r,o as l,c,a as e,b as d,w as u,v as _,p as B,j as v,F as k,z as E,f as h,g as P,t as a,i as bt,E as O}from"./index-DwPljJjs.js";const yt={class:"faq-page"},Dt={class:"container"},It={class:"table-card card"},kt={class:"table-header"},Et={class:"left"},Vt={class:"title-row"},wt={class:"icon"},St=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Product : List"),e("h5",{class:"main-title"},"Product List")],-1),Tt={class:"right"},Nt={class:"searchbar"},Mt={class:"icon"},Ut={class:"searchbar"},At={class:"select-dropdown"},xt=e("option",{value:"ACTIVE"},"ACTIVE",-1),Rt=e("option",{value:"PENDING"},"PENDING",-1),Lt=e("option",{value:"DEACTIVE"},"DEACTIVE",-1),Ot=[xt,Rt,Lt],Gt={class:"icons"},Ht=e("div",{class:"tooltip"},"Add Product",-1),$t={class:"table-body p-16"},Bt={class:"table-outer"},Ft={class:"table"},qt=e("thead",null,[e("th",null,"#"),e("th",null,"Code"),e("th",null,"Name"),e("th",null,"Price"),e("th",null,"Dis."),e("th",null,"Total"),e("th",null,"P. Dis."),e("th",null,"A Dis."),e("th",null,"Status"),e("th",{class:"text-center"},"Action")],-1),Kt={class:"option-btns"},Wt=["onClick"],Yt=e("div",{class:"tooltip"},"Edit",-1),Qt=e("div",{class:"tooltip"},"Editor",-1),Zt=["onClick"],jt=e("div",{class:"tooltip"},"Image",-1),zt=["onClick"],Jt=e("div",{class:"tooltip"},"Upload",-1),Xt=["onClick"],te=e("div",{class:"tooltip"},"Status Change",-1),ee={key:0,class:"table-no-data"},se=e("div",null,"No records Found!",-1),oe=[se],ne={key:1,class:"table-footer"},ie={class:"title",showHeader:"true"},de={class:"form mb-16"},ae={class:"row"},le={class:"form-item mb-16"},ce=e("div",{class:"title"},"Title",-1),re={key:0,class:"err-msg"},ue={class:"form-item mb-16"},pe=e("div",{class:"title"},"Code",-1),_e={key:0,class:"err-msg"},ve={class:"form-item mb-16"},me=e("div",{class:"title"},"Price",-1),he={key:0,class:"err-msg"},fe={class:"form-item mb-16"},ge=e("div",{class:"title"},"Discount",-1),Ce={key:0,class:"err-msg"},Pe={class:"row"},be={class:"form-item mb-16"},ye=e("div",{class:"title"},"Discounted Price",-1),De={class:"form-item mb-16"},Ie=e("div",{class:"title"},"Final Price",-1),ke={class:"form-item mb-16"},Ee=e("div",{class:"title"},"Partner Discount",-1),Ve={key:0,class:"err-msg"},we={class:"form-item mb-16"},Se=e("div",{class:"title"},"Additional Discount",-1),Te={key:0,class:"err-msg"},Ne={class:"row"},Me={class:"form-item mb-16"},Ue=e("div",{class:"title"},"Short Description",-1),Ae={key:0,class:"err-msg"},xe={class:"row"},Re={class:"form-item mb-16"},Le={class:"col-4 form-item mb-16"},Oe=e("div",{class:"title"},"Variant Type",-1),Ge=["onUpdate:modelValue"],He=e("option",{value:"null",disabled:""},"Select Variant",-1),$e=["value"],Be={class:"form-item mb-16"},Fe=e("div",{class:"title"},"Name",-1),qe=["onUpdate:modelValue"],Ke={class:"col-1 form-item mb-16"},We=e("div",{class:"title"},"Action",-1),Ye=["onClick"],Qe={class:"form-item mb-16"},Ze=e("div",{class:"title"},"Description",-1),je={key:0,class:"err-msg"},ze={class:"modal-footer"},Je={class:"btns"},Xe=e("div",{class:"title",showHeader:"true"},"Change Status",-1),ts={class:"status-row"},es={for:"approve",class:"data"},ss={class:"data-inner approve-card"},os=e("div",{class:"title"},"ACTIVE",-1),ns={for:"pending",class:"data"},is={class:"data-inner pending-card"},ds=e("div",{class:"title"},"PENDING",-1),as={for:"block",class:"data"},ls={class:"data-inner block-card"},cs=e("div",{class:"title"},"DEACTIVE",-1),rs={class:"modal-footer"},us={class:"btns"},ps=e("div",{class:"title",showHeader:"true"},"Upload Product Image",-1),_s={class:"image-container"},vs=["src","alt"],ms=["onClick"],hs={class:"modal-footer"},fs={class:"btns"},Ps={__name:"ProductList",setup(gs){const f=ht(),G=ft(),i=m(()=>f.state.IdCardStock),F=[{id:"SIZE",name:"SIZE"},{id:"PRODUCT COLOR",name:"PRODUCT COLOR"},{id:"MATERIAL",name:"MATERIAL"},{id:"STYLE",name:"STYLE"},{id:"WEIGHT",name:"WEIGHT"},{id:"LENGTH",name:"LENGTH"},{id:"WIDTH",name:"WIDTH"},{id:"HEIGHT",name:"HEIGHT"},{id:"TYPE",name:"TYPE"},{id:"DIRECTION",name:"DIRECTION"},{id:"PRINTING",name:"PRINTING"},{id:"PRINTING COLOR",name:"PRINTING COLOR"},{id:"PRINTABLE",name:"PRINTABLE"},{id:"LAMINATION",name:"LAMINATION"}],t=gt({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",changeStatus:null,currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,id:null,image:null,file:null,code:null,title:null,shortDesc:null,desc:null,price:0,discount:0,discountedPrice:0,finalPrice:0,partnerDiscount:0,additionalDiscount:0,productVariant:[],categoryId:null,productImages:[]});Ct(()=>{y()}),Pt(()=>t.keyword,()=>{clearTimeout(t.typingTimer),t.typingTimer=setTimeout(()=>{t.limit=10,t.offset=0,t.currentPage=1,y()},t.typingDelay)});const q=()=>{const n={name:null,type:null};t.productVariant.push(n)},K=n=>{t.productVariant.splice(n,1)};function y(){f.dispatch("IdCardStock/getIdCardStocksByStatus",{limit:t.limit,offset:t.offset,keyword:t.keyword,status:t.status})}function W(){i.value.addModal=!0,t.editMode=!1,t.title=null,t.code=null,t.title=null,t.shortDesc=null,t.desc=null,t.price=0,t.discount=0,t.discountedPrice=0,t.finalPrice=0,t.partnerDiscount=0,t.additionalDiscount=0,t.productVariant=[]}function Y(n){i.value.addModal=!0,t.editMode=!0,t.id=n.id,t.title=n.title,t.code=n.code,t.title=n.title,t.shortDesc=n.shortDesc,t.desc=n.desc,t.price=n.price,t.discount=n.discount,t.discountedPrice=n.discountedPrice,t.finalPrice=n.finalPrice,t.partnerDiscount=n.partnerDiscount,t.additionalDiscount=n.additionalDiscount,t.productVariant=n.productVariant,t.categoryId=n.categoryId}function Q(n,o){t.changeStatus=o,t.id=n,i.value.statusModal=!0}function Z(n){i.value.imageModal=!0,t.productImages=n}function j(){if(V.value||S.value||w.value||T.value||N.value||M.value||U.value||A.value){t.submit=!0;return}t.submit=!1,t.editMode?f.dispatch("IdCardStock/updateIdCardStock",{id:t.id,code:t.code,title:t.title,shortDesc:t.shortDesc,desc:t.desc,price:t.price,discount:t.discount,discountedPrice:t.discountedPrice,finalPrice:t.finalPrice,partnerDiscount:t.partnerDiscount,additionalDiscount:t.additionalDiscount,productVariant:t.productVariant,categoryId:G.query.id}):f.dispatch("IdCardStock/createIdCardStock",{code:t.code,title:t.title,shortDesc:t.shortDesc,desc:t.desc,price:t.price,discount:t.discount,discountedPrice:t.discountedPrice,finalPrice:t.finalPrice,partnerDiscount:t.partnerDiscount,additionalDiscount:t.additionalDiscount,productVariant:t.productVariant,categoryId:G.query.id})}function z(){t.id&&t.changeStatus&&f.dispatch("IdCardStock/updateIdCardStockStatus",{id:t.id,status:t.changeStatus})}const J=n=>{t.currentPage=n,t.offset=t.limit*(n-1),y()};function X(){y()}function tt(n){t.id=n,document.getElementById("file-field1").click()}function et(n){f.dispatch("IdCardStock/deleteIdCardStockImage",{id:n.id,rowId:n.idCardsStockId})}const st=n=>new Promise((o,b)=>{const g=new FileReader;g.onload=x=>o(x.target.result),g.onerror=b,g.readAsDataURL(n)});async function ot(n){const b=n.target.files[0],g=await st(b);await f.dispatch("IdCardStock/uploadIdCardStockImage",{id:t.id,file:b,image:g}),n.target.value=null}const D=m(()=>{t.discountedPrice=t.price*t.discount*.01,t.finalPrice=t.price-t.discountedPrice}),V=m(()=>{if(!t.title)return"Please Enter title"}),w=m(()=>{if(!t.desc)return"Please Enter Desc"}),S=m(()=>{if(!t.code)return"Please Enter Code"}),T=m(()=>{if(!t.shortDesc)return"Please Enter Short Desc."}),N=m(()=>{if(t.price){if(isNaN(t.price))return"Please Enter Number Only";if(t.price<0)return"Please Enter Valid Amount"}else return"Please Enter Price"}),M=m(()=>{if(t.discount){if(isNaN(t.discount))return"Please Enter Number Only";if(t.discount<0||t.discount>100)return"Please Enter Valid Discount"}else return"Please Enter Discount"}),U=m(()=>{if(isNaN(t.partnerDiscount))return"Please Enter Number Only";if(t.partnerDiscount<0||t.partnerDiscount>100)return"Please Enter Valid Discount"}),A=m(()=>{if(isNaN(t.additionalDiscount))return"Please Enter Number Only";if(t.additionalDiscount<0||t.additionalDiscount>100)return"Please Enter Valid Discount"});function I(n){let o=String.fromCharCode(n.keyCode);if(/^[0-9]+$/.test(o)||n.keyCode===8||n.keyCode===9||n.keyCode===37||n.keyCode===39||n.keyCode>=96&&n.keyCode<=105)return!0;n.preventDefault()}return(n,o)=>{var H,$;const b=r("icon-help"),g=r("icon-search"),x=r("icon-plus"),nt=r("icon-edit"),it=r("icon-image-edit"),dt=r("router-link"),at=r("icon-card"),lt=r("icon-top-arrow"),ct=r("icon-setting"),rt=r("Pagination"),R=r("icon-cross"),ut=r("QuillEditor"),L=r("Modal"),pt=r("icon-success"),_t=r("icon-warning"),vt=r("icon-block");return l(),c("section",yt,[e("input",{name:"image",type:"file",id:"file-field1",onChange:ot,style:{display:"none"}},null,32),e("div",Dt,[e("div",It,[e("div",kt,[e("div",Et,[e("div",Vt,[e("div",wt,[d(b)]),St])]),e("div",Tt,[e("div",Nt,[u(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>t.keyword=s),placeholder:"Search here"},null,512),[[_,t.keyword]]),e("div",Mt,[d(g)])]),e("div",Ut,[e("div",At,[u(e("select",{name:"",id:"","onUpdate:modelValue":o[1]||(o[1]=s=>t.status=s),onChange:X},Ot,544),[[B,t.status]])])]),e("div",Gt,[e("div",{class:"icon tooltip-wrapper",onClick:v(W,["prevent"])},[d(x),Ht])])])]),e("div",$t,[e("div",Bt,[e("table",Ft,[qt,e("tbody",null,[(l(!0),c(k,null,E(i.value.data,(s,C)=>(l(),c("tr",{key:C},[e("td",null,a(C+1),1),e("td",null,a(s.code),1),e("td",null,a(s.title),1),e("td",null,a(s.price),1),e("td",null,a(s.discount),1),e("td",null,a(s.finalPrice),1),e("td",null,a(s.partnerDiscount),1),e("td",null,a(s.additionalDiscount),1),e("td",null,a(s.status),1),e("td",null,[e("div",Kt,[e("div",{class:"icon tooltip-wrapper",onClick:p=>Y(s)},[d(nt),Yt],8,Wt),d(dt,{to:{path:"/crm/editor",query:{id:s.id,from:"Editor"}},class:"icon tooltip-wrapper"},{default:P(()=>[d(it),Qt]),_:2},1032,["to"]),e("div",{class:"icon tooltip-wrapper",onClick:p=>Z(s.productImage)},[d(at),jt],8,Zt),e("div",{class:"icon tooltip-wrapper",onClick:p=>tt(s.id)},[d(lt),Jt],8,zt),e("div",{class:"icon tooltip-wrapper",onClick:v(p=>Q(s.id,s.status),["prevent"])},[d(ct),te],8,Xt)])])]))),128))])])]),((H=i.value.data)==null?void 0:H.length)<=0?(l(),c("div",ee,oe)):h("",!0),(($=i.value.data)==null?void 0:$.length)>0?(l(),c("div",ne,[d(rt,{currentPage:t.currentPage,totalItem:i.value.total,itemsPerPage:t.limit,"onUpdate:currentPage":o[2]||(o[2]=s=>J(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):h("",!0)])])]),d(L,{show:i.value.addModal,"onUpdate:show":o[21]||(o[21]=s=>i.value.addModal=s),class:"faq-modal",type:"full",headerClasses:"header-bg"},{header:P(()=>[e("div",ie,a(t.editMode?"Update Product":"Add Product"),1),e("div",{class:"close-btn",onClick:o[3]||(o[3]=v(s=>i.value.addModal=!1,["prevent"]))},[d(R)])]),default:P(()=>[e("div",de,[e("div",ae,[e("div",le,[ce,u(e("input",{type:"text","onUpdate:modelValue":o[4]||(o[4]=s=>t.title=s),placeholder:"Enter title",maxlength:"200"},null,512),[[_,t.title]]),t.submit&&V.value?(l(),c("div",re,a(V.value),1)):h("",!0)]),e("div",ue,[pe,u(e("input",{type:"text","onUpdate:modelValue":o[5]||(o[5]=s=>t.code=s),placeholder:"Enter Code",maxlength:"100"},null,512),[[_,t.code]]),t.submit&&S.value?(l(),c("div",_e,a(S.value),1)):h("",!0)]),e("div",ve,[me,u(e("input",{type:"text","onUpdate:modelValue":o[6]||(o[6]=s=>t.price=s),placeholder:"Enter Price",onKeydown:o[7]||(o[7]=s=>I(s)),maxlength:"5",onChange:o[8]||(o[8]=(...s)=>D.value&&D.value(...s))},null,544),[[_,t.price]]),t.submit&&N.value?(l(),c("div",he,a(N.value),1)):h("",!0)]),e("div",fe,[ge,u(e("input",{type:"text","onUpdate:modelValue":o[9]||(o[9]=s=>t.discount=s),placeholder:"Enter Discount",onKeydown:o[10]||(o[10]=s=>I(s)),onChange:o[11]||(o[11]=(...s)=>D.value&&D.value(...s)),maxlength:"2"},null,544),[[_,t.discount]]),t.submit&&M.value?(l(),c("div",Ce,a(M.value),1)):h("",!0)])]),e("div",Pe,[e("div",be,[ye,u(e("input",{type:"text","onUpdate:modelValue":o[12]||(o[12]=s=>t.discountedPrice=s)},null,512),[[_,t.discountedPrice]])]),e("div",De,[Ie,u(e("input",{type:"text","onUpdate:modelValue":o[13]||(o[13]=s=>t.finalPrice=s),placeholder:"Enter Code"},null,512),[[_,t.finalPrice]])]),e("div",ke,[Ee,u(e("input",{type:"text","onUpdate:modelValue":o[14]||(o[14]=s=>t.partnerDiscount=s),placeholder:"Enter Price",onKeydown:o[15]||(o[15]=s=>I(s)),maxlength:"2"},null,544),[[_,t.partnerDiscount]]),t.submit&&U.value?(l(),c("div",Ve,a(U.value),1)):h("",!0)]),e("div",we,[Se,u(e("input",{type:"text","onUpdate:modelValue":o[16]||(o[16]=s=>t.additionalDiscount=s),placeholder:"Enter Discount",onKeydown:o[17]||(o[17]=s=>I(s)),maxlength:"2"},null,544),[[_,t.additionalDiscount]]),t.submit&&A.value?(l(),c("div",Te,a(A.value),1)):h("",!0)])]),e("div",Ne,[e("div",Me,[Ue,u(e("input",{type:"text","onUpdate:modelValue":o[18]||(o[18]=s=>t.shortDesc=s),maxlength:"200"},null,512),[[_,t.shortDesc]]),t.submit&&T.value?(l(),c("div",Ae,a(T.value),1)):h("",!0)])]),e("div",xe,[e("div",Re,[bt(" Variants "),e("button",{style:{width:"20px",height:"20px"},onClick:v(q,["prevent"])}," + ")])]),(l(!0),c(k,null,E(t.productVariant,(s,C)=>(l(),c("div",{class:"row",key:C},[e("div",Le,[Oe,u(e("select",{class:"select","onUpdate:modelValue":p=>s.type=p},[He,(l(),c(k,null,E(F,(p,mt)=>e("option",{key:mt,value:p.id},a(p.id),9,$e)),64))],8,Ge),[[B,s.type]])]),e("div",Be,[Fe,u(e("input",{type:"text","onUpdate:modelValue":p=>s.name=p,maxlength:"100"},null,8,qe),[[_,s.name]])]),e("div",Ke,[We,e("button",{style:{width:"40px",height:"40px"},onClick:v(p=>K(C),["prevent"])}," - ",8,Ye)])]))),128))]),e("div",Qe,[Ze,d(ut,{content:t.desc,"onUpdate:content":o[19]||(o[19]=s=>t.desc=s),ref:"targetElement","content-type":"html",theme:"snow",toolbar:"full"},null,8,["content"]),t.submit&&w.value?(l(),c("div",je,a(w.value),1)):h("",!0)]),e("div",ze,[e("div",Je,[e("div",{class:"btn red-btn",onClick:o[20]||(o[20]=v(s=>i.value.addModal=!1,["prevent"]))}," Cancel "),e("div",{class:"btn white-btn",onClick:j},"Submit")])])]),_:1},8,["show"]),d(L,{show:i.value.statusModal,"onUpdate:show":o[27]||(o[27]=s=>i.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:P(()=>[Xe,e("div",{class:"close-btn",onClick:o[22]||(o[22]=v(s=>i.value.statusModal=!1,["prevent"]))},[d(R)])]),default:P(()=>[e("div",ts,[e("label",es,[u(e("input",{type:"radio","onUpdate:modelValue":o[23]||(o[23]=s=>t.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[O,t.changeStatus]]),e("div",ss,[d(pt),os])]),e("label",ns,[u(e("input",{type:"radio","onUpdate:modelValue":o[24]||(o[24]=s=>t.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[O,t.changeStatus]]),e("div",is,[d(_t),ds])]),e("label",as,[u(e("input",{type:"radio","onUpdate:modelValue":o[25]||(o[25]=s=>t.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[O,t.changeStatus]]),e("div",ls,[d(vt),cs])])]),e("div",rs,[e("div",us,[e("div",{class:"btn red-btn",onClick:o[26]||(o[26]=v(s=>i.value.statusModal=!1,["prevent"]))}," Cancel "),e("div",{class:"btn white-btn",onClick:z},"Submit")])])]),_:1},8,["show"]),d(L,{show:i.value.imageModal,"onUpdate:show":o[30]||(o[30]=s=>i.value.imageModal=s),class:"confirm-modal",headerClasses:"header-bg"},{header:P(()=>[ps,e("div",{class:"close-btn",onClick:o[28]||(o[28]=v(s=>i.value.confirmModal=!1,["prevent"]))},[d(R)])]),default:P(()=>[e("div",_s,[(l(!0),c(k,null,E(t.productImages,(s,C)=>(l(),c("div",{class:"card image-card",key:C},[e("img",{src:s.file,alt:s.file},null,8,vs),e("div",{class:"btn red-btn",onClick:v(p=>et(s),["prevent"])}," Delete ",8,ms)]))),128))]),e("div",hs,[e("div",fs,[e("div",{class:"btn red-btn",onClick:o[29]||(o[29]=v(s=>i.value.imageModal=!1,["prevent"]))}," Cancel ")])])]),_:1},8,["show"])])}}};export{Ps as default};
