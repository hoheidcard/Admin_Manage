import{u as W,d as f,e as X,n as Y,D as Z,r as i,o as d,c,a as t,b as a,w as _,v as y,p as tt,j as r,F as et,z as st,f as p,g as h,t as u,E}from"./index-DwPljJjs.js";import{_ as ot}from"./camera-B4WFWT0E.js";const lt={class:"faq-page"},at={class:"container"},nt={class:"table-card card"},it={class:"table-header"},dt={class:"left"},ct={class:"title-row"},rt={class:"icon"},ut=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Blog : List"),t("h5",{class:"main-title"},"Blog List")],-1),_t={class:"right"},pt={class:"searchbar"},vt={class:"icon"},ht={class:"searchbar"},gt={class:"select-dropdown"},mt=t("option",{value:"ACTIVE"},"ACTIVE",-1),ft=t("option",{value:"PENDING"},"PENDING",-1),bt=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),wt=[mt,ft,bt],Ct={class:"icons"},kt=t("div",{class:"tooltip"},"Add Blog",-1),yt={class:"table-body p-16"},Et={class:"table-outer"},Mt={class:"table"},It=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Author"),t("th",null,"Image"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),Bt=["src"],Vt={key:0,class:"badge success-badge"},St={key:1,class:"badge warning-badge"},Pt={key:2,class:"badge danger-badge"},Tt={class:"option-btns"},At=["onClick"],Dt=t("div",{class:"tooltip"},"Edit",-1),Ut=["onClick"],Nt=t("div",{class:"tooltip"},"Image",-1),xt=["onClick"],$t=t("div",{class:"tooltip"},"Status Change",-1),Gt={key:0,class:"table-no-data"},Ft=t("div",null,"No records Found!",-1),Lt=[Ft],Ht={key:1,class:"table-footer"},Rt={class:"title",showHeader:"true"},qt={class:"form mb-16"},Qt={class:"form-item mb-16"},jt=t("div",{class:"title"},"Title",-1),zt={key:0,class:"err-msg"},Jt={class:"form-item mb-16"},Kt=t("div",{class:"title"},"Author",-1),Ot={key:0,class:"err-msg"},Wt={class:"form-item mb-16"},Xt=t("div",{class:"title"},"Description",-1),Yt={class:"modal-footer"},Zt={class:"btns"},te=t("div",{class:"title",showHeader:"true"},"Change Status",-1),ee={class:"status-row"},se={for:"approve",class:"data"},oe={class:"data-inner approve-card"},le=t("div",{class:"title"},"ACTIVE",-1),ae={for:"pending",class:"data"},ne={class:"data-inner pending-card"},ie=t("div",{class:"title"},"PENDING",-1),de={for:"block",class:"data"},ce={class:"data-inner block-card"},re=t("div",{class:"title"},"DEACTIVE",-1),ue={class:"modal-footer"},_e={class:"btns"},pe=t("div",{class:"title",showHeader:"true"},"Upload Blog Image",-1),ve={class:"img-upload flex flex-d-col align-center"},he=t("div",{class:"text text-small mb-10"},"Blog Image",-1),ge=["src"],me={key:1,src:ot,class:"dummy-img",alt:""},fe={class:"form-group"},be={class:"modal-footer"},we={class:"btns"},Ee={__name:"Blogs",setup(Ce){const v=W(),l=f(()=>v.state.Blogs),e=X({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",changeStatus:null,currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,id:null,title:null,desc:null,image:null,author:null,file:null});Y(()=>{g()}),Z(()=>e.keyword,()=>{clearTimeout(e.typingTimer),e.typingTimer=setTimeout(()=>{e.limit=10,e.offset=0,e.currentPage=1,g()},e.typingDelay)});function g(){v.dispatch("Blogs/getBlogsByStatus",{limit:e.limit,offset:e.offset,keyword:e.keyword,status:e.status})}function P(){l.value.addModal=!0,e.editMode=!1,e.id=null,e.title=null,e.desc=null,e.author=null}function T(n){l.value.addModal=!0,e.editMode=!0,e.id=n.id,e.title=n.title,e.desc=n.desc,e.author=n.author}function A(n,s){e.changeStatus=s,e.id=n,l.value.statusModal=!0}function D(n,s){e.image=s,e.id=n,l.value.imageModal=!0}function U(){if(b.value){e.submit=!0;return}e.submit=!1,e.editMode?v.dispatch("Blogs/updateBlog",{id:e.id,title:e.title,author:e.author,desc:e.desc}):v.dispatch("Blogs/createBlog",{title:e.title,author:e.author,desc:e.desc})}function N(){e.id&&e.changeStatus&&v.dispatch("Blogs/updateBlogtatus",{id:e.id,status:e.changeStatus})}function x(){e.id&&e.file&&v.dispatch("Blogs/updateBlogImage",{id:e.id,file:e.file})}const $=n=>{e.currentPage=n,e.offset=e.limit*(n-1),g()};function G(){g()}function F(){document.getElementById("file-field1").click()}function L(n){var s,m=n.target.files;s=new FileReader,s.onload=w=>{e.image=w.target.result},s.readAsDataURL(m[0]),e.file=m[0]}const b=f(()=>{if(!e.title)return"Please Enter title"});f(()=>{if(!e.desc)return"Please Enter Desc"});const M=f(()=>{if(!e.author)return"Please Enter Author"});return(n,s)=>{var I,B;const m=i("icon-help"),w=i("icon-search"),H=i("icon-plus"),R=i("icon-edit"),q=i("icon-card"),Q=i("icon-setting"),j=i("Pagination"),C=i("icon-cross"),z=i("QuillEditor"),k=i("Modal"),J=i("icon-success"),K=i("icon-warning"),O=i("icon-block");return d(),c("section",lt,[t("div",at,[t("div",nt,[t("div",it,[t("div",dt,[t("div",ct,[t("div",rt,[a(m)]),ut])]),t("div",_t,[t("div",pt,[_(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>e.keyword=o),placeholder:"Search here"},null,512),[[y,e.keyword]]),t("div",vt,[a(w)])]),t("div",ht,[t("div",gt,[_(t("select",{name:"",id:"","onUpdate:modelValue":s[1]||(s[1]=o=>e.status=o),onChange:G},wt,544),[[tt,e.status]])])]),t("div",Ct,[t("div",{class:"icon tooltip-wrapper",onClick:r(P,["prevent"])},[a(H),kt])])])]),t("div",yt,[t("div",Et,[t("table",Mt,[It,t("tbody",null,[(d(!0),c(et,null,st(l.value.data,(o,V)=>(d(),c("tr",{key:V},[t("td",null,u(V+1),1),t("td",null,u(o.title),1),t("td",null,u(o.author),1),t("td",null,[t("img",{src:`${o.image}?width=50`,alt:""},null,8,Bt)]),t("td",null,[o.status==="ACTIVE"?(d(),c("div",Vt,u(o.status),1)):p("",!0),o.status==="PENDING"?(d(),c("div",St,u(o.status),1)):p("",!0),o.status==="DEACTIVE"?(d(),c("div",Pt,u(o.status),1)):p("",!0)]),t("td",null,[t("div",Tt,[t("div",{class:"icon tooltip-wrapper",onClick:S=>T(o)},[a(R),Dt],8,At),t("div",{class:"icon tooltip-wrapper",onClick:S=>D(o.id,o.image)},[a(q),Nt],8,Ut),t("div",{class:"icon tooltip-wrapper",onClick:r(S=>A(o.id,o.status),["prevent"])},[a(Q),$t],8,xt)])])]))),128))])])]),((I=l.value.data)==null?void 0:I.length)<=0?(d(),c("div",Gt,Lt)):p("",!0),((B=l.value.data)==null?void 0:B.length)>0?(d(),c("div",Ht,[a(j,{currentPage:e.currentPage,totalItem:l.value.total,itemsPerPage:e.limit,"onUpdate:currentPage":s[2]||(s[2]=o=>$(o))},null,8,["currentPage","totalItem","itemsPerPage"])])):p("",!0)])])]),a(k,{show:l.value.addModal,"onUpdate:show":s[8]||(s[8]=o=>l.value.addModal=o),class:"faq-modal",type:"full",headerClasses:"header-bg"},{header:h(()=>[t("div",Rt,u(e.editMode?"Update Title":"Add Title"),1),t("div",{class:"close-btn",onClick:s[3]||(s[3]=r(o=>l.value.addModal=!1,["prevent"]))},[a(C)])]),default:h(()=>[t("div",qt,[t("div",Qt,[jt,_(t("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=o=>e.title=o),placeholder:"Enter Title"},null,512),[[y,e.title]]),e.submit&&b.value?(d(),c("div",zt,u(b.value),1)):p("",!0)]),t("div",Jt,[Kt,_(t("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=o=>e.author=o),placeholder:"Enter Author"},null,512),[[y,e.author]]),e.submit&&M.value?(d(),c("div",Ot,u(M.value),1)):p("",!0)])]),t("div",Wt,[Xt,a(z,{content:e.desc,"onUpdate:content":s[6]||(s[6]=o=>e.desc=o),ref:"targetElement","content-type":"html",theme:"snow",toolbar:"full"},null,8,["content"])]),t("div",Yt,[t("div",Zt,[t("div",{class:"btn red-btn",onClick:s[7]||(s[7]=r(o=>l.value.addModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:U},"Submit")])])]),_:1},8,["show"]),a(k,{show:l.value.statusModal,"onUpdate:show":s[14]||(s[14]=o=>l.value.statusModal=o),class:"status-modal",headerClasses:"header-bg"},{header:h(()=>[te,t("div",{class:"close-btn",onClick:s[9]||(s[9]=r(o=>l.value.statusModal=!1,["prevent"]))},[a(C)])]),default:h(()=>[t("div",ee,[t("label",se,[_(t("input",{type:"radio","onUpdate:modelValue":s[10]||(s[10]=o=>e.changeStatus=o),value:"ACTIVE",id:"approve",name:"status"},null,512),[[E,e.changeStatus]]),t("div",oe,[a(J),le])]),t("label",ae,[_(t("input",{type:"radio","onUpdate:modelValue":s[11]||(s[11]=o=>e.changeStatus=o),value:"PENDING",id:"pending",name:"status"},null,512),[[E,e.changeStatus]]),t("div",ne,[a(K),ie])]),t("label",de,[_(t("input",{type:"radio","onUpdate:modelValue":s[12]||(s[12]=o=>e.changeStatus=o),value:"DEACTIVE",id:"block",name:"status"},null,512),[[E,e.changeStatus]]),t("div",ce,[a(O),re])])]),t("div",ue,[t("div",_e,[t("div",{class:"btn red-btn",onClick:s[13]||(s[13]=r(o=>l.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:N},"Submit")])])]),_:1},8,["show"]),a(k,{show:l.value.imageModal,"onUpdate:show":s[17]||(s[17]=o=>l.value.imageModal=o),class:"confirm-modal",headerClasses:"header-bg"},{header:h(()=>[pe,t("div",{class:"close-btn",onClick:s[15]||(s[15]=r(o=>l.value.confirmModal=!1,["prevent"]))},[a(C)])]),default:h(()=>[t("div",ve,[he,t("div",{class:"img-upload-wrapper h-10-r w-10-r",onClick:F},[e.image?(d(),c("img",{key:0,src:e.image,class:"preview-image",alt:""},null,8,ge)):(d(),c("img",me)),t("div",fe,[t("input",{name:"image",type:"file",id:"file-field1",onChange:L,style:{display:"none"}},null,32)])])]),t("div",be,[t("div",we,[t("div",{class:"btn red-btn",onClick:s[16]||(s[16]=r(o=>l.value.imageModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",type:"button",onClick:r(x,["prevent"])}," Upload ")])])]),_:1},8,["show"])])}}};export{Ee as default};
