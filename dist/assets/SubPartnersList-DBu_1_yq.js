import{u as H,s as J,x as K,d as Q,e as W,n as X,D as Y,r as n,o as d,c as r,a as t,b as a,w as p,v as Z,p as tt,j as u,F as st,z as ot,f as h,g as E,t as i,E as C}from"./index-DwPljJjs.js";const et={class:"faq-page"},nt={class:"container"},at={class:"table-card card"},it={class:"table-header"},lt={class:"left"},ct={class:"title-row"},dt={class:"icon"},rt=t("div",{class:"titles"},[t("div",{class:"sub-title"},"Sub Partners : List"),t("h5",{class:"main-title"},"Our Sub Partners")],-1),ut={class:"right"},_t={class:"searchbar"},pt={class:"icon"},ht={class:"searchbar"},vt={class:"select-dropdown"},gt=t("option",{value:"ACTIVE"},"ACTIVE",-1),bt=t("option",{value:"PENDING"},"PENDING",-1),mt=t("option",{value:"DEACTIVE"},"DEACTIVE",-1),Ct=[gt,bt,mt],ft={class:"icons"},kt=t("div",{class:"tooltip"},"Add Partners",-1),yt={class:"table-body p-16"},St={class:"table-outer"},wt={class:"table"},Pt=t("thead",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Contact No"),t("th",null,"Owner Name"),t("th",null,"Address"),t("th",null,"Type"),t("th",null,"Status"),t("th",{class:"text-center"},"Action")],-1),It={key:0,class:"badge success-badge"},Et={key:1,class:"badge warning-badge"},Vt={key:2,class:"badge danger-badge"},Nt={class:"option-btns"},At=["onClick"],Mt=t("div",{class:"tooltip"},"Edit",-1),Tt=["onClick"],Dt=t("div",{class:"tooltip"},"Change Status",-1),$t=["onClick"],Ut=t("div",{class:"tooltip"},"My School",-1),xt=["onClick"],qt=t("div",{class:"tooltip"},"My College",-1),zt=["onClick"],Bt=t("div",{class:"tooltip"},"My Organizations",-1),Gt=["onClick"],Rt=t("div",{class:"tooltip"},"Setttngs",-1),Ft={key:0,class:"table-no-data"},Lt=t("div",null,"No records Found!",-1),Ot=[Lt],jt={key:1,class:"table-footer"},Ht=t("div",{class:"title",showHeader:"true"},"Change Status",-1),Jt={class:"status-row"},Kt={for:"approve",class:"data"},Qt={class:"data-inner approve-card"},Wt=t("div",{class:"title"},"ACTIVE",-1),Xt={for:"pending",class:"data"},Yt={class:"data-inner pending-card"},Zt=t("div",{class:"title"},"PENDING",-1),ts={for:"block",class:"data"},ss={class:"data-inner block-card"},os=t("div",{class:"title"},"DEACTIVE",-1),es={class:"modal-footer"},ns={class:"btns"},ls={__name:"SubPartnersList",setup(as){const b=H(),f=J(),k=K(),l=Q(()=>b.state.SubPartners),o=W({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",roles:"SUB PARTNER",currentPage:1,editMode:!1,typingTimer:null,typingDelay:500,partnersId:null,partnersAccountId:null,changeStatus:null});X(()=>{f.query.id&&(o.partnersAccountId=f.query.id,v())}),Y(()=>o.keyword,()=>{clearTimeout(o.typingTimer),o.typingTimer=setTimeout(()=>{o.limit=10,o.offset=0,o.currentPage=1,v()},o.typingDelay)});function v(){b.dispatch("SubPartners/getSubPartners",{limit:o.limit,offset:o.offset,keyword:o.keyword,status:o.status,roles:o.roles,id:o.partnersAccountId})}function V(c,e){o.changeStatus=e,o.partnersId=c,l.value.statusModal=!0}function N(){b.dispatch("SubPartners/updateSubPartnersStatus",{id:o.partnersId,status:o.changeStatus})}const A=c=>{o.currentPage=c,o.offset=o.limit*(c-1),v()};function M(){v()}function y(c,e){k.push({path:e,query:{id:c}})}function g(c,e,m){k.push({path:m,query:{id:c,settingId:e}})}return(c,e)=>{var S,w;const m=n("icon-help"),T=n("icon-search"),D=n("icon-plus"),$=n("icon-edit"),U=n("icon-status"),x=n("icon-school"),q=n("icon-college"),z=n("icon-organizations"),B=n("icon-setting"),G=n("Pagination"),R=n("icon-cross"),F=n("icon-success"),L=n("icon-warning"),O=n("icon-block"),j=n("Modal");return d(),r("section",et,[t("div",nt,[t("div",at,[t("div",it,[t("div",lt,[t("div",ct,[t("div",dt,[a(m)]),rt])]),t("div",ut,[t("div",_t,[p(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.keyword=s),placeholder:"Search here"},null,512),[[Z,o.keyword]]),t("div",pt,[a(T)])]),t("div",ht,[t("div",vt,[p(t("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=s=>o.status=s),onChange:M},Ct,544),[[tt,o.status]])])]),t("div",ft,[t("div",{class:"icon tooltip-wrapper",onClick:e[2]||(e[2]=u(s=>y(o.partnersAccountId,"/crm/add-sub-partners"),["prevent"]))},[a(D),kt])])])]),t("div",yt,[t("div",St,[t("table",wt,[Pt,t("tbody",null,[(d(!0),r(st,null,ot(l.value.subPartnersData,(s,P)=>{var I;return d(),r("tr",{key:P},[t("td",null,i(P+1),1),t("td",null,i(s.firmName),1),t("td",null,i(s.firmEmail),1),t("td",null,i(s.ownerMobile),1),t("td",null,i(s.ownerName),1),t("td",null,i(s.ownerMobile),1),t("td",null,i((I=s.account)==null?void 0:I.roles),1),t("td",null,[s.status==="ACTIVE"?(d(),r("div",It,i(s.status),1)):h("",!0),s.status==="PENDING"?(d(),r("div",Et,i(s.status),1)):h("",!0),s.status==="DEACTIVE"?(d(),r("div",Vt,i(s.status),1)):h("",!0)]),t("td",null,[t("div",Nt,[t("div",{class:"icon tooltip-wrapper",onClick:_=>y(s.id,"/crm/edit-sub-partners")},[a($),Mt],8,At),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>V(s.id,s.status),["prevent"])},[a(U),Dt],8,Tt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>g(s.accountId,s.settingId,"/crm/partners/schools"),["prevent"])},[a(x),Ut],8,$t),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>g(s.accountId,s.settingId,"/crm/partners/colleges"),["prevent"])},[a(q),qt],8,xt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>g(s.accountId,s.settingId,"/crm/partners/organizations"),["prevent"])},[a(z),Bt],8,zt),t("div",{class:"icon tooltip-wrapper",onClick:u(_=>g(s.id,s.settingId,"/crm/partners/setting"),["prevent"])},[a(B),Rt],8,Gt)])])])}),128))])])]),((S=l.value.subPartnersData)==null?void 0:S.length)<=0?(d(),r("div",Ft,Ot)):h("",!0),((w=l.value.subPartnersData)==null?void 0:w.length)>0?(d(),r("div",jt,[a(G,{currentPage:o.currentPage,totalItem:l.value.totalSubPartners,itemsPerPage:o.limit,"onUpdate:currentPage":e[3]||(e[3]=s=>A(s))},null,8,["currentPage","totalItem","itemsPerPage"])])):h("",!0)])])]),a(j,{show:l.value.statusModal,"onUpdate:show":e[9]||(e[9]=s=>l.value.statusModal=s),class:"status-modal",headerClasses:"header-bg"},{header:E(()=>[Ht,t("div",{class:"close-btn",onClick:e[4]||(e[4]=u(s=>l.value.statusModal=!1,["prevent"]))},[a(R)])]),default:E(()=>[t("div",Jt,[t("label",Kt,[p(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=s=>o.changeStatus=s),value:"ACTIVE",id:"approve",name:"status"},null,512),[[C,o.changeStatus]]),t("div",Qt,[a(F),Wt])]),t("label",Xt,[p(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=s=>o.changeStatus=s),value:"PENDING",id:"pending",name:"status"},null,512),[[C,o.changeStatus]]),t("div",Yt,[a(L),Zt])]),t("label",ts,[p(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=s=>o.changeStatus=s),value:"DEACTIVE",id:"block",name:"status"},null,512),[[C,o.changeStatus]]),t("div",ss,[a(O),os])])]),t("div",es,[t("div",ns,[t("div",{class:"btn red-btn",onClick:e[8]||(e[8]=u(s=>l.value.statusModal=!1,["prevent"]))}," Cancel "),t("div",{class:"btn white-btn",onClick:N},"Submit")])])]),_:1},8,["show"])])}}};export{ls as default};
