import{u as U,s as Y,x as B,d as h,e as F,r as d,o as r,c,a as e,b as l,j as i,F as H,z as K,f as S,g as u,t as m,m as L}from"./index-DwPljJjs.js";import{_ as R}from"./delete-ClllWuc2.js";const T={class:"user-activity user-profile"},j={class:"table-card"},q={class:"table-header"},E={class:"left"},P={class:"title-row"},G={class:"icon"},J=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Department : List"),e("h5",{class:"main-title"},"Department")],-1),Q={class:"right"},W={class:"searchbar"},X=e("input",{type:"text",placeholder:"Search here"},null,-1),Z={class:"icon"},ee={class:"icons"},te=e("div",{class:"tooltip"},"Add Department",-1),se={class:"table-body mt-16"},oe={class:"table-outer"},ae={class:"table"},ne=e("thead",null,[e("th",null,"#"),e("th",null,"Department"),e("th",null,"Date & Time"),e("th",{class:"text-center"},"Action")],-1),le={class:"option-btns"},de=["onClick"],ie=e("div",{class:"tooltip"},"Delete",-1),re={key:0,class:"table-no-data"},ce=e("div",null,"No records Found!",-1),me=[ce],pe={class:"title",showHeader:"true"},ue={class:"form mb-16"},_e={class:"form-item mb-16"},he=e("div",{class:"title"},"Department Name",-1),ve={key:0,class:"err-msg"},fe={class:"modal-footer"},be={class:"btns"},De=e("div",{class:"title",showHeader:"true"},"Delete",-1),Me=e("div",{class:"delete-icon"},[e("img",{src:R,alt:""})],-1),Se=e("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1),ge={class:"modal-footer"},we={class:"btns"},Ie={__name:"StaffDepartment",setup(Ce){const p=U();Y(),B();const o=h(()=>p.state.OrganizationStaff),g=h(()=>p.state.OrganizationSettings),t=F({submit:!1,staffAccountId:null,deparmentName:null,departmentId:null,searchKey:null,editMode:!1});function w(){if(_.value){t.submit=!0;return}t.submit=!1,p.dispatch("OrganizationStaff/addStaffDepartment",{departmentId:t.departmentId,staffDetailId:o.value.id,deparmentName:t.deparmentName})}function C(){p.dispatch("OrganizationStaff/deleteStaffDepartment",{id:t.departmentId})}function k(){o.value.addDepartmentModal=!0,t.editMode=!1,t.deparmentName=null,t.departmentId=null}function y(n){t.departmentId=n,o.value.confirmDepartmentModal=!0}const N=n=>{t.departmentId=n.id},I=n=>{t.searchKey=n};function V(n){return n?L(n).format("MMM Do YYYY hh:mm A"):"-"}const _=h(()=>{if(!t.departmentId)return"Please Select Department"});return(n,s)=>{var b;const A=d("icon-user"),x=d("icon-search"),z=d("icon-plus"),$=d("icon-delete"),v=d("icon-cross"),O=d("SingleSelect"),f=d("Modal");return r(),c("section",T,[e("div",j,[e("div",q,[e("div",E,[e("div",P,[e("div",G,[l(A)]),J])]),e("div",Q,[e("div",W,[X,e("div",Z,[l(x)])]),e("div",ee,[e("div",{class:"icon tooltip-wrapper",onClick:i(k,["prevent"])},[l(z),te])])])]),e("div",se,[e("div",oe,[e("table",ae,[ne,e("tbody",null,[(r(!0),c(H,null,K(o.value.staffDepartment,(a,D)=>{var M;return r(),c("tr",{key:D},[e("td",null,m(D+1),1),e("td",null,m((M=a.department)==null?void 0:M.name),1),e("td",null,m(V(a.createdAt)),1),e("td",null,[e("div",le,[e("div",{class:"icon tooltip-wrapper",onClick:i(ke=>y(a.id),["prevent"])},[l($),ie],8,de)])])])}),128))])])]),((b=o.value.staffDepartment)==null?void 0:b.length)<=0?(r(),c("div",re,me)):S("",!0)])]),l(f,{show:o.value.addDepartmentModal,"onUpdate:show":s[3]||(s[3]=a=>o.value.addDepartmentModal=a),class:"faq-modal",centerModal:!0,headerClasses:"header-bg"},{header:u(()=>[e("div",pe,m(t.editMode?"Update Department":"Add Department"),1),e("div",{class:"close-btn",onClick:s[0]||(s[0]=i(a=>o.value.addDepartmentModal=!1,["prevent"]))},[l(v)])]),default:u(()=>[e("form",ue,[e("div",_e,[he,l(O,{options:g.value.department,onSelected:N,modelValue:t.deparmentName,"onUpdate:modelValue":s[1]||(s[1]=a=>t.deparmentName=a),next:!1,placeholder:"Select",onSearch:I},null,8,["options","modelValue"]),t.submit&&_.value?(r(),c("div",ve,m(_.value),1)):S("",!0)])]),e("div",fe,[e("div",be,[e("div",{class:"btn red-btn",onClick:s[2]||(s[2]=i(a=>o.value.addDepartmentModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),l(f,{show:o.value.confirmDepartmentModal,"onUpdate:show":s[6]||(s[6]=a=>o.value.confirmDepartmentModal=a),class:"confirm-modal",headerClasses:"header-bg"},{header:u(()=>[De,e("div",{class:"close-btn",onClick:s[4]||(s[4]=i(a=>o.value.confirmDepartmentModal=!1,["prevent"]))},[l(v)])]),default:u(()=>[Me,Se,e("div",ge,[e("div",we,[e("div",{class:"btn red-btn",onClick:s[5]||(s[5]=i(a=>o.value.confirmDepartmentModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:C},"Delete")])])]),_:1},8,["show"])])}}};export{Ie as default};
