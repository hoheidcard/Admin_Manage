import{k as O,u as R,s as j,x as q,d as f,e as K,n as G,r as n,o as r,c,a as e,b as l,j as u,g as v,y as m,f as g,F as D,h as J,z as Q,C as W,t as _,w,v as S}from"./index-DwPljJjs.js";import{_ as X}from"./delete-ClllWuc2.js";import{V as Y}from"./vue-draggable-next.esm-bundler-Bmx52r95.js";const Z={class:"table-card"},ee={class:"table-header"},te={class:"left"},se={class:"title-row"},oe={class:"icon"},ae=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Class : List"),e("h5",{class:"main-title"},"Our Class")],-1),ie={class:"right"},le={class:"searchbar"},ne=e("input",{type:"text",placeholder:"Search here"},null,-1),de={class:"icon"},re={class:"icons"},ce=e("div",{class:"tooltip"},"Add Class",-1),ue={class:"container-drag"},_e=J('<div class="dragTableHead flex text-primary top-header bold"><div class="sl">#</div><div class="title">Name</div><div class="title">Priority</div><div class="title actn">Action</div></div>',1),ve=["draggable"],pe={class:"sl"},he={class:"area"},fe={class:"area"},me={class:"area"},ge={class:"option-btns"},ye=["onClick"],Ce=e("div",{class:"tooltip"},"Edit",-1),be=["onClick"],ke=e("div",{class:"tooltip"},"Delete",-1),Me={key:0,class:"table-no-data"},De=e("div",null,"No records Found!",-1),we=[De],Se={class:"title",showHeader:"true"},xe={class:"form mb-16"},Ve={class:"form-item mb-16 col-10"},Ne=e("div",{class:"title"},"Name",-1),Ee={key:0,class:"err-msg"},Ie={class:"form-item mb-16 col-10"},Ae=e("div",{class:"title"},"Priority",-1),Le={key:0,class:"err-msg"},$e={class:"modal-footer"},Pe={class:"btns"},Ue=e("div",{class:"title",showHeader:"true"},"Delete",-1),ze=e("div",{class:"delete-icon"},[e("img",{src:X,alt:""})],-1),Be=e("h4",{class:"text-gree"},"Are you sure want to Delete?",-1),Fe={class:"modal-footer"},He={class:"btns"},qe={__name:"ClassList",setup(Te){let y=O(!1);const d=R();j(),q();const i=f(()=>d.state.DefaultSetting),t=K({organizationSettingId:null,organizationId:null,editMode:!1,classId:null,name:null,priority:null,type:"CLASS",for:"SCHOOL"});G(()=>{x()});function x(){d.dispatch("DefaultSetting/getDefaultSetting",{settingType:t.type,settingFor:t.for})}function V(){i.value.createModal=!0,t.editMode=!1,t.name=null,t.priority=null}function N(s){i.value.createModal=!0,t.editMode=!0,t.classId=s.id,t.name=s.name,t.priority=s.priority}function E(s){t.classId=s,i.value.deleteModal=!0}function I(){if(p.value||h.value){t.submit=!0;return}t.submit=!1;let s={name:t.name,priority:t.priority,type:t.type,for:t.for};t.editMode?d.dispatch("DefaultSetting/updateDefaultSetting",{id:t.classId,payload:s}):d.dispatch("DefaultSetting/createDefaultSetting",s)}function A(){d.dispatch("DefaultSetting/deleteDefaultSetting",{id:t.classId,status:"DELETED"})}function L(){for(let s=0;s<i.value.data.length;s++)i.value.data[s].priority=s+1}function $(s){L(),d.dispatch("DefaultSetting/bulkDefaultSetting",i.value.data)}const p=f(()=>{if(!t.name)return"Please Enter Name"}),h=f(()=>{if(!t.priority)return"Please Enter Priority"});function P(s){let o=String.fromCharCode(s.keyCode);if(/^[0-9]+$/.test(o)||s.keyCode===8||s.keyCode===9||s.keyCode===37||s.keyCode===39||s.keyCode>=96&&s.keyCode<=105)return!0;s.preventDefault()}return(s,o)=>{var k;const U=n("icon-user"),z=n("icon-search"),B=n("icon-plus"),F=n("icon-edit"),H=n("icon-delete"),C=n("icon-cross"),b=n("Modal");return r(),c(D,null,[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[l(U)]),ae])]),e("div",ie,[e("div",le,[ne,e("div",de,[l(z)])]),e("div",re,[e("div",{class:"icon tooltip-wrapper",onClick:u(V,["prevent"])},[l(B),ce])])])])]),e("div",ue,[_e,l(m(Y),{class:"dragArea list-group w-full",list:i.value.data,onChange:$},{default:v(()=>[(r(!0),c(D,null,Q(i.value.data,(a,M)=>(r(),c("div",{class:"dragAreaList",draggable:m(y),key:M},[e("div",{class:W(m(y)?"bg-list":"list")},[e("div",pe,_(M+1),1),e("div",he,_(a.name),1),e("div",fe,_(a.priority),1),e("div",me,[e("div",ge,[e("div",{class:"icon tooltip-wrapper",onClick:T=>N(a)},[l(F),Ce],8,ye),e("div",{class:"icon tooltip-wrapper",onClick:u(T=>E(a.id),["prevent"])},[l(H),ke],8,be)])])],2)],8,ve))),128))]),_:1},8,["list"])]),((k=i.value.data)==null?void 0:k.length)<=0?(r(),c("div",Me,we)):g("",!0),l(b,{show:i.value.createModal,"onUpdate:show":o[5]||(o[5]=a=>i.value.createModal=a),centerModal:!0,class:"faq-modal",headerClasses:"header-bg"},{header:v(()=>[e("div",Se,_(t.editMode?"Update Class":"Add Class"),1),e("div",{class:"close-btn",onClick:o[0]||(o[0]=u(a=>i.value.createModal=!1,["prevent"]))},[l(C)])]),default:v(()=>[e("form",xe,[e("div",Ve,[Ne,w(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=a=>t.name=a),placeholder:"Enter Name",maxlength:"50"},null,512),[[S,t.name]]),t.submit&&p.value?(r(),c("div",Ee,_(p.value),1)):g("",!0)]),e("div",Ie,[Ae,w(e("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=a=>t.priority=a),placeholder:"Enter Priority",onKeydown:o[3]||(o[3]=a=>P(a)),maxlength:"3"},null,544),[[S,t.priority]]),t.submit&&h.value?(r(),c("div",Le,_(h.value),1)):g("",!0)])]),e("div",$e,[e("div",Pe,[e("div",{class:"btn red-btn",onClick:o[4]||(o[4]=u(a=>i.value.createModal=!1,["prevent"]))}," Cancel "),e("div",{class:"btn white-btn",onClick:I},"Submit")])])]),_:1},8,["show"]),l(b,{show:i.value.deleteModal,"onUpdate:show":o[8]||(o[8]=a=>i.value.deleteModal=a),class:"confirm-modal",headerClasses:"header-bg"},{header:v(()=>[Ue,e("div",{class:"close-btn",onClick:o[6]||(o[6]=u(a=>i.value.deleteModal=!1,["prevent"]))},[l(C)])]),default:v(()=>[ze,Be,e("div",Fe,[e("div",He,[e("div",{class:"btn red-btn",onClick:o[7]||(o[7]=u(a=>i.value.deleteModal=!1,["prevent"]))}," Cancel "),e("div",{class:"btn white-btn",onClick:A},"Delete")])])]),_:1},8,["show"])],64)}}};export{qe as default};
