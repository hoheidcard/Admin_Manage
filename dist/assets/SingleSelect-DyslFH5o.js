import{k as p,B as S,d as m,n as g,l as L,o as r,c as d,w as V,v as x,a as v,T as _,F as C,z as B,t as N}from"./index-DwPljJjs.js";const q={class:"single-select"},A=["placeholder"],O={class:"dropdown-options"},E=["onClick"],K={__name:"SingleSelect",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"Search..."},options:{type:Array,required:!0},outside:{type:Boolean,default:!0}},emits:["update:modelValue","selected","search"],setup(u){const l=u;p("");let a=p(null);const s=S(),f=m(()=>l.options.filter(e=>e.name.toLowerCase().includes(n.value?n.value.toLowerCase():""))),n=m({get:()=>l.modelValue,set:e=>{s.emit("update:modelValue",e)}}),y=e=>{n.value=e.name,s.emit("update:modelValue",e.name),s.emit("selected",e),i()},h=()=>{s.emit("update:modelValue",n.value),s.emit("selected",{id:null,name:n.value}),i()},w=e=>{s.emit("update:modelValue",n.value),s.emit("search",n.value)},i=()=>{const e=document.querySelector("body").querySelectorAll("input"),t=Array.from(e).indexOf(a.value);e[t].parentNode.classList.remove("show-drop"),t<e.length-1&&(e[t+1].focus(),e[t+1].parentNode.classList.add("show-drop"))},k=()=>{const e=document.querySelector("body").querySelectorAll("input"),t=Array.from(e).indexOf(a.value);t>=0&&e[t].parentNode.classList.add("show-drop")};g(()=>{l.outside&&window.addEventListener("click",c)}),L(()=>{l.outside&&window.removeEventListener("click",c)});const c=e=>{const t=e.target,o=a.value.parentNode;o.contains(t)||o.classList.remove("show-drop")};return(e,t)=>(r(),d("div",q,[V(v("input",{type:"text",ref_key:"inputField",ref:a,"onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o),placeholder:u.placeholder,onKeydown:_(h,["enter"]),onKeyup:t[1]||(t[1]=o=>w()),onClick:k},null,40,A),[[x,n.value]]),v("ul",O,[(r(!0),d(C,null,B(f.value,o=>(r(),d("li",{key:o.id,onClick:F=>y(o)},N(o.name),9,E))),128))])]))}};export{K as default};
