import{k as v,u as I,s as k,x as y,d as S,e as O,n as z,l as w,r,o as l,c as d,a as t,j as b,t as u,b as s,g as f}from"./index-DwPljJjs.js";import{_ as A}from"./no-image-Cge9pZ0v.js";import"./cropper-DeyK3aZp.js";const x={class:"profile-layout"},B={class:"container"},M={class:"left-card card"},U={class:"top-info"},V=["src"],q={key:1,src:A,alt:""},C={class:"info"},D={class:"name"},E=t("div",{class:"text"},"Welcome,",-1),N={class:"about f-w-bold"},P={class:"bottom-links bottom-links-desk"},R=t("div",{class:"title"},"Profile",-1),j={class:"icon"},F=t("div",{class:"title"},"Department",-1),L={class:"icon"},W=t("div",{class:"title"},"Documents",-1),G={class:"icon"},H={class:"right-card card"},Z={__name:"StaffProfileLayout",setup(J){v(null);const i=I(),n=k();y();const e=S(()=>i.state.OrganizationStaff),o=O({staffAccountId:null,settingId:null,cropModal:!1,imageUrl:null,imageFile:null,croppedImageUrl:null,cropper:null,cropperEnable:!1,type:""});z(()=>{n.query.id&&(o.staffAccountId=n.query.id,o.settingId=n.query.settingId,g(),m())}),w(()=>{o.cropper&&o.cropper.destroy()});function p(){o.cropModal=!0}function g(){i.dispatch("OrganizationStaff/getOneStaff",{id:o.staffAccountId})}function m(){i.dispatch("OrganizationSettings/getOneOrganizationSettings",{id:o.settingId})}return(K,Q)=>{var _;const a=r("icon-right-arrow"),c=r("router-link"),h=r("router-view");return l(),d("section",x,[t("div",B,[t("div",M,[t("div",U,[t("div",{class:"img",onClick:b(p,["prevent"])},[e.value.profile?(l(),d("img",{key:0,src:e.value.profile,alt:""},null,8,V)):(l(),d("img",q))]),t("div",C,[t("div",D,[E,t("h3",null,u(e.value.name),1)]),t("div",N,u((_=e.value.designation)==null?void 0:_.name),1)])]),t("div",P,[s(c,{to:"/crm/organization-staff-profile?id="+o.staffAccountId+"&settingId="+o.settingId,class:"profile-link"},{default:f(()=>[R,t("div",j,[s(a)])]),_:1},8,["to"]),s(c,{to:"/crm/organization-staff-department?id="+o.staffAccountId+"&settingId="+o.settingId,class:"profile-link"},{default:f(()=>[F,t("div",L,[s(a)])]),_:1},8,["to"]),s(c,{to:"/crm/organization-staff-documents?id="+o.staffAccountId+"&settingId="+o.settingId,class:"profile-link"},{default:f(()=>[W,t("div",G,[s(a)])]),_:1},8,["to"])])]),t("div",H,[s(h)])])])}}};export{Z as default};
