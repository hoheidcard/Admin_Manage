import{u as U,s as Y,x as B,d as m,e as F,r as l,o as c,c as r,a as e,b as a,j as d,F as H,z as K,f as M,g as _,t as v,m as L}from"./index-DwPljJjs.js";import{_ as R}from"./delete-ClllWuc2.js";const T={class:"user-activity user-profile"},j={class:"table-card"},q={class:"table-header"},E={class:"left"},P={class:"title-row"},G={class:"icon"},J=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Section : List"),e("h5",{class:"main-title"},"Section")],-1),Q={class:"right"},W={class:"searchbar"},X=e("input",{type:"text",placeholder:"Search here"},null,-1),Z={class:"icon"},ee={class:"icons"},se=e("div",{class:"tooltip"},"Add Section",-1),te={class:"table-body mt-16"},oe={class:"table-outer"},ie={class:"table"},ne=e("thead",null,[e("th",null,"#"),e("th",null,"Section"),e("th",null,"Date & Time"),e("th",{class:"text-center"},"Action")],-1),ae={class:"option-btns"},le=["onClick"],de=e("div",{class:"tooltip"},"Delete",-1),ce={key:0,class:"table-no-data"},re=e("div",null,"No records Found!",-1),ve=[re],ue={class:"title",showHeader:"true"},_e={class:"form mb-16"},he={class:"form-item mb-16"},me=e("div",{class:"title"},"Department Name",-1),fe={key:0,class:"err-msg"},pe={class:"modal-footer"},be={class:"btns"},De=e("div",{class:"title",showHeader:"true"},"Delete",-1),Se=e("div",{class:"delete-icon"},[e("img",{src:R,alt:""})],-1),Me=e("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1),ge={class:"modal-footer"},we={class:"btns"},Ve={__name:"StaffDivision",setup(Ce){const u=U();Y(),B();const o=m(()=>u.state.OrganizationStaff),g=m(()=>u.state.OrganizationSettings),s=F({submit:!1,staffAccountId:null,name:null,divisionId:null,searchKey:null,editMode:!1});function w(){if(h.value){s.submit=!0;return}s.submit=!1,u.dispatch("OrganizationStaff/addStaffDivision",{classDivId:s.divisionId,staffDetailId:o.value.id,name:s.name})}function C(){u.dispatch("OrganizationStaff/deleteStaffDivision",{id:s.divisionId})}function k(){o.value.addDivisionModal=!0,s.editMode=!1,s.name=null,s.divisionId=null}function y(n){s.divisionId=n,o.value.confirmDivisionModal=!0}const I=n=>{s.divisionId=n.id},V=n=>{s.searchKey=n};function A(n){return n?L(n).format("MMM Do YYYY hh:mm A"):"-"}const h=m(()=>{if(!s.divisionId)return"Please Select Department"});return(n,t)=>{var b;const x=l("icon-user"),z=l("icon-search"),N=l("icon-plus"),$=l("icon-delete"),f=l("icon-cross"),O=l("SingleSelect"),p=l("Modal");return c(),r("section",T,[e("div",j,[e("div",q,[e("div",E,[e("div",P,[e("div",G,[a(x)]),J])]),e("div",Q,[e("div",W,[X,e("div",Z,[a(z)])]),e("div",ee,[e("div",{class:"icon tooltip-wrapper",onClick:d(k,["prevent"])},[a(N),se])])])]),e("div",te,[e("div",oe,[e("table",ie,[ne,e("tbody",null,[(c(!0),r(H,null,K(o.value.staffDivision,(i,D)=>{var S;return c(),r("tr",{key:D},[e("td",null,v(D+1),1),e("td",null,v((S=i.classDiv)==null?void 0:S.name),1),e("td",null,v(A(i.createdAt)),1),e("td",null,[e("div",ae,[e("div",{class:"icon tooltip-wrapper",onClick:d(ke=>y(i.id),["prevent"])},[a($),de],8,le)])])])}),128))])])]),((b=o.value.staffDivision)==null?void 0:b.length)<=0?(c(),r("div",ce,ve)):M("",!0)])]),a(p,{show:o.value.addDivisionModal,"onUpdate:show":t[3]||(t[3]=i=>o.value.addDivisionModal=i),class:"faq-modal",centerModal:!0,headerClasses:"header-bg"},{header:_(()=>[e("div",ue,v(s.editMode?"Update Section":"Add Section"),1),e("div",{class:"close-btn",onClick:t[0]||(t[0]=d(i=>o.value.addDivisionModal=!1,["prevent"]))},[a(f)])]),default:_(()=>[e("form",_e,[e("div",he,[me,a(O,{options:g.value.classDiv,onSelected:I,modelValue:s.name,"onUpdate:modelValue":t[1]||(t[1]=i=>s.name=i),next:!1,placeholder:"Select",onSearch:V},null,8,["options","modelValue"]),s.submit&&h.value?(c(),r("div",fe,v(h.value),1)):M("",!0)])]),e("div",pe,[e("div",be,[e("div",{class:"btn red-btn",onClick:t[2]||(t[2]=d(i=>o.value.addDivisionModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),a(p,{show:o.value.confirmDivisionModal,"onUpdate:show":t[6]||(t[6]=i=>o.value.confirmDivisionModal=i),class:"confirm-modal",headerClasses:"header-bg"},{header:_(()=>[De,e("div",{class:"close-btn",onClick:t[4]||(t[4]=d(i=>o.value.confirmDivisionModal=!1,["prevent"]))},[a(f)])]),default:_(()=>[Se,Me,e("div",ge,[e("div",we,[e("div",{class:"btn red-btn",onClick:t[5]||(t[5]=d(i=>o.value.confirmDivisionModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:C},"Delete")])])]),_:1},8,["show"])])}}};export{Ve as default};
