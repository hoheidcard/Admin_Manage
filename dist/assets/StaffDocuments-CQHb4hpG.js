import{u as x,s as H,x as O,d as p,e as z,r as c,o as n,c as i,a as e,b as a,j as r,F,z as Y,f as h,g as _,t as u,w as v,p as B,v as L,E as k,m as G}from"./index-DwPljJjs.js";import{_ as K}from"./no-image-Cge9pZ0v.js";import{_ as q}from"./img-D4b0CCTT.js";import{_ as J}from"./delete-ClllWuc2.js";const Q={class:"user-activity user-profile"},W={class:"table-card"},X={class:"table-header"},Z={class:"left"},ee={class:"title-row"},te={class:"icon"},se=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Documents : List"),e("h5",{class:"main-title"},"Documents")],-1),oe={class:"right"},le={class:"searchbar"},ae=e("input",{type:"text",placeholder:"Search here"},null,-1),ne={class:"icon"},ie={class:"icons"},de=e("div",{class:"tooltip"},"Add Documents",-1),ce={class:"table-body mt-16"},re={class:"table-outer"},ue={class:"table"},_e=e("thead",null,[e("th",null,"#"),e("th",null,"Documents"),e("th",null,"Type"),e("th",null,"Date & Time"),e("th",{class:"text-center"},"Action")],-1),me={class:"s-name flex align-center gap-10"},pe=["src"],ve={key:1,src:K,class:"h-w-3r",alt:""},fe={class:"option-btns"},he=["onClick"],ge=e("div",{class:"tooltip"},"Delete",-1),be={key:0,class:"table-no-data"},De=e("div",null,"No records Found!",-1),we=[De],ye=e("div",{class:"title",showHeader:"true"},"Update Image",-1),Ce={class:"form mb-16"},ke={class:"upload-section"},Se={class:"form-item mb-16"},Me=e("div",{class:"title"},"Documents Type",-1),Ae={class:"select-dropdown"},Ie=e("option",{value:null},"Select",-1),Pe=e("option",{value:"AADHAR CARD"},"AADHAR CARD",-1),Ve=e("option",{value:"PAN CARD"},"PAN CARD",-1),Ue=e("option",{value:"OTHER"},"OTHER",-1),Ee=[Ie,Pe,Ve,Ue],Ne={key:0,class:"err-msg"},Re={class:"form-item mb-16"},Te=e("div",{class:"title"},"Documents Number",-1),je={key:0,class:"err-msg"},$e={class:"pic-upload"},xe=["src"],He={key:1,src:q,class:"dummy-img pic",alt:""},Oe={for:"imgUpload-doc",class:"upload-file-block"},ze={key:0,class:"err-msg"},Fe={class:"modal-footer justify-center"},Ye={class:"btns"},Be=e("div",{class:"title",showHeader:"true"},"Change Status",-1),Le={class:"status-row"},Ge={for:"approve",class:"data"},Ke={class:"data-inner approve-card"},qe=e("div",{class:"title"},"ACTIVE",-1),Je={for:"pending",class:"data"},Qe={class:"data-inner pending-card"},We=e("div",{class:"title"},"PENDING",-1),Xe={for:"block",class:"data"},Ze={class:"data-inner block-card"},et=e("div",{class:"title"},"DEACTIVE",-1),tt={class:"modal-footer"},st={class:"btns"},ot=e("div",{class:"title",showHeader:"true"},"Delete",-1),lt=e("div",{class:"delete-icon"},[e("img",{src:J,alt:""})],-1),at=e("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1),nt={class:"modal-footer"},it={class:"btns"},pt={__name:"StaffDocuments",setup(dt){const m=x();H(),O();const l=p(()=>m.state.OrganizationStaff);p(()=>m.state.OrganizationSettings);const s=z({submit:!1,staffAccountId:null,name:null,subjectId:null,searchKey:null,editMode:!1,imagePreview:null,imagelink:null,documentId:null,file:null,type:null,changeStatus:null});function A(){if(D.value||g.value||b.value){s.submit=!0;return}s.submit=!1,m.dispatch("OrganizationStaff/addStaffDoc",{staffAccountId:l.value.accountId,staffDetailId:l.value.id,type:s.type,documentId:s.documentId,file:s.file,imageUrl:s.imagePreview})}function I(){m.dispatch("OrganizationStaff/deleteStaffDoc",{id:s.subjectId,staffAccountId:l.value.accountId})}function P(){l.value.addDocModal=!0,s.editMode=!1,s.name=null,s.subjectId=null}function V(d){s.subjectId=d,l.value.confirmDocModal=!0}async function U(d){if(d){const t=await d.target;if(t.files[0].type==="image/png"||t.files[0].type==="image/jpg"||t.files[0].type==="image/jpeg"){if(t.files){const f=new FileReader;f.onload=w=>{s.imagePreview=w.target.result},t.files[0]&&(f.readAsDataURL(t.files[0]),s.file=t.files[0])}}else s.imagePreview=null,m.dispatch("Alert/error",{msg:"Upload image in png, jpeg, jpg format."})}}function E(d){return d?G(d).format("MMM Do YYYY hh:mm A"):"-"}const g=p(()=>{if(!s.type)return"Please Select Document Type"}),b=p(()=>{if(!s.documentId)return"Please Enter Document Number"}),D=p(()=>{if(!s.file)return"Please Select a File"});return(d,t)=>{var S;const f=c("icon-user"),w=c("icon-search"),N=c("icon-plus"),R=c("icon-delete"),y=c("icon-cross"),C=c("Modal"),T=c("icon-success"),j=c("icon-warning"),$=c("icon-block");return n(),i("section",Q,[e("div",W,[e("div",X,[e("div",Z,[e("div",ee,[e("div",te,[a(f)]),se])]),e("div",oe,[e("div",le,[ae,e("div",ne,[a(w)])]),e("div",ie,[e("div",{class:"icon tooltip-wrapper",onClick:r(P,["prevent"])},[a(N),de])])])]),e("div",ce,[e("div",re,[e("table",ue,[_e,e("tbody",null,[(n(!0),i(F,null,Y(l.value.staffDocument,(o,M)=>(n(),i("tr",{key:M},[e("td",null,u(M+1),1),e("td",null,[e("div",me,[o.url?(n(),i("img",{key:0,src:o.url,class:"h-w-3r",alt:""},null,8,pe)):(n(),i("img",ve))])]),e("td",null,u(o.type),1),e("td",null,u(E(o.createdAt)),1),e("td",null,[e("div",fe,[e("div",{class:"icon tooltip-wrapper",onClick:r(ct=>V(o.id),["prevent"])},[a(R),ge],8,he)])])]))),128))])])]),((S=l.value.staffDocument)==null?void 0:S.length)<=0?(n(),i("div",be,we)):h("",!0)])]),a(C,{show:l.value.addDocModal,"onUpdate:show":t[5]||(t[5]=o=>l.value.addDocModal=o),centerModal:!0,headerClasses:"header-bg"},{header:_(()=>[ye,e("div",{class:"close-btn",onClick:t[0]||(t[0]=r(o=>l.value.addDocModal=!1,["prevent"]))},[a(y)])]),default:_(()=>[e("form",Ce,[e("div",ke,[e("div",Se,[Me,e("div",Ae,[v(e("select",{name:"",id:"","onUpdate:modelValue":t[1]||(t[1]=o=>s.type=o)},Ee,512),[[B,s.type]])]),s.submit&&g.value?(n(),i("div",Ne,u(g.value),1)):h("",!0)]),e("div",Re,[Te,v(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s.documentId=o),placeholder:"Enter Document Number"},null,512),[[L,s.documentId]]),s.submit&&b.value?(n(),i("div",je,u(b.value),1)):h("",!0)]),e("div",$e,[s.imagePreview?(n(),i("img",{key:0,src:s.imagePreview,class:"preview-image pic",id:"profilePic",alt:""},null,8,xe)):(n(),i("img",He)),e("label",Oe,u(s.imagePreview?"Change Doc":"Upload Doc"),1),e("input",{class:"uploadProfileInput",type:"file",name:"profile_doc",id:"imgUpload-doc",onChange:t[3]||(t[3]=o=>U(o)),style:{display:"none"}},null,32)]),s.submit&&D.value?(n(),i("div",ze,u(D.value),1)):h("",!0)])]),e("div",Fe,[e("div",Ye,[e("div",{class:"btn red-btn",onClick:t[4]||(t[4]=r(o=>l.value.addDocModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:A},"Submit")])])]),_:1},8,["show"]),a(C,{show:l.value.docStatusModal,"onUpdate:show":t[12]||(t[12]=o=>l.value.docStatusModal=o),class:"status-modal",headerClasses:"header-bg"},{header:_(()=>[Be,e("div",{class:"close-btn",onClick:t[6]||(t[6]=r(o=>l.value.docStatusModal=!1,["prevent"]))},[a(y)])]),default:_(()=>[e("div",Le,[e("label",Ge,[v(e("input",{type:"radio","onUpdate:modelValue":t[7]||(t[7]=o=>s.changeStatus=o),value:"ACTIVE",id:"approve",name:"status"},null,512),[[k,s.changeStatus]]),e("div",Ke,[a(T),qe])]),e("label",Je,[v(e("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=o=>s.changeStatus=o),value:"PENDING",id:"pending",name:"status"},null,512),[[k,s.changeStatus]]),e("div",Qe,[a(j),We])]),e("label",Xe,[v(e("input",{type:"radio","onUpdate:modelValue":t[9]||(t[9]=o=>s.changeStatus=o),value:"DEACTIVE",id:"block",name:"status"},null,512),[[k,s.changeStatus]]),e("div",Ze,[a($),et])])]),e("div",tt,[e("div",st,[e("div",{class:"btn red-btn",onClick:t[10]||(t[10]=r(o=>l.value.docStatusModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:t[11]||(t[11]=(...o)=>d.submitStatus&&d.submitStatus(...o))},"Submit")])])]),_:1},8,["show"]),a(C,{show:l.value.confirmDocModal,"onUpdate:show":t[15]||(t[15]=o=>l.value.confirmDocModal=o),class:"confirm-modal",headerClasses:"header-bg"},{header:_(()=>[ot,e("div",{class:"close-btn",onClick:t[13]||(t[13]=r(o=>l.value.confirmDocModal=!1,["prevent"]))},[a(y)])]),default:_(()=>[lt,at,e("div",nt,[e("div",it,[e("div",{class:"btn red-btn",onClick:t[14]||(t[14]=r(o=>l.value.confirmDocModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:I},"Delete")])])]),_:1},8,["show"])])}}};export{pt as default};
