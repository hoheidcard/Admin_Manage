import{u as O,s as U,x as Y,d as h,e as B,r as c,o as i,c as u,a as e,b as a,j as d,F,z as H,f as M,g as b,t as r,m as K}from"./index-DwPljJjs.js";import{_ as L}from"./delete-ClllWuc2.js";const R={class:"user-activity user-profile"},T={class:"table-card"},q={class:"table-header"},E={class:"left"},P={class:"title-row"},G={class:"icon"},J=e("div",{class:"titles"},[e("div",{class:"sub-title"},"Subject : List"),e("h5",{class:"main-title"},"Subject")],-1),Q={class:"right"},W={class:"searchbar"},X=e("input",{type:"text",placeholder:"Search here"},null,-1),Z={class:"icon"},ee={class:"icons"},te=e("div",{class:"tooltip"},"Add Subject",-1),se={class:"table-body mt-16"},oe={class:"table-outer"},ne={class:"table"},le=e("thead",null,[e("th",null,"#"),e("th",null,"Subject"),e("th",null,"Date & Time"),e("th",{class:"text-center"},"Action")],-1),ae={class:"option-btns"},ce=["onClick"],de=e("div",{class:"tooltip"},"Delete",-1),ie={key:0,class:"table-no-data"},ue=e("div",null,"No records Found!",-1),re=[ue],_e={class:"title",showHeader:"true"},be={class:"form mb-16"},ve={class:"form-item mb-16"},he=e("div",{class:"title"},"Subject Name",-1),fe={key:0,class:"err-msg"},me={class:"modal-footer"},pe={class:"btns"},Se=e("div",{class:"title",showHeader:"true"},"Delete",-1),je=e("div",{class:"delete-icon"},[e("img",{src:L,alt:""})],-1),Me=e("h4",{class:"text-gree"}," Are you sure want to Delete? ",-1),ge={class:"modal-footer"},we={class:"btns"},Ie={__name:"StaffSubject",setup(Ce){const _=O();U(),Y();const o=h(()=>_.state.OrganizationStaff),g=h(()=>_.state.OrganizationSettings),t=B({submit:!1,staffAccountId:null,name:null,subjectId:null,searchKey:null,editMode:!1});function w(){if(v.value){t.submit=!0;return}t.submit=!1,_.dispatch("OrganizationStaff/addStaffSubject",{subjectId:t.subjectId,staffDetailId:o.value.id,name:t.name})}function C(){_.dispatch("OrganizationStaff/deleteStaffSubject",{id:t.subjectId})}function k(){o.value.addSubjectModal=!0,t.editMode=!1,t.name=null,t.subjectId=null}function y(l){t.subjectId=l,o.value.confirmSubjectModal=!0}const D=l=>{t.subjectId=l.id},I=l=>{t.searchKey=l};function V(l){return l?K(l).format("MMM Do YYYY hh:mm A"):"-"}const v=h(()=>{if(!t.subjectId)return"Please Select Subject"});return(l,s)=>{var p;const A=c("icon-user"),x=c("icon-search"),z=c("icon-plus"),N=c("icon-delete"),f=c("icon-cross"),$=c("SingleSelect"),m=c("Modal");return i(),u("section",R,[e("div",T,[e("div",q,[e("div",E,[e("div",P,[e("div",G,[a(A)]),J])]),e("div",Q,[e("div",W,[X,e("div",Z,[a(x)])]),e("div",ee,[e("div",{class:"icon tooltip-wrapper",onClick:d(k,["prevent"])},[a(z),te])])])]),e("div",se,[e("div",oe,[e("table",ne,[le,e("tbody",null,[(i(!0),u(F,null,H(o.value.staffSubject,(n,S)=>{var j;return i(),u("tr",{key:S},[e("td",null,r(S+1),1),e("td",null,r((j=n.subject)==null?void 0:j.name),1),e("td",null,r(V(n.createdAt)),1),e("td",null,[e("div",ae,[e("div",{class:"icon tooltip-wrapper",onClick:d(ke=>y(n.id),["prevent"])},[a(N),de],8,ce)])])])}),128))])])]),((p=o.value.staffSubject)==null?void 0:p.length)<=0?(i(),u("div",ie,re)):M("",!0)])]),a(m,{show:o.value.addSubjectModal,"onUpdate:show":s[3]||(s[3]=n=>o.value.addSubjectModal=n),class:"faq-modal",centerModal:!0,headerClasses:"header-bg"},{header:b(()=>[e("div",_e,r(t.editMode?"Update Subject":"Add Subject"),1),e("div",{class:"close-btn",onClick:s[0]||(s[0]=d(n=>o.value.addSubjectModal=!1,["prevent"]))},[a(f)])]),default:b(()=>[e("form",be,[e("div",ve,[he,a($,{options:g.value.subject,onSelected:D,modelValue:t.name,"onUpdate:modelValue":s[1]||(s[1]=n=>t.name=n),next:!1,placeholder:"Select",onSearch:I},null,8,["options","modelValue"]),t.submit&&v.value?(i(),u("div",fe,r(v.value),1)):M("",!0)])]),e("div",me,[e("div",pe,[e("div",{class:"btn red-btn",onClick:s[2]||(s[2]=d(n=>o.value.addSubjectModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:w},"Submit")])])]),_:1},8,["show"]),a(m,{show:o.value.confirmSubjectModal,"onUpdate:show":s[6]||(s[6]=n=>o.value.confirmSubjectModal=n),class:"confirm-modal",headerClasses:"header-bg"},{header:b(()=>[Se,e("div",{class:"close-btn",onClick:s[4]||(s[4]=d(n=>o.value.confirmSubjectModal=!1,["prevent"]))},[a(f)])]),default:b(()=>[je,Me,e("div",ge,[e("div",we,[e("div",{class:"btn red-btn",onClick:s[5]||(s[5]=d(n=>o.value.confirmSubjectModal=!1,["prevent"]))},"Cancel"),e("div",{class:"btn white-btn",onClick:C},"Delete")])])]),_:1},8,["show"])])}}};export{Ie as default};
