import{s as _e,u as we,k as I,e as ke,d as G,n as Se,G as De,H as Ve,r as C,o as d,c as r,a as n,b as m,w as y,v as x,y as _,I as v,f as p,j as l,F as E,z as L,g as $,J as B,K as J,q as K,t as Q,L as j,h as Ie}from"./index-DwPljJjs.js";import{_ as Z}from"./camera-B4WFWT0E.js";import{s as Y}from"./studentFields-fvyCakD3.js";const X="/qr.png",ee="/barcode.png",Ce=[{name:"0px solid"},{name:"1px solid"},{name:"2px solid"},{name:"3px solid"},{name:"4px solid"},{name:"5px solid"},{name:"6px solid"},{name:"7px solid"},{name:"8px solid"},{name:"9px solid"}],Te=[{name:"0px"},{name:"1px"},{name:"2px"},{name:"3px"},{name:"4px"},{name:"5px"},{name:"6px"},{name:"7px"},{name:"8px"},{name:"9px"},{name:"10px"},{name:"11px"},{name:"12px"},{name:"13px"},{name:"14px"},{name:"15px"},{name:"16px"},{name:"17px"},{name:"18px"},{name:"19px"}],ze=[{name:"Roboto, sans-serif"},{name:"Zilla Slab Highlight, cursive"},{name:"Open Sans, sans-serif"},{name:"Spectral, serif"},{name:"Slabo 27px, serif"},{name:"Lato, sans-serif"},{name:"Roboto Condensed, sans-serif"},{name:"Oswald, sans-serif"},{name:"Source Sans Pro, sans-serif"},{name:"Raleway, sans-serif"},{name:"Zilla Slab, serif"},{name:"Montserrat, sans-serif"},{name:"PT Sans, sans-serif"},{name:"Roboto Slab, serif"},{name:"Merriweather, serif"},{name:"Saira Condensed, sans-serif"},{name:"Saira, sans-serif"},{name:"Open Sans Condensed, sans-serif"},{name:"Saira Semi Condensed, sans-serif"},{name:"Saira Extra Condensed, sans-serif"},{name:"Julee, cursive"},{name:"Archivo, sans-serif"},{name:"Ubuntu, sans-serif"},{name:"Lora, serif"},{name:"Manuale, serif"},{name:"Asap Condensed, sans-serif"},{name:"Faustina, serif"},{name:"Cairo, sans-serif"},{name:"Playfair Display, serif"},{name:"Droid Serif, serif"},{name:"Noto Sans, sans-serif"},{name:"PT Serif, serif"},{name:"Droid Sans, sans-serif"},{name:"Arimo, sans-serif"},{name:"Poppins, sans-serif"},{name:"Sedgwick Ave Display, cursive"},{name:"Titillium Web, sans-serif"},{name:"Muli, sans-serif"},{name:"Sedgwick Ave, cursive"},{name:"Indie Flower, cursive"},{name:"Mada, sans-serif"},{name:"PT Sans Narrow, sans-serif"},{name:"Noto Serif, serif"},{name:"Bitter, serif"},{name:"Dosis, sans-serif"},{name:"Josefin Sans, sans-serif"},{name:"Inconsolata, monospace"},{name:"Bowlby One SC, cursive"},{name:"Oxygen, sans-serif"},{name:"Arvo, serif"},{name:"Hind, sans-serif"},{name:"Cabin, sans-serif"},{name:"Fjalla One, sans-serif"},{name:"Anton, sans-serif"},{name:"Cairo, sans-serif"},{name:"Playfair Display, serif"},{name:"Droid Serif, serif"},{name:"Noto Sans, sans-serif"},{name:"PT Serif, serif"},{name:"Droid Sans, sans-serif"},{name:"Arimo, sans-serif"},{name:"Poppins, sans-serif"},{name:"Sedgwick Ave Display, cursive"},{name:"Titillium Web, sans-serif"},{name:"Muli, sans-serif"},{name:"Sedgwick Ave, cursive"},{name:"Indie Flower, cursive"},{name:"Mada, sans-serif"},{name:"PT Sans Narrow, sans-serif"},{name:"Noto Serif, serif"},{name:"Bitter, serif"},{name:"Dosis, sans-serif"},{name:"Josefin Sans, sans-serif"},{name:"Inconsolata, monospace"},{name:"Bowlby One SC, cursive"},{name:"Oxygen, sans-serif"},{name:"Arvo, serif"},{name:"Hind, sans-serif"},{name:"Cabin, sans-serif"},{name:"Fjalla One, sans-serif"},{name:"Anton, sans-serif"},{name:"Acme, sans-serif"},{name:"Archivo Narrow, sans-serif"},{name:"Mukta Vaani, sans-serif"},{name:"Play, sans-serif"},{name:"Cuprum, sans-serif"},{name:"Maven Pro, sans-serif"},{name:"EB Garamond, serif"},{name:"Passion One, cursive"},{name:"Ropa Sans, sans-serif"},{name:"Francois One, sans-serif"},{name:"Archivo Black, sans-serif"},{name:"Pathway Gothic One, sans-serif"},{name:"Exo, sans-serif"},{name:"Vollkorn, serif"},{name:"Libre Franklin, sans-serif"},{name:"Crete Round, serif"},{name:"Alegreya, serif"},{name:"PT Sans Caption, sans-serif"},{name:"Alegreya Sans, sans-serif"},{name:"Source Code Pro, monospace"}],Me=[{id:"4px",name:"4px"},{id:"5px",name:"5px"},{id:"6px",name:"6px"},{id:"7px",name:"7px"},{id:"8px",name:"8px"},{id:"9px",name:"9px"},{id:"10px",name:"10px"},{id:"11px",name:"11px"},{id:"12px",name:"12px"},{id:"13px",name:"13px"},{id:"14px",name:"14px"},{id:"15px",name:"15px"},{id:"16px",name:"16px"},{id:"17px",name:"17px"},{id:"18px",name:"18px"},{id:"19px",name:"19px"},{id:"20px",name:"20px"},{id:"31px",name:"31px"},{id:"32px",name:"32px"},{id:"33px",name:"33px"},{id:"34px",name:"34px"},{id:"35px",name:"35px"},{id:"36px",name:"36px"},{id:"37px",name:"37px"},{id:"38px",name:"38px"},{id:"39px",name:"39px"},{id:"40px",name:"40px"},{id:"41px",name:"41px"},{id:"42px",name:"42px"},{id:"43px",name:"43px"},{id:"44px",name:"44px"},{id:"45px",name:"45px"},{id:"46px",name:"46px"},{id:"47px",name:"47px"},{id:"48px",name:"48px"},{id:"49px",name:"49px"},{id:"50px",name:"50px"},{id:"51px",name:"51px"},{id:"52px",name:"52px"},{id:"53px",name:"53px"},{id:"54px",name:"54px"},{id:"55px",name:"55px"},{id:"56px",name:"56px"},{id:"57px",name:"57px"},{id:"58px",name:"58px"},{id:"59px",name:"59px"},{id:"60px",name:"60px"},{id:"61px",name:"61px"},{id:"62px",name:"62px"},{id:"63px",name:"63px"},{id:"64px",name:"64px"},{id:"65px",name:"65px"},{id:"66px",name:"66px"},{id:"67px",name:"67px"},{id:"68px",name:"68px"},{id:"69px",name:"69px"},{id:"70px",name:"70px"}],Be=[{name:"rotate(45deg)"},{name:"rotate(90deg)"},{name:"rotate(135deg)"},{name:"rotate(180deg)"},{name:"rotate(225deg)"},{name:"rotate(270deg)"},{name:"rotate(315deg)"},{name:"rotate(360deg)"}],He={class:"card-design-page"},qe={key:0},$e=n("h4",{style:{"text-align":"center"}},"Unsupported Device!",-1),Re=[$e],Ue={key:1,class:"container"},Oe={class:"left-card main-card"},Ae={class:"card-header"},Ne={class:"left"},Pe=n("h5",null,"Id Card Editor",-1),We={class:"card-body"},Fe={class:"form"},Ge={class:"row"},Ee={class:"form-item mb-16"},Le=n("div",{class:"title mb-10-i"},"Height(mm)",-1),Je={class:"form-item mb-16"},Ke=n("div",{class:"title mb-10-i"},"Width(mm)",-1),Qe={class:"row"},je={class:"form-item mb-16"},Ze=n("div",{class:"title mb-10-i"},"Horizontal Gap(mm)",-1),Ye={class:"form-item mb-16"},Xe=n("div",{class:"title mb-10-i"},"Vertical Gap(mm)",-1),et={class:"row"},tt={class:"form-item mb-16"},nt=n("div",{class:"title mb-10-i"},"Type",-1),ot={class:"form-item mb-16"},at=n("div",{class:"title mb-10-i"},"Side",-1),st={class:"row"},it={class:"form-item mb-16"},dt=n("div",{class:"title mb-10-i"},"Front Image",-1),rt={class:"form-item mb-16"},lt=n("div",{class:"title mb-10-i"},"Back Image",-1),pt={key:0},mt={key:0},ct={class:"form-item mb-16"},ut=n("div",{class:"title mb-10-i"},"Title",-1),ft={class:"form-item mb-16"},vt={class:"row"},ht={class:"form-item mb-16"},yt={class:"form-item mb-16"},xt={class:"form-item mb-16"},bt={class:"row"},gt={class:"form-item mb-16"},_t={class:"form-item mb-16"},wt={key:1},kt={class:"row"},St={class:"form-item mb-16"},Dt={class:"form-item mb-16"},Vt={class:"form-item mb-16"},It={class:"row"},Ct={class:"form-item mb-16"},Tt=n("div",{class:"title mb-10-i"},"Top",-1),zt={class:"quantity"},Mt={class:"form-item mb-16"},Bt=n("div",{class:"title mb-10-i"},"Left",-1),Ht={class:"quantity"},qt={class:"row"},$t={class:"form-item mb-16"},Rt=n("div",{class:"title mb-10-i"},"Height",-1),Ut={class:"quantity"},Ot={class:"form-item mb-16"},At=n("div",{class:"title mb-10-i"},"Width",-1),Nt={class:"quantity"},Pt={class:"row"},Wt={class:"form-item mb-16"},Ft={class:"form-item mb-16"},Gt={class:"form-btns mb-16",style:{"flex-wrap":"wrap","justify-content":"start"}},Et=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-fonts",viewBox:"0 0 16 16"},[n("path",{d:"M12.258 3h-8.51l-.083 2.46h.479c.26-1.544.758-1.783 2.693-1.845l.424-.013v7.827c0 .663-.144.82-1.3.923v.52h4.082v-.52c-1.162-.103-1.306-.26-1.306-.923V3.602l.431.013c1.934.062 2.434.301 2.693 1.846h.479z"})],-1),Lt=[Et],Jt=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-image",viewBox:"0 0 16 16"},[n("path",{d:"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"}),n("path",{d:"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"})],-1),Kt=[Jt],Qt=Ie('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-qr-code" viewBox="0 0 16 16"><path d="M2 2h2v2H2z"></path><path d="M6 0v6H0V0zM5 1H1v4h4zM4 12H2v2h2z"></path><path d="M6 10v6H0v-6zm-5 1v4h4v-4zm11-9h2v2h-2z"></path><path d="M10 0v6h6V0zm5 1v4h-4V1zM8 1V0h1v2H8v2H7V1zm0 5V4h1v2zM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8zm0 0v1H2V8H1v1H0V7h3v1zm10 1h-1V7h1zm-1 0h-1v2h2v-1h-1zm-4 0h2v1h-1v1h-1zm2 3v-1h-1v1h-1v1H9v1h3v-2zm0 0h3v1h-2v1h-1zm-4-1v1h1v-2H7v1z"></path><path d="M7 12h1v3h4v1H7zm9 2v2h-3v-1h2v-1z"></path></svg>',1),jt=[Qt],Zt=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-upc",viewBox:"0 0 16 16"},[n("path",{d:"M3 4.5a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0z"})],-1),Yt=[Zt],Xt=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[n("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"}),n("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"})],-1),en=[Xt],tn=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-zoom-in",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0"}),n("path",{d:"M10.344 11.742q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1 6.5 6.5 0 0 1-1.398 1.4z"}),n("path",{"fill-rule":"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5"})],-1),nn=[tn],on=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-zoom-out",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0"}),n("path",{d:"M10.344 11.742q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1 6.5 6.5 0 0 1-1.398 1.4z"}),n("path",{"fill-rule":"evenodd",d:"M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5"})],-1),an=[on],sn={class:"form-item save-btn mb-16 col-5"},dn={key:1,class:"form-item save-btn mb-16 col-5"},rn={class:"right-design"},ln={class:"design-card-outer"},pn={style:{width:"100%",height:"100%"}},mn=["id"],cn=["id"],un=["id"],fn=["id"],vn={style:{width:"100%",height:"100%"}},hn=["id"],yn=["id"],xn=["id"],bn=["id"],gn=n("div",{class:"title",showHeader:"true"},"Add Text/Image/QR/Barcode",-1),_n={class:"form mb-16"},wn={key:0,class:"form-item mb-16"},kn=n("div",{class:"title"},"Type",-1),Sn={key:1,class:"form-item mb-16"},Dn=n("div",{class:"title"},"Component Id",-1),Vn={key:2,class:"form-item mb-16"},In=n("div",{class:"title"},"Component Id",-1),Cn={key:3,class:"form-item mb-16"},Tn=n("div",{class:"title"},"Component Name",-1),zn={class:"modal-footer"},Mn={class:"btns"},Rn={__name:"Editor",setup(Bn){const s=_e(),w=we(),R=I([]),U=I([]),T=I(1),e=ke({colorModal:!1,cardHeight:60,cardWidth:40,cardVerticalGap:0,cardHorizontalGap:0,cardType:"Other",cardSide:"Single",frontBackgroundFile:"",frontBackground:"",backBackgroundFile:"",backBackground:"",editComponentModal:!1,addComponentModal:!1,componentId:"",componentTitle:"",componentName:"",componentType:"Text",keyValueType:"Title",imageUrl:"",componentData:null,componentIndex:null,deviceWidth:1e3}),h=I(!1),te=()=>{h.value=!h.value},ne=[{id:"Staff",name:"Staff"},{id:"Student",name:"Student"},{id:"Parent",name:"Parent"},{id:"Other",name:"Other"}],oe=[{id:"Title",name:"Title"},{id:"Value",name:"Value"}],ae=[{id:"Single",name:"Single"},{id:"Double",name:"Double"}],se=[{id:"Normal",name:"Normal"},{id:"italic",name:"Italic"}],ie=[{id:"Normal",name:"Normal"},{id:"bold",name:"Bold"}],de=[{id:"start",name:"start"},{id:"center",name:"center"},{id:"end",name:"end"}];let N="";const re=G(()=>{const a=window.devicePixelRatio*192;return e.cardHeight/25.4*a}),le=G(()=>{const a=window.devicePixelRatio*192;return e.cardWidth/25.4*a}),pe=()=>{T.value<1.7&&(T.value+=.1)},me=()=>{T.value>.5&&(T.value-=.1)},b=I([]),g=I([]),ce=async()=>{const a=await w.dispatch("IdCardStock/getEditor",{id:s.query.id,settingId:s.query.settingId,type:s.query.from,sp:s.query.sp});if(a.status===200&&a.data.card){const t=JSON.parse(a.data.card);b.value=t.frontCard,e.backBackground=t.backCardImage,g.value=t.backCard,e.frontBackground=t.frontCardImage,e.cardHeight=t.cardHeight,e.cardWidth=t.cardWidth,e.cardVerticalGap=t.cardVerticalGap,e.cardHorizontalGap=t.cardHorizontalGap,e.cardType=t.type,e.cardSide=t.side}},ue=async()=>{if(s.query.from==="Class"||s.query.from==="House"){const a=await w.dispatch("IdCardStock/findMaxDetailStudent",{settingId:s.query.settingId});a.status===200&&a.data&&Y.forEach(async t=>{const i=document.getElementById(t.name);i&&(await B(),i.tagName.toLowerCase()==="img"?i.src=a.data[t.id]||"":i.innerText=a.data[t.id]||"")})}if(s.query.from==="Class"||s.query.from==="Designation"){const a=await w.dispatch("IdCardStock/findMaxDetailStaff",{settingId:s.query.settingId});a.status===200&&a.data}};Se(()=>{(s.query.type==="Staff"||s.query.type==="Student")&&(e.cardType=s.query.type),ce()});const O=()=>{e.deviceWidth=window.innerWidth};De(()=>{O(),window.addEventListener("resize",O)}),Ve(()=>{window.removeEventListener("resize",O)});const fe=async()=>{const a=e.componentIndex;(h.value?g.value:b.value).splice(a,1),e.componentData=null},ve=async a=>{const t=e.componentIndex,i=h.value?g.value:b.value;i[t]={...i[t],rotate:a.name,style:{transform:`translate(${i[t].props.top}px, ${i[t].props.left}px) ${a.name}`,"z-index":"auto","user-select":"auto"}};const c=document.getElementById("component-"+t);c&&(await B(),c.style.transform=`translate(${i[t].props.top}px, ${i[t].props.left}px) ${a.name}`)},S=async(a,t)=>{const i=e.componentIndex;await B();const c=h.value?U.value:R.value,u=c[i]&&c[i].$el;if(!u)return;const z=u.getBoundingClientRect(),{width:V,height:M}=z,o=h.value?g.value:b.value;o[i]={...o[i],props:{w:V,h:M,top:a,left:t},style:{transform:`translate(${a}px, ${t}px)`,"z-index":"auto","user-select":"auto"}}},D=async(a,t)=>{const i=e.componentIndex;await B();const c=h.value?g.value:b.value;c[i]={...c[i],props:{...c[i].props,w:t,h:a},style:{width:`${t}px`,height:`${a}px`}}},H=async a=>{await B();const t=h.value?document.querySelector(".back-side"):document.querySelector(".front-side"),i=h.value?U.value:R.value,c=i[a]&&i[a].$el;if(!c)return;const u=t.getBoundingClientRect(),z=c.getBoundingClientRect(),{width:V,height:M,left:o,top:f}=z,{left:k,top:ge}=u,W=o-k-4,F=f-ge-4,A=h.value?g.value:b.value;A[a]={...A[a],props:{w:V,h:M,top:F,left:W},style:{transform:`translate(${W}px, ${F}px)`}},e.componentData=A[a]},he=()=>{if(N==="copy"){let a=null;e.componentType==="Image"&&(a={type:e.componentType,height:"100%",width:"100%","border-radius":"1px",border:"0px solid","border-color":"#000000"}),e.componentType==="QR"&&(a={type:e.componentType,height:"100%",width:"100%","border-radius":"1px",border:"0px solid","border-color":"#000000"}),e.componentType==="Barcode"&&(a={type:e.componentType,height:"100%",width:"100%","border-radius":"1px",border:"0px solid","border-color":"#000000"}),e.componentType==="Text"&&(a={type:e.componentType,color:"#000000","font-weight":"Normal","font-style":"Normal","font-size":"12px","line-height":1,"font-family":"","text-align":"start"}),h.value?g.value.push({type:"vue-draggable-resizable",props:{w:200,h:50,top:0,left:0},content:a,rotate:"rotate(0deg)",id:e.componentId,name:e.componentName}):b.value.push({type:"vue-draggable-resizable",props:{w:200,h:50,top:0,left:0},content:a,rotate:"rotate(0deg)",id:e.componentId,name:e.componentName})}e.addComponentModal=!1,e.componentName="",e.componentId="",e.componentType="",e.imageUrl=""};async function ye(a){const t=a.target.files[0];if(t&&t.type.startsWith("image/"))try{const i=await J.createImage(t);e.frontBackground=i.data.image}catch{alert("Please upload a valid image file.")}else alert("Please upload a valid image file.");a.target.files=null}async function xe(a){const t=a.target.files[0];if(t&&t.type.startsWith("image/"))try{const i=await J.createImage(t);e.backBackground=i.data.image}catch{alert("Please upload a valid image file.")}else alert("Please upload a valid image file.");a.target.files=null}const q=a=>{e.componentType=a,N="copy",e.addComponentModal=!0},P=(a,t)=>{e.componentData=a,e.componentIndex=t},be=()=>{if(!s.query.id)return;const a=JSON.stringify({frontCard:b.value,backCardImage:e.backBackground,backCard:g.value,frontCardImage:e.frontBackground,cardHeight:e.cardHeight,cardWidth:e.cardWidth,cardVerticalGap:e.cardVerticalGap,cardHorizontalGap:e.cardHorizontalGap,type:e.cardType,side:e.cardSide});s.query.from==="Editor"&&w.dispatch("IdCardStock/updateProduct",{id:s.query.id,card:a}),s.query.from==="Class"&&(s.query.sp==="Student"&&w.dispatch("IdCardStock/updateIdCardClassStudent",{id:s.query.id,card:a,settingId:s.query.settingId}),s.query.sp==="Father"&&w.dispatch("IdCardStock/updateIdCardParent",{id:s.query.id,card:a,settingId:s.query.settingId})),s.query.from==="Designation"&&w.dispatch("IdCardStock/updateIdCardDesignation",{id:s.query.id,card:a,settingId:s.query.settingId}),s.query.from==="House"&&w.dispatch("IdCardStock/updateIdCardHouse",{id:s.query.id,card:a,settingId:s.query.settingId})};return(a,t)=>{const i=C("icon-card"),c=C("Select"),u=C("FontSelect"),z=C("icon-cross"),V=C("single-select"),M=C("Modal");return d(),r("section",He,[e.deviceWidth<768?(d(),r("div",qe,Re)):(d(),r("div",Ue,[n("div",Oe,[n("div",Ae,[n("div",Ne,[m(i),Pe])]),n("div",We,[n("form",Fe,[n("div",Ge,[n("div",Ee,[Le,y(n("input",{type:"number",id:"card_height","onUpdate:modelValue":t[0]||(t[0]=o=>e.cardHeight=o),placeholder:"Card Height"},null,512),[[x,e.cardHeight]])]),n("div",Je,[Ke,y(n("input",{type:"number",id:"card_width","onUpdate:modelValue":t[1]||(t[1]=o=>e.cardWidth=o),placeholder:"Card Width"},null,512),[[x,e.cardWidth]])])]),n("div",Qe,[n("div",je,[Ze,y(n("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>e.cardHorizontalGap=o),placeholder:"Card Gap"},null,512),[[x,e.cardHorizontalGap]])]),n("div",Ye,[Xe,y(n("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>e.cardVerticalGap=o),placeholder:"Gap"},null,512),[[x,e.cardVerticalGap]])])]),n("div",et,[n("div",tt,[nt,m(c,{modelValue:e.cardType,"onUpdate:modelValue":t[4]||(t[4]=o=>e.cardType=o),options:ne,placeholder:"Select Type"},null,8,["modelValue"])]),n("div",ot,[at,m(c,{modelValue:e.cardSide,"onUpdate:modelValue":t[5]||(t[5]=o=>e.cardSide=o),options:ae,placeholder:"Select Side"},null,8,["modelValue"])])]),n("div",st,[n("div",it,[dt,n("input",{type:"file",onChange:ye,placeholder:"Front Background"},null,32)]),n("div",rt,[lt,n("input",{type:"file",onChange:xe,placeholder:"Back Background"},null,32)])]),e.componentData?(d(),r("div",pt,[e.componentData.content.type=="Text"?(d(),r("div",mt,[n("div",ct,[ut,y(n("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>e.componentData.name=o),placeholder:"Title"},null,512),[[x,e.componentData.name]])]),n("div",ft,[m(u,{modelValue:e.componentData.content["font-family"],"onUpdate:modelValue":t[7]||(t[7]=o=>e.componentData.content["font-family"]=o),options:_(ze),placeholder:"Select Font"},null,8,["modelValue","options"])]),n("div",vt,[n("div",ht,[m(u,{modelValue:e.componentData.content["font-weight"],"onUpdate:modelValue":t[8]||(t[8]=o=>e.componentData.content["font-weight"]=o),options:ie,placeholder:"Select Weight"},null,8,["modelValue"])]),n("div",yt,[m(u,{modelValue:e.componentData.content["font-style"],"onUpdate:modelValue":t[9]||(t[9]=o=>e.componentData.content["font-style"]=o),options:se,placeholder:"Select Style"},null,8,["modelValue"])]),n("div",xt,[m(u,{modelValue:e.componentData.content["text-align"],"onUpdate:modelValue":t[10]||(t[10]=o=>e.componentData.content["text-align"]=o),options:de,placeholder:"Select Align"},null,8,["modelValue"])])]),n("div",bt,[n("div",gt,[y(n("input",{type:"color","onUpdate:modelValue":t[11]||(t[11]=o=>e.componentData.content.color=o),style:v({backgroundColor:e.componentData.content.color})},null,4),[[x,e.componentData.content.color]])]),n("div",_t,[m(u,{modelValue:e.componentData.content["font-size"],"onUpdate:modelValue":t[12]||(t[12]=o=>e.componentData.content["font-size"]=o),options:_(Me),placeholder:"Select Size"},null,8,["modelValue","options"])])])])):p("",!0),e.componentData.content.type=="Image"?(d(),r("div",wt,[n("div",kt,[n("div",St,[y(n("input",{type:"color","onUpdate:modelValue":t[13]||(t[13]=o=>e.componentData.content["border-color"]=o),style:v({backgroundColor:e.componentData.content["border-color"]})},null,4),[[x,e.componentData.content["border-color"]]])]),n("div",Dt,[m(u,{modelValue:e.componentData.content.border,"onUpdate:modelValue":t[14]||(t[14]=o=>e.componentData.content.border=o),options:_(Ce),placeholder:"Select Border"},null,8,["modelValue","options"])]),n("div",Vt,[m(u,{modelValue:e.componentData.content["border-radius"],"onUpdate:modelValue":t[15]||(t[15]=o=>e.componentData.content["border-radius"]=o),options:_(Te),placeholder:"Select Radius"},null,8,["modelValue","options"])])])])):p("",!0),n("div",It,[n("div",Ct,[Tt,n("div",zt,[n("button",{type:"button",class:"plus","aria-label":"Decrease",onClick:t[16]||(t[16]=l(o=>S(e.componentData.props.top-=1,e.componentData.props.left),["prevent"]))}," − "),y(n("input",{type:"number",class:"input-box","onUpdate:modelValue":t[17]||(t[17]=o=>e.componentData.props.top=o),onKeydown:t[18]||(t[18]=o=>S(e.componentData.props.top,e.componentData.props.left))},null,544),[[x,e.componentData.props.top]]),n("button",{type:"button",class:"plus","aria-label":"Increase",onClick:t[19]||(t[19]=l(o=>S(e.componentData.props.top+=1,e.componentData.props.left),["prevent"]))}," + ")])]),n("div",Mt,[Bt,n("div",Ht,[n("button",{type:"button",class:"plus","aria-label":"Decrease",onClick:t[20]||(t[20]=l(o=>S(e.componentData.props.top,e.componentData.props.left-=1),["prevent"]))}," − "),y(n("input",{type:"number",class:"input-box","onUpdate:modelValue":t[21]||(t[21]=o=>e.componentData.props.left=o),onKeydown:t[22]||(t[22]=o=>S(e.componentData.props.top,e.componentData.props.left))},null,544),[[x,e.componentData.props.left]]),n("button",{type:"button",class:"plus","aria-label":"Increase",onClick:t[23]||(t[23]=l(o=>S(e.componentData.props.top,e.componentData.props.left+=1),["prevent"]))}," + ")])])]),n("div",qt,[n("div",$t,[Rt,n("div",Ut,[n("button",{type:"button",class:"plus","aria-label":"Decrease",onClick:t[24]||(t[24]=l(o=>D(e.componentData.props.h-=1,e.componentData.props.w),["prevent"]))}," − "),y(n("input",{type:"number",class:"input-box","onUpdate:modelValue":t[25]||(t[25]=o=>e.componentData.props.h=o),onKeydown:t[26]||(t[26]=o=>D(e.componentData.props.h,e.componentData.props.w))},null,544),[[x,e.componentData.props.h]]),n("button",{type:"button",class:"plus","aria-label":"Increase",onClick:t[27]||(t[27]=l(o=>D(e.componentData.props.h+=1,e.componentData.props.w),["prevent"]))}," + ")])]),n("div",Ot,[At,n("div",Nt,[n("button",{type:"button",class:"plus","aria-label":"Decrease",onClick:t[28]||(t[28]=l(o=>D(e.componentData.props.h,e.componentData.props.w-=1),["prevent"]))}," − "),y(n("input",{type:"number",class:"input-box","onUpdate:modelValue":t[29]||(t[29]=o=>e.componentData.props.w=o),onKeydown:t[30]||(t[30]=o=>D(e.componentData.props.h,e.componentData.props.w))},null,544),[[x,e.componentData.props.w]]),n("button",{type:"button",class:"plus","aria-label":"Increase",onClick:t[31]||(t[31]=l(o=>D(e.componentData.props.h,e.componentData.props.w+=1),["prevent"]))}," + ")])])]),n("div",Pt,[n("div",Wt,[m(u,{modelValue:e.componentData.rotate,"onUpdate:modelValue":t[32]||(t[32]=o=>e.componentData.rotate=o),options:_(Be),onSelected:t[33]||(t[33]=o=>ve(o)),placeholder:"Select Rotation"},null,8,["modelValue","options"])]),n("div",Ft,[n("button",{type:"button",class:"btn red-btn",onClick:l(fe,["prevent"])}," Delete ")])])])):p("",!0),n("div",Gt,[n("button",{type:"button",class:"btn white-btn w-25",onClick:t[34]||(t[34]=l(o=>q("Text"),["prevent"]))},Lt),n("button",{type:"button",class:"btn white-btn w-25",onClick:t[35]||(t[35]=l(o=>q("Image"),["prevent"]))},Kt),n("button",{type:"button",class:"btn white-btn w-25",onClick:t[36]||(t[36]=l(o=>q("QR"),["prevent"]))},jt),n("button",{type:"button",class:"btn white-btn w-25",onClick:t[37]||(t[37]=l(o=>q("Barcode"),["prevent"]))},Yt),e.cardSide==="Double"?(d(),r("button",{key:0,type:"button",class:"btn white-btn w-25",onClick:te},en)):p("",!0),n("button",{type:"button",class:"btn white-btn w-25",onClick:pe},nn),n("button",{type:"button",class:"btn white-btn w-25",onClick:l(me,["prevent"])},an)]),n("div",sn,[n("button",{type:"button",class:"btn primary-btn",onClick:l(be,["prevent"])}," Save ")]),_(s).query.from=="Class"||_(s).query.from=="House"||_(s).query.from=="Designation"?(d(),r("div",dn,[n("button",{type:"button",class:"btn primary-btn",onClick:l(ue,["prevent"])}," Max Data Fill ")])):p("",!0)])])]),n("div",rn,[n("div",ln,[n("div",{class:"design-card",style:v({height:re.value+"px",width:le.value+"px",transform:`rotateY(${h.value?180:0}deg) scale(${T.value})`,marginTop:"5rem"})},[n("div",{class:"front-side",style:v({width:"100%",height:"100%",display:"flex",overflow:"hidden",padding:"3px 3px",border:"1px solid #ccc",backgroundImage:e.frontBackground?`url(${e.frontBackground})`:"none","background-size":"cover","background-position":"center"})},[(d(!0),r(E,null,L(b.value,(o,f)=>(d(),r("div",{key:f},[(d(),K(j(o.type),{h:o.props.h,w:o.props.w,x:o.props.left,y:o.props.top,parent:o.props.parent,onResize:k=>H(f),onDrag:k=>H(f),onActivated:k=>P(o,f),ref_for:!0,ref_key:"frontComponentRefs",ref:R,id:"component-"+f},{default:$(()=>[n("div",pn,[o.content.type==="Image"?(d(),r("img",{key:0,id:o.id,style:v(o.content),src:Z,alt:""},null,12,mn)):p("",!0),o.content.type==="QR"?(d(),r("img",{key:1,id:o.id,style:v(o.content),src:X,alt:""},null,12,cn)):p("",!0),o.content.type==="Barcode"?(d(),r("img",{key:2,id:o.id,style:v(o.content),src:ee,alt:""},null,12,un)):p("",!0),o.content.type==="Text"?(d(),r("div",{key:3,style:v(o.content),id:o.id},Q(o.name),13,fn)):p("",!0)])]),_:2},1064,["h","w","x","y","parent","onResize","onDrag","onActivated","id"]))]))),128))],4),n("div",{class:"back-side",style:v({width:"100%",height:"100%",display:"flex",overflow:"hidden",padding:"3px 3px",border:"1px solid #ccc",backgroundImage:e.backBackground?`url(${e.backBackground})`:"none","background-size":"cover","background-position":"center"})},[(d(!0),r(E,null,L(g.value,(o,f)=>(d(),r("div",{key:f},[(d(),K(j(o.type),{h:o.props.h,w:o.props.w,x:o.props.left,y:o.props.top,parent:o.props.parent,onResize:k=>H(f),onDrag:k=>H(f),onActivated:k=>P(o,f),id:"component-"+f,ref_for:!0,ref_key:"backComponentRefs",ref:U},{default:$(()=>[n("div",vn,[o.content.type==="Image"?(d(),r("img",{key:0,id:o.id,style:v(o.content),src:Z,alt:""},null,12,hn)):p("",!0),o.content.type==="QR"?(d(),r("img",{key:1,id:o.id,style:v(o.content),src:X,alt:""},null,12,yn)):p("",!0),o.content.type==="Barcode"?(d(),r("img",{key:2,id:o.id,style:v(o.content),src:ee,alt:""},null,12,xn)):p("",!0),o.content.type==="Text"?(d(),r("div",{key:3,style:v(o.content),id:o.id},Q(o.name),13,bn)):p("",!0)])]),_:2},1064,["h","w","x","y","parent","onResize","onDrag","onActivated","id"]))]))),128))],4)],4)])])])),m(M,{show:e.addComponentModal,"onUpdate:show":t[44]||(t[44]=o=>e.addComponentModal=o),class:"faq-modal",headerClasses:"header-bg"},{header:$(()=>[gn,n("div",{class:"close-btn",onClick:t[38]||(t[38]=l(o=>e.addComponentModal=!1,["prevent"]))},[m(z)])]),default:$(()=>[n("form",_n,[e.cardType!=="Other"?(d(),r("div",wn,[kn,m(u,{options:oe,modelValue:e.keyValueType,"onUpdate:modelValue":t[39]||(t[39]=o=>e.keyValueType=o)},null,8,["modelValue"])])):p("",!0),e.keyValueType=="Value"&&e.cardType==="Staff"?(d(),r("div",Sn,[Dn,m(V,{options:a.staffFields,modelValue:e.componentId,"onUpdate:modelValue":t[40]||(t[40]=o=>e.componentId=o)},null,8,["options","modelValue"])])):p("",!0),e.keyValueType=="Value"&&e.cardType==="Student"?(d(),r("div",Vn,[In,m(V,{options:_(Y),modelValue:e.componentId,"onUpdate:modelValue":t[41]||(t[41]=o=>e.componentId=o)},null,8,["options","modelValue"])])):p("",!0),e.componentType=="Text"?(d(),r("div",Cn,[Tn,y(n("input",{type:"text",placeholder:"Enter","onUpdate:modelValue":t[42]||(t[42]=o=>e.componentName=o),maxlength:"30"},null,512),[[x,e.componentName]])])):p("",!0)]),n("div",zn,[n("div",Mn,[n("div",{class:"btn red-btn",type:"button",onClick:t[43]||(t[43]=l(o=>e.addComponentModal=!1,["prevent"]))}," Cancel "),n("div",{class:"btn white-btn",type:"button",onClick:l(he,["prevent"])}," Create ")])])]),_:1},8,["show"])])}}};export{Rn as default};
